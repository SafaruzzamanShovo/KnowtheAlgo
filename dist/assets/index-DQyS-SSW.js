var sf=Object.defineProperty;var af=(e,t,n)=>t in e?sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ht=(e,t,n)=>af(e,typeof t!="symbol"?t+"":t,n);import{j as o,B as of,S as lf,X as Lt,M as qa,A as rn,m as oe,H as cf,a as Ga,b as Vt,C as Yn,c as uf,L as df,d as Lr,e as hf,D as ra,G as Ci,f as gf,g as ff,h as sn,Q as Qc,i as Zc,k as Qi,l as pf,T as eu,n as mf,o as Zi,p as Pr,q as es,r as tu,F as bf,s as Dr,t as yf,I as xf,u as vf,v as wf,w as ia,x as nu,y as _f,z as kf,E as Wa,J as kn,K as ru,N as iu,O as Ka,P as ts,R as Va,U as Ef,V as Oi,W as ji,Y as su,Z as Ya,_ as Ja,$ as Ri,a0 as au,a1 as ou,a2 as lu,a3 as cu,a4 as Sf,a5 as Nf,a6 as uu,a7 as Tf,a8 as Af,a9 as Cf,aa as Of,ab as jf,ac as Rf,ad as If,ae as Mf,af as Lf,ag as Pf,ah as Df,ai as zf,aj as Uf,ak as du,al as $f,am as Bf,an as Ff,ao as Xa,ap as Hf,aq as ns,ar as _r,as as kr,at as Ii,au as wn,av as Tr,aw as Kt,ax as Qa,ay as hu,az as qf,aA as Mi,aB as Gf,aC as Wf,aD as Kf,aE as Vf,aF as sa,aG as Yf,aH as gu,aI as Jf,aJ as Xf,aK as Qf,aL as Zf,aM as ep,aN as tp,aO as Yo,aP as np,aQ as rp,aR as ip,aS as sp}from"./ui-libs-BvCu58J0.js";import{b as ap,g as Sn,r as M,R as ot,c as zr,d as Mt,u as fu,L as _e,e as pu,f as op,B as lp,h as cp,i as qt}from"./react-vendor-DEpP8OlW.js";import{M as Ur,m as Pt,E as an,P as mu,a as bu,i as up,D as dp,b as hp,t as je,N as $r,w as gp,c as fp,d as pp,u as mp,S as bp,C as yp,L as xp,I as vp,Y as wp,T as _p,B as kp,F as Ep,e as Sp}from"./editor-libs-Cz-ncoYa.js";function Np(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yu,Jo=ap;yu=Jo.createRoot,Jo.hydrateRoot;var Tp=typeof Element<"u",Ap=typeof Map=="function",Cp=typeof Set=="function",Op=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function bi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!bi(e[r],t[r]))return!1;return!0}var s;if(Ap&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!bi(r.value[1],t.get(r.value[0])))return!1;return!0}if(Cp&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Op&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Tp&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!bi(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var jp=function(t,n){try{return bi(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Rp=Sn(jp);var Ip=function(e,t,n,r,i,s,a,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,a,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Mp=Ip;const Xo=Sn(Mp);var Lp=function(t,n,r,i){var s=r?r.call(i,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var d=a[u];if(!c(d))return!1;var h=t[d],g=n[d];if(s=r?r.call(i,h,g,d):void 0,s===!1||s===void 0&&h!==g)return!1}return!0};const Pp=Sn(Lp);var xu=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(xu||{}),ws={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Qo=Object.values(xu),Za={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Dp=Object.entries(Za).reduce((e,[t,n])=>(e[n]=t,e),{}),St="data-rh",Hn={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},qn=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},zp=e=>{let t=qn(e,"title");const n=qn(e,Hn.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=qn(e,Hn.DEFAULT_TITLE);return t||r||void 0},Up=e=>qn(e,Hn.ON_CHANGE_CLIENT_STATE)||(()=>{}),_s=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),$p=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const l=i[s].toLowerCase();if(e.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),Bp=e=>console&&typeof console.warn=="function"&&console.warn(e),or=(e,t,n)=>{const r={};return n.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&Bp(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,s)=>{const a={};s.filter(c=>{let u;const d=Object.keys(c);for(let g=0;g<d.length;g+=1){const f=d[g],p=f.toLowerCase();t.indexOf(p)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(p==="rel"&&c[p].toLowerCase()==="stylesheet")&&(u=p),t.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(u=f)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return r[u]||(r[u]={}),a[u]||(a[u]={}),r[u][h]?!1:(a[u][h]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(a);for(let c=0;c<l.length;c+=1){const u=l[c],d={...r[u],...a[u]};r[u]=d}return i},[]).reverse()},Fp=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},Hp=e=>({baseTag:$p(["href"],e),bodyAttributes:_s("bodyAttributes",e),defer:qn(e,Hn.DEFER),encode:qn(e,Hn.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:_s("htmlAttributes",e),linkTags:or("link",["rel","href"],e),metaTags:or("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:or("noscript",["innerHTML"],e),onChangeClientState:Up(e),scriptTags:or("script",["src","innerHTML"],e),styleTags:or("style",["cssText"],e),title:zp(e),titleAttributes:_s("titleAttributes",e),prioritizeSeoTags:Fp(e,Hn.PRIORITIZE_SEO_TAGS)}),vu=e=>Array.isArray(e)?e.join(""):e,qp=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},ks=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>(qp(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},Zo=(e,t)=>({...e,[t]:void 0}),Gp=["noscript","script","style"],aa=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),wu=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),Wp=(e,t,n,r)=>{const i=wu(n),s=vu(t);return i?`<${e} ${St}="true" ${i}>${aa(s,r)}</${e}>`:`<${e} ${St}="true">${aa(s,r)}</${e}>`},Kp=(e,t,n=!0)=>t.reduce((r,i)=>{const s=i,a=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof s[d]>"u"?d:`${d}="${aa(s[d],n)}"`;return u?`${u} ${h}`:h},""),l=s.innerHTML||s.cssText||"",c=Gp.indexOf(e)===-1;return`${r}<${e} ${St}="true" ${a}${c?"/>":`>${l}</${e}>`}`},""),_u=(e,t={})=>Object.keys(e).reduce((n,r)=>{const i=Za[r];return n[i||r]=e[r],n},t),Vp=(e,t,n)=>{const r={key:t,[St]:!0},i=_u(n,r);return[ot.createElement("title",i,t)]},yi=(e,t)=>t.map((n,r)=>{const i={key:r,[St]:!0};return Object.keys(n).forEach(s=>{const l=Za[s]||s;if(l==="innerHTML"||l==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=n[s]}),ot.createElement(e,i)}),pt=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>Vp(e,t.title,t.titleAttributes),toString:()=>Wp(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>_u(t),toString:()=>wu(t)};default:return{toComponent:()=>yi(e,t),toString:()=>Kp(e,t,n)}}},Yp=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=ks(e,ws.meta),s=ks(t,ws.link),a=ks(n,ws.script);return{priorityMethods:{toComponent:()=>[...yi("meta",i.priority),...yi("link",s.priority),...yi("script",a.priority)],toString:()=>`${pt("meta",i.priority,r)} ${pt("link",s.priority,r)} ${pt("script",a.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}},Jp=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:a,title:l="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:h,scriptTags:g}=e,f={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:f,linkTags:d,metaTags:h,scriptTags:g}=Yp(e)),{priority:f,base:pt("base",t,r),bodyAttributes:pt("bodyAttributes",n,r),htmlAttributes:pt("htmlAttributes",i,r),link:pt("link",d,r),meta:pt("meta",h,r),noscript:pt("noscript",s,r),script:pt("script",g,r),style:pt("style",a,r),title:pt("title",{title:l,titleAttributes:c},r)}},oa=Jp,Vr=[],ku=!!(typeof window<"u"&&window.document&&window.document.createElement),la=class{constructor(e,t){Ht(this,"instances",[]);Ht(this,"canUseDOM",ku);Ht(this,"context");Ht(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Vr:this.instances,add:e=>{(this.canUseDOM?Vr:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Vr:this.instances).indexOf(e);(this.canUseDOM?Vr:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=oa({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Xp={},Eu=ot.createContext(Xp),vn,Su=(vn=class extends M.Component{constructor(n){super(n);Ht(this,"helmetData");this.helmetData=new la(this.props.context||{},vn.canUseDOM)}render(){return ot.createElement(Eu.Provider,{value:this.helmetData.value},this.props.children)}},Ht(vn,"canUseDOM",ku),vn),On=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${St}]`),i=[].slice.call(r),s=[];let a;return t&&t.length&&t.forEach(l=>{const c=document.createElement(e);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,h=typeof l[d]>"u"?"":l[d];c.setAttribute(u,h)}c.setAttribute(St,"true"),i.some((u,d)=>(a=d,c.isEqualNode(u)))?i.splice(a,1):s.push(c)}),i.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)}),s.forEach(l=>n.appendChild(l)),{oldTags:i,newTags:s}},ca=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(St),i=r?r.split(","):[],s=[...i],a=Object.keys(t);for(const l of a){const c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const u=s.indexOf(l);u!==-1&&s.splice(u,1)}for(let l=s.length-1;l>=0;l-=1)n.removeAttribute(s[l]);i.length===s.length?n.removeAttribute(St):n.getAttribute(St)!==a.join(",")&&n.setAttribute(St,a.join(","))},Qp=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=vu(e)),ca("title",t)},el=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:a,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:g}=e;ca("body",r),ca("html",i),Qp(h,g);const f={baseTag:On("base",n),linkTags:On("link",s),metaTags:On("meta",a),noscriptTags:On("noscript",l),scriptTags:On("script",u),styleTags:On("style",d)},p={},m={};Object.keys(f).forEach(y=>{const{newTags:b,oldTags:k}=f[y];b.length&&(p[y]=b),k.length&&(m[y]=f[y].oldTags)}),t&&t(),c(e,p,m)},lr=null,Zp=e=>{lr&&cancelAnimationFrame(lr),e.defer?lr=requestAnimationFrame(()=>{el(e,()=>{lr=null})}):(el(e),lr=null)},em=Zp,tl=class extends M.Component{constructor(){super(...arguments);Ht(this,"rendered",!1)}shouldComponentUpdate(t){return!Pp(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const i=Hp(t.get().map(s=>{const a={...s.props};return delete a.context,a}));Su.canUseDOM?em(i):oa&&(r=oa(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},na,tm=(na=class extends M.Component{shouldComponentUpdate(e){return!Rp(Zo(this.props,"helmetData"),Zo(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return Xo(Qo.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Qo.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Xo(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return ot.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,a=Object.keys(s).reduce((c,u)=>(c[Dp[u]||u]=s[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,i),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,a,i);break;default:t=this.mapObjectTypeChildren(r,t,a,i);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof la)){const i=r;r=new la(i.context,!0),delete n.helmetData}return r?ot.createElement(tl,{...n,context:r.value}):ot.createElement(Eu.Consumer,null,i=>ot.createElement(tl,{...n,context:i}))}},Ht(na,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),na);function Nu(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Nu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Nu(e))&&(r&&(r+=" "),r+=t);return r}const eo="-",rm=e=>{const t=sm(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(eo);return l[0]===""&&l.length!==1&&l.shift(),Tu(l,t)||im(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Tu=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Tu(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(eo);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},nl=/^\[(.+)\]$/,im=e=>{if(nl.test(e)){const t=nl.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sm=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return om(Object.entries(e.classGroups),n).forEach(([s,a])=>{ua(a,r,s,t)}),r},ua=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:rl(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(am(i)){ua(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{ua(a,rl(t,s),n,r)})})},rl=(e,t)=>{let n=e;return t.split(eo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},am=e=>e.isThemeGetter,om=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[n,i]}):e,lm=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Au="!",cm=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===i&&(r||l.slice(y,y+s)===t)){c.push(l.slice(d,y)),d=y+s;continue}if(b==="/"){h=y;continue}}b==="["?u++:b==="]"&&u--}const g=c.length===0?l:l.substring(d),f=g.startsWith(Au),p=f?g.substring(1):g,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:a}):a},um=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dm=e=>({cache:lm(e.cacheSize),parseClassName:cm(e),...rm(e)}),hm=/\s+/,gm=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(hm);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:f}=n(u);let p=!!f,m=r(p?g.substring(0,f):g);if(!m){if(!p){l=u+(l.length>0?" "+l:l);continue}if(m=r(g),!m){l=u+(l.length>0?" "+l:l);continue}p=!1}const y=um(d).join(":"),b=h?y+Au:y,k=b+m;if(s.includes(k))continue;s.push(k);const w=i(m,p);for(let N=0;N<w.length;++N){const O=w[N];s.push(b+O)}l=u+(l.length>0?" "+l:l)}return l};function fm(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Cu(t))&&(r&&(r+=" "),r+=n);return r}const Cu=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Cu(e[r]))&&(n&&(n+=" "),n+=t);return n};function pm(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=dm(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=gm(c,n);return i(c,d),d}return function(){return s(fm.apply(null,arguments))}}const Se=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ou=/^\[(?:([a-z-]+):)?(.+)\]$/i,mm=/^\d+\/\d+$/,bm=new Set(["px","full","screen"]),ym=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_m=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gt=e=>Gn(e)||bm.has(e)||mm.test(e),Xt=e=>er(e,"length",Om),Gn=e=>!!e&&!Number.isNaN(Number(e)),Es=e=>er(e,"number",Gn),cr=e=>!!e&&Number.isInteger(Number(e)),km=e=>e.endsWith("%")&&Gn(e.slice(0,-1)),ce=e=>Ou.test(e),Qt=e=>ym.test(e),Em=new Set(["length","size","percentage"]),Sm=e=>er(e,Em,ju),Nm=e=>er(e,"position",ju),Tm=new Set(["image","url"]),Am=e=>er(e,Tm,Rm),Cm=e=>er(e,"",jm),ur=()=>!0,er=(e,t,n)=>{const r=Ou.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Om=e=>xm.test(e)&&!vm.test(e),ju=()=>!1,jm=e=>wm.test(e),Rm=e=>_m.test(e),Im=()=>{const e=Se("colors"),t=Se("spacing"),n=Se("blur"),r=Se("brightness"),i=Se("borderColor"),s=Se("borderRadius"),a=Se("borderSpacing"),l=Se("borderWidth"),c=Se("contrast"),u=Se("grayscale"),d=Se("hueRotate"),h=Se("invert"),g=Se("gap"),f=Se("gradientColorStops"),p=Se("gradientColorStopPositions"),m=Se("inset"),y=Se("margin"),b=Se("opacity"),k=Se("padding"),w=Se("saturate"),N=Se("scale"),O=Se("sepia"),_=Se("skew"),L=Se("space"),$=Se("translate"),q=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",ce,t],R=()=>[ce,t],X=()=>["",Gt,Xt],J=()=>["auto",Gn,ce],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",ce],x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Gn,ce];return{cacheSize:500,separator:":",theme:{colors:[ur],spacing:[Gt,Xt],blur:["none","",Qt,ce],brightness:B(),borderColor:[e],borderRadius:["none","","full",Qt,ce],borderSpacing:R(),borderWidth:X(),contrast:B(),grayscale:Q(),hueRotate:B(),invert:Q(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[km,Xt],inset:U(),margin:U(),opacity:B(),padding:R(),saturate:B(),scale:B(),sepia:Q(),skew:B(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Qt]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cr,ce]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",cr,ce]}],"grid-cols":[{"grid-cols":[ur]}],"col-start-end":[{col:["auto",{span:["full",cr,ce]},ce]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[ur]}],"row-start-end":[{row:["auto",{span:[cr,ce]},ce]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Qt]},Qt]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qt,Xt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Es]}],"font-family":[{font:[ur]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Gn,Es]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gt,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gt,Xt]}],"underline-offset":[{"underline-offset":["auto",Gt,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),Nm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Am]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...C(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:C()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...C()]}],"outline-offset":[{"outline-offset":[Gt,ce]}],"outline-w":[{outline:[Gt,Xt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Gt,Xt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qt,Cm]}],"shadow-color":[{shadow:[ur]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qt,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[cr,ce]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Gt,Xt,Es]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mm=pm(Im);function He(...e){return Mm(nm(e))}function xi(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function Lm(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2)}async function Ar(e){try{return await navigator.clipboard.writeText(e),!0}catch{try{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-9999px",n.style.top="0",document.body.appendChild(n),n.focus(),n.select();const r=document.execCommand("copy");return document.body.removeChild(n),r}catch(n){return console.error("Copy failed",n),!1}}}var to={},Li={},da=function(e,t){return da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},da(e,t)};function Ru(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");da(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Pi=function(){return Pi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pi.apply(this,arguments)};function tr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Iu(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Mu(e,t){return function(n,r){t(n,r,e)}}function Lu(e,t,n,r,i,s){function a(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,g=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(b){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(b||null))};var y=(0,n[f])(l==="accessor"?{get:d.get,set:d.set}:d[c],p);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=a(y.get))&&(d.get=h),(h=a(y.set))&&(d.set=h),(h=a(y.init))&&i.unshift(h)}else(h=a(y))&&(l==="field"?i.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),g=!0}function Pu(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Du(e){return typeof e=="symbol"?e:"".concat(e)}function zu(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Uu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ee(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function $u(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var rs=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function Bu(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&rs(t,e,n)}function Di(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function no(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Fu(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(no(arguments[t]));return e}function Hu(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}function qu(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Jn(e){return this instanceof Jn?(this.v=e,this):new Jn(e)}function Gu(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(f){return function(p){return Promise.resolve(p).then(f,h)}}function l(f,p){r[f]&&(i[f]=function(m){return new Promise(function(y,b){s.push([f,m,y,b])>1||c(f,m)})},p&&(i[f]=p(i[f])))}function c(f,p){try{u(r[f](p))}catch(m){g(s[0][3],m)}}function u(f){f.value instanceof Jn?Promise.resolve(f.value.v).then(d,h):g(s[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function g(f,p){f(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Wu(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(a){return(n=!n)?{value:Jn(e[i](a)),done:!1}:s?s(a):a}:s}}function Ku(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Di=="function"?Di(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(a){return new Promise(function(l,c){a=e[s](a),i(l,c,a.done,a.value)})}}function i(s,a,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},a)}}function Vu(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Pm=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},ha=function(e){return ha=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},ha(e)};function Yu(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=ha(e),r=0;r<n.length;r++)n[r]!=="default"&&rs(t,e,n[r]);return Pm(t,e),t}function Ju(e){return e&&e.__esModule?e:{default:e}}function Xu(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Qu(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function Zu(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ed(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var Dm=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function td(e){function t(s){e.error=e.hasError?new Dm(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function nd(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?t?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):e}const zm={__extends:Ru,__assign:Pi,__rest:tr,__decorate:Iu,__param:Mu,__esDecorate:Lu,__runInitializers:Pu,__propKey:Du,__setFunctionName:zu,__metadata:Uu,__awaiter:ee,__generator:$u,__createBinding:rs,__exportStar:Bu,__values:Di,__read:no,__spread:Fu,__spreadArrays:Hu,__spreadArray:qu,__await:Jn,__asyncGenerator:Gu,__asyncDelegator:Wu,__asyncValues:Ku,__makeTemplateObject:Vu,__importStar:Yu,__importDefault:Ju,__classPrivateFieldGet:Xu,__classPrivateFieldSet:Qu,__classPrivateFieldIn:Zu,__addDisposableResource:ed,__disposeResources:td,__rewriteRelativeImportExtension:nd},Um=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ed,get __assign(){return Pi},__asyncDelegator:Wu,__asyncGenerator:Gu,__asyncValues:Ku,__await:Jn,__awaiter:ee,__classPrivateFieldGet:Xu,__classPrivateFieldIn:Zu,__classPrivateFieldSet:Qu,__createBinding:rs,__decorate:Iu,__disposeResources:td,__esDecorate:Lu,__exportStar:Bu,__extends:Ru,__generator:$u,__importDefault:Ju,__importStar:Yu,__makeTemplateObject:Vu,__metadata:Uu,__param:Mu,__propKey:Du,__read:no,__rest:tr,__rewriteRelativeImportExtension:nd,__runInitializers:Pu,__setFunctionName:zu,__spread:Fu,__spreadArray:qu,__spreadArrays:Hu,__values:Di,default:zm},Symbol.toStringTag,{value:"Module"})),$m=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let is=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},rd=class extends is{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ga=class extends is{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},fa=class extends is{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var zi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zi||(zi={}));class Bm{constructor(t,{headers:n={},customFetch:r,region:i=zi.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=$m(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ee(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let g={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(g["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(g["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(g["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let y=d;h&&(a=new AbortController,s=setTimeout(()=>a.abort(),h),d?(y=a.signal,d.addEventListener("abort",()=>a.abort())):y=a.signal);const b=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:m,signal:y}).catch(O=>{throw new rd(O)}),k=b.headers.get("x-relay-error");if(k&&k==="true")throw new ga(b);if(!b.ok)throw new fa(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield b.json():w==="application/octet-stream"||w==="application/pdf"?N=yield b.blob():w==="text/event-stream"?N=b:w==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof fa||l instanceof ga?l.context:void 0}}finally{s&&clearTimeout(s)}})}}const Fm=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return zi},FunctionsClient:Bm,FunctionsError:is,FunctionsFetchError:rd,FunctionsHttpError:fa,FunctionsRelayError:ga},Symbol.toStringTag,{value:"Module"})),id=zr(Fm);var We={};const nr=zr(Um);var Yr={},Jr={},Xr={},Qr={},Zr={},ei={},il;function sd(){if(il)return ei;il=1,Object.defineProperty(ei,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ei.default=e,ei}var sl;function ad(){if(sl)return Zr;sl=1,Object.defineProperty(Zr,"__esModule",{value:!0});const t=nr.__importDefault(sd());let n=class{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,g;let f=null,p=null,m=null,y=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const O=await c.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=O:p=JSON.parse(O))}const w=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),N=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&N&&N.length>1&&(m=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const w=await c.text();try{f=JSON.parse(w),Array.isArray(f)&&c.status===404&&(p=[],f=null,y=200,b="OK")}catch{c.status===404&&w===""?(y=204,b="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((g=f==null?void 0:f.details)===null||g===void 0)&&g.includes("0 rows"))&&(f=null,y=200,b="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:p,count:m,status:y,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,g,f,p;let m="";const y=c==null?void 0:c.cause;if(y){const b=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",k=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";m=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(g=y==null?void 0:y.name)!==null&&g!==void 0?g:"Error"}: ${b}`,k&&(m+=` (${k})`),y!=null&&y.stack&&(m+=`
${y.stack}`)}else m=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}};return Zr.default=n,Zr}var al;function od(){if(al)return Qr;al=1,Object.defineProperty(Qr,"__esModule",{value:!0});const t=nr.__importDefault(ad());let n=class extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[i?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Qr.default=n,Qr}var ol;function ro(){if(ol)return Xr;ol=1,Object.defineProperty(Xr,"__esModule",{value:!0});const t=nr.__importDefault(od()),n=new RegExp("[,()]");let r=class extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}};return Xr.default=r,Xr}var ll;function ld(){if(ll)return Jr;ll=1,Object.defineProperty(Jr,"__esModule",{value:!0});const t=nr.__importDefault(ro());let n=class{constructor(i,{headers:s={},schema:a,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(i,s){const{head:a=!1,count:l}=s??{},c=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,f)=>g.concat(Object.keys(f)),[]);if(h.length>0){const g=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return Jr.default=n,Jr}var cl;function Hm(){if(cl)return Yr;cl=1,Object.defineProperty(Yr,"__esModule",{value:!0});const e=nr,t=e.__importDefault(ld()),n=e.__importDefault(ro());let r=class cd{constructor(s,{headers:a={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new cd(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const g=new URL(`${this.url}/rpc/${s}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{g.searchParams.append(m,y)})):(h="POST",f=a);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new n.default({method:h,url:g,headers:p,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return Yr.default=r,Yr}Object.defineProperty(We,"__esModule",{value:!0});We.PostgrestError=We.PostgrestBuilder=We.PostgrestTransformBuilder=We.PostgrestFilterBuilder=We.PostgrestQueryBuilder=We.PostgrestClient=void 0;const rr=nr,ud=rr.__importDefault(Hm());We.PostgrestClient=ud.default;const dd=rr.__importDefault(ld());We.PostgrestQueryBuilder=dd.default;const hd=rr.__importDefault(ro());We.PostgrestFilterBuilder=hd.default;const gd=rr.__importDefault(od());We.PostgrestTransformBuilder=gd.default;const fd=rr.__importDefault(ad());We.PostgrestBuilder=fd.default;const pd=rr.__importDefault(sd());We.PostgrestError=pd.default;We.default={PostgrestClient:ud.default,PostgrestQueryBuilder:dd.default,PostgrestFilterBuilder:hd.default,PostgrestTransformBuilder:gd.default,PostgrestBuilder:fd.default,PostgrestError:pd.default};class md{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qm="2.87.1",Gm=`realtime-js/${qm}`,bd="1.0.0",Wm="2.0.0",ul=bd,pa=1e4,Km=1e3,Vm=100;var mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(mn||(mn={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var ma;(function(e){e.websocket="websocket"})(ma||(ma={}));var bn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bn||(bn={}));class Ym{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,s;const a=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+g);let p=new DataView(f),m=0;p.setUint8(m++,this.KINDS.userBroadcastPush),p.setUint8(m++,c.length),p.setUint8(m++,l.length),p.setUint8(m++,a.length),p.setUint8(m++,u.length),p.setUint8(m++,h.length),p.setUint8(m++,n),Array.from(c,b=>p.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>p.setUint8(m++,b.charCodeAt(0))),Array.from(a,b=>p.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>p.setUint8(m++,b.charCodeAt(0))),Array.from(h,b=>p.setUint8(m++,b.charCodeAt(0)));var y=new Uint8Array(f.byteLength+r.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(r),f.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,a,l,c]=r;return n({join_ref:i,ref:s,topic:a,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+i));c=c+i;const d=r.decode(t.slice(c,c+s));c=c+s;const h=r.decode(t.slice(c,c+a));c=c+a;const g=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,p={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class yd{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ve||(ve={}));const dl=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=Jm(a,e,t,i),s),{}):{}},Jm=(e,t,n,r)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?xd(s,a):ba(a)},xd=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return eb(t,n)}switch(e){case ve.bool:return Xm(t);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return Qm(t);case ve.json:case ve.jsonb:return Zm(t);case ve.timestamp:return tb(t);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return ba(t);default:return ba(t)}},ba=e=>e,Xm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Qm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},eb=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>xd(t,l))}return e},tb=e=>typeof e=="string"?e.replace(" ","T"):e,vd=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ss{constructor(t,n,r={},i=pa){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ya;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ya||(ya={}));let wd=class vi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vi.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=vi.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vi.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=s[u];if(h){const g=d.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),p=d.filter(y=>f.indexOf(y.presence_ref)<0),m=h.filter(y=>g.indexOf(y.presence_ref)<0);p.length>0&&(l[u]=p),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),g=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...g)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xa;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xa||(xa={}));var Wn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wn||(Wn={}));var It;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(It||(It={}));const nb=Le;let _d=class xr{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ss(this,Et.join,this.params,this.timeout),this.rejoinTimer=new yd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new wd(this),this.broadcastEndpointURL=vd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Wn.PRESENCE]&&this.bindings[Wn.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},g={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(It.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(It.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(It.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,b=[];for(let k=0;k<y;k++){const w=m[k],{filter:{event:N,schema:O,table:_,filter:L}}=w,$=f&&f[k];if($&&$.event===N&&xr.isFilterValueEqual($.schema,O)&&xr.isFilterValueEqual($.table,_)&&xr.isFilterValueEqual($.filter,L))b.push(Object.assign(Object.assign({},w),{id:$.id}));else{this.unsubscribe(),this.state=Le.errored,t==null||t(It.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(It.SUBSCRIBED);return}}).receive("error",f=>{this.state=Le.errored,t==null||t(It.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(It.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Le.joined&&t===Wn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ss(this,Et.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ss(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Vm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Et;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,m,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(f=>f.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var p,m,y,b,k,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const N=f.id,O=(p=f.filter)===null||p===void 0?void 0:p.event;return N&&((m=n.ids)===null||m===void 0?void 0:m.includes(N))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const N=(k=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return N==="*"||N===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof g=="object"&&"ids"in g){const p=g.data,{schema:m,table:y,commit_timestamp:b,type:k,errors:w}=p;g=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:k,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(g,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&xr.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dl(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dl(t.columns,t.old_record)),n}};const Ns=()=>{},ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rb=[1e3,2e3,5e3,1e4],ib=1e4,sb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ab=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pa,this.transport=null,this.heartbeatIntervalMs=ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ns,this.ref=0,this.reconnectTimer=null,this.vsn=ul,this.logger=Ns,this.conn=null,this.sendBuffer=[],this.serializer=new Ym,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ma.websocket}`,this.httpEndpoint=vd(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=md.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mn.connecting:return bn.Connecting;case mn.open:return bn.Open;case mn.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new _d(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Km,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,l=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===mn.open||this.conn.readyState===mn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([sb],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Gm};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Et.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new yd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,l,c,u,d,h,g,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:pa,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ti.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ns,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ul,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>rb[p-1]||ib,this.vsn){case bd:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,m)=>m(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(p,m)=>m(JSON.parse(p));break;case Wm:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const ob=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:nb,get REALTIME_LISTEN_TYPES(){return Wn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return xa},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ya},get REALTIME_SUBSCRIBE_STATES(){return It},RealtimeChannel:_d,RealtimeClient:ab,RealtimePresence:wd,WebSocketFactory:md},Symbol.toStringTag,{value:"Module"})),kd=zr(ob);class Br extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ed extends Br{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ui extends Br{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const io=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lb=()=>Response,va=e=>{if(Array.isArray(e))return e.map(n=>va(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=va(r)}),t},cb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ub=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Ts=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},db=(e,t,n)=>ee(void 0,void 0,void 0,function*(){const r=yield lb();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Ed(Ts(i),s,a))}).catch(i=>{t(new Ui(Ts(i),i))}):t(new Ui(Ts(e),e))}),hb=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(cb(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Fr(e,t,n,r,i,s){return ee(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,hb(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>db(c,l,r))})})}function Cr(e,t,n,r){return ee(this,void 0,void 0,function*(){return Fr(e,"GET",t,n,r)})}function kt(e,t,n,r,i){return ee(this,void 0,void 0,function*(){return Fr(e,"POST",t,r,i,n)})}function wa(e,t,n,r,i){return ee(this,void 0,void 0,function*(){return Fr(e,"PUT",t,r,i,n)})}function gb(e,t,n,r){return ee(this,void 0,void 0,function*(){return Fr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function so(e,t,n,r,i){return ee(this,void 0,void 0,function*(){return Fr(e,"DELETE",t,r,i,n)})}class fb{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}})}}var Sd;class pb{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Sd]="BlobDownloadBuilder",this.promise=null}asStream(){return new fb(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}})}}Sd=Symbol.toStringTag;const mb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bb{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=io(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return ee(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},hl),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?wa:kt)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}})}upload(t,n,r){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ee(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:hl.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield wa(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield kt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Br("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}update(t,n,r){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ee(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ee(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield kt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ee(this,void 0,void 0,function*(){try{const i=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>Cr(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new pb(c,this.shouldThrowOnError)}info(t){return ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Cr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:va(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}exists(t){return ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r)&&r instanceof Ui){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return ee(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}list(t,n,r){return ee(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},mb),n),{prefix:t||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}listV2(t,n){return ee(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Nd="2.87.1",Td={"X-Client-Info":`storage-js/${Nd}`};class yb{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Td),n),this.fetch=io(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ee(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Cr(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}getBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}createBucket(t){return ee(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ae(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ee(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Or=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xb(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function vb(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function wb(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const l=xb(e.baseUrl,r,i),c=await vb(e.auth),u=await t(l,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...c,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),g=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?g:void 0,p=f==null?void 0:f.error;throw new Or((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:f})}return{status:u.status,headers:u.headers,data:g}}}}function ni(e){return e.join("")}var _b=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ni(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(e.namespace)}`}),!0}catch(t){if(t instanceof Or&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Or&&n.status===409)return;throw n}}};function jn(e){return e.join("")}var kb=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Or&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Or&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Eb=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wb({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new _b(this.client,t),this.tableOps=new kb(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class Ad{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Td),n),this.fetch=io(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}listBuckets(t){return ee(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Cr(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield so(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}from(t){if(!ub(t))throw new Br("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Eb({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const l=s[a];return typeof l!="function"?l:(...c)=>ee(this,void 0,void 0,function*(){try{return{data:yield l.apply(s,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const ao={"X-Client-Info":`storage-js/${Nd}`,"Content-Type":"application/json"};class oo extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function at(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class wi extends oo{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cd extends oo{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var _a;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_a||(_a={}));const ss=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Sb=()=>Response,Od=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Nb=e=>Array.from(new Float32Array(e)),Tb=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},gl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ab=(e,t,n)=>ee(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new wi(gl(a),i,l))}).catch(()=>{const a=i+"",l=s.statusText||`HTTP ${i} error`;t(new wi(l,i,a))});else{const a=i+"",l=s.statusText||`HTTP ${i} error`;t(new wi(l,i,a))}}else t(new Cd(gl(e),e))}),Cb=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(Od(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function Ob(e,t,n,r,i,s){return ee(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,Cb(t,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>Ab(c,l,r))})})}function dt(e,t,n,r,i){return ee(this,void 0,void 0,function*(){return Ob(e,"POST",t,r,i,n)})}class jd{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),n),this.fetch=ss(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield dt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listIndexes(t){return ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ee(this,void 0,void 0,function*(){try{return{data:(yield dt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}class Rd{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),n),this.fetch=ss(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield dt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getVectors(t){return ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}listVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield dt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}queryVectors(t){return ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield dt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}}class Id{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),n),this.fetch=ss(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield dt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}listBuckets(){return ee(this,arguments,void 0,function*(t={}){try{return{data:yield dt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield dt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}}class Md extends Id{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Ld(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ee(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ee(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ee(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ee(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class Ld extends jd{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Pd(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Pd extends Rd{constructor(t,n,r,i,s){super(t,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class jb extends yb{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new bb(this.url,this.headers,t,this.fetch)}get vectors(){return new Md(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ad(this.url+"/iceberg",this.headers,this.fetch)}}const Rb=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ad,StorageApiError:Ed,StorageClient:jb,StorageError:Br,StorageUnknownError:Ui,StorageVectorsApiError:wi,StorageVectorsClient:Md,StorageVectorsError:oo,get StorageVectorsErrorCode(){return _a},StorageVectorsUnknownError:Cd,VectorBucketApi:Id,VectorBucketScope:Ld,VectorDataApi:Rd,VectorIndexApi:jd,VectorIndexScope:Pd,isPlainObject:Od,isStorageError:Ae,isStorageVectorsError:at,normalizeToFloat32:Nb,resolveFetch:ss,resolveResponse:Sb,validateVectorDimension:Tb},Symbol.toStringTag,{value:"Module"})),Ib=zr(Rb);var Dd={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.version=void 0;as.version="2.87.1";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=as;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Dd);var zd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,s,a)=>{const l=(0,e.resolveFetch)(a),c=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var h;const g=(h=await s())!==null&&h!==void 0?h:i;let f=new c(d==null?void 0:d.headers);return f.has("apikey")||f.set("apikey",i),f.has("Authorization")||f.set("Authorization",`Bearer ${g}`),l(u,Object.assign(Object.assign({},d),{headers:f}))}};e.fetchWithAuth=r})(zd);var on={};Object.defineProperty(on,"__esModule",{value:!0});on.isBrowser=void 0;on.uuid=Mb;on.ensureTrailingSlash=Ud;on.applySettingDefaults=Pb;on.validateSupabaseUrl=Db;function Mb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function Ud(e){return e.endsWith("/")?e:e+"/"}const Lb=()=>typeof window<"u";on.isBrowser=Lb;function Pb(e,t){var n,r;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Db(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ud(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var os={};const $d="2.87.1",zn=30*1e3,ka=3,As=ka*zn,zb="http://localhost:9999",Ub="supabase.auth.token",$b={"X-Client-Info":`gotrue-js/${$d}`},Ea="X-Supabase-Api-Version",Bd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fb=10*60*1e3;let Xn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let Fd=class extends Xn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Hd(e){return ne(e)&&e.name==="AuthApiError"}let en=class extends Xn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Yt=class extends Xn{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},st=class extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function qd(e){return ne(e)&&e.name==="AuthSessionMissingError"}let gn=class extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},vr=class extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},wr=class extends Yt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Gd(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}let Sa=class extends Yt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$i=class extends Yt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function _i(e){return ne(e)&&e.name==="AuthRetryableFetchError"}let Na=class extends Yt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Hb(e){return ne(e)&&e.name==="AuthWeakPasswordError"}let Bi=class extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Fi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fl=` 	
\r=`.split(""),qb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fl.length;t+=1)e[fl[t].charCodeAt(0)]=-2;for(let t=0;t<Fi.length;t+=1)e[Fi[t].charCodeAt(0)]=t;return e})();function pl(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fi[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fi[r]),t.queuedBits-=6}}function Wd(e,t,n){const r=qb[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ml(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Kb(a,r,n)};for(let a=0;a<e.length;a+=1)Wd(e.charCodeAt(a),i,s);return t.join("")}function Gb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wb(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Gb(r,t)}}function Kb(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Kn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Wd(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Vb(e){const t=[];return Wb(e,n=>t.push(n)),new Uint8Array(t)}function xn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>pl(i,n,r)),pl(null,n,r),t.join("")}function Yb(e){return Math.round(Date.now()/1e3)+e}function Jb(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Kd=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function Xb(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Vd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Un=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},dn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Be=async(e,t)=>{await e.removeItem(t)};class ls{constructor(){this.promise=new ls.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ls.promiseConstructor=Promise;function Cs(e){const t=e.split(".");if(t.length!==3)throw new Bi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Bb.test(t[r]))throw new Bi("JWT not in base64url format");return{header:JSON.parse(ml(t[0])),payload:JSON.parse(ml(t[1])),signature:Kn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function e0(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function t0(e){return("0"+e.toString(16)).substr(-2)}function n0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,t0).join("")}async function r0(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function i0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await r0(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rn(e,t,n=!1){const r=n0();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Un(e,`${t}-code-verifier`,i);const s=await i0(r);return[s,r===s?"plain":"s256"]}const s0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a0(e){const t=e.headers.get(Ea);if(!t||!t.match(s0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function o0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function l0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(e){if(!c0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Os(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u0(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function bl(e){return JSON.parse(JSON.stringify(e))}const fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),d0=[502,503,504];async function yl(e){var t;if(!Qb(e))throw new $i(fn(e),0);if(d0.includes(e.status))throw new $i(fn(e),e.status);let n;try{n=await e.json()}catch(s){throw new en(fn(s),s)}let r;const i=a0(e);if(i&&i.getTime()>=Bd["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Na(fn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new st}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Na(fn(n),e.status,n.weak_password.reasons);throw new Fd(fn(n),e.status||500,r)}const h0=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ae(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Ea]||(s[Ea]=Bd["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await g0(e,t,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function g0(e,t,n,r,i,s){const a=h0(t,r,i,s);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new $i(fn(c),0)}if(l.ok||await yl(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await yl(c)}}function wt(e){var t;let n=null;m0(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Yb(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xl(e){const t=wt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function tn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f0(e){return{data:e,error:null}}function p0(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=tr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function vl(e){return e}function m0(e){return e.access_token&&e.refresh_token&&e.expires_in}const ki=["global","local","others"];let lo=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Vd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ki[0]){if(ki.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ki.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:tn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tr(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:p0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:tn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vl});if(d.error)throw d.error;const h=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){In(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:tn})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){In(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:tn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){In(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:tn})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){In(t.userId);try{const{data:n,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){In(t.userId),In(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:vl});if(d.error)throw d.error;const h=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}};function wl(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const pn={debug:!!(globalThis&&Kd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class co extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Yd=class extends co{};class b0 extends co{}async function Jd(e,t,n){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const _l={};async function y0(e,t,n){var r;const i=(r=_l[e])!==null&&r!==void 0?r:Promise.resolve(),s=Promise.race([i.catch(()=>null),t>=0?new Promise((a,l)=>{setTimeout(()=>{l(new b0(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(a=>a)).catch(a=>{if(a&&a.isAcquireTimeout)throw a;return null}).then(async()=>await n());return _l[e]=s.catch(async a=>{if(a&&a.isAcquireTimeout)return await i,null;throw a}),await s}function x0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xd(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function v0(e){return parseInt(e,16)}function w0(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _0(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Xd(e.address),p=d?`${d}://${r}`:r,m=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`;let b=`URI: ${h}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let k=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);k+=`
- ${w}`}b+=k}return`${y}
${b}`}class De extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Hi extends De{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function k0({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Qd(a)){if(s.rp.id!==a)return new De({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function E0({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Qd(r)){if(n.rpId!==r)return new De({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class S0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const N0=new S0;function T0(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=tr(e,["challenge","user","excludeCredentials"]),s=Kn(t).buffer,a=Object.assign(Object.assign({},n),{id:Kn(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Kn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function A0(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=tr(e,["challenge","allowCredentials"]),i=Kn(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Kn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function C0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O0(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xn(new Uint8Array(i.authenticatorData)),clientDataJSON:xn(new Uint8Array(i.clientDataJSON)),signature:xn(new Uint8Array(i.signature)),userHandle:i.userHandle?xn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qd(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kl(){var e,t;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function j0(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hi("Browser returned unexpected credential type",t)}:{data:null,error:new Hi("Empty credential response",t)}}catch(t){return{data:null,error:k0({error:t,options:e})}}}async function R0(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hi("Browser returned unexpected credential type",t)}:{data:null,error:new Hi("Empty credential response",t)}}catch(t){return{data:null,error:E0({error:t,options:e})}}}const I0={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},M0={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qi(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(t(a)){const l=r[s];t(l)?r[s]=qi(l,a):r[s]=qi(a)}else r[s]=a}return r}function L0(e,t){return qi(I0,e,t||{})}function P0(e,t){return qi(M0,e,t||{})}class D0{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=i??N0.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=L0(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await j0({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=P0(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await R0(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new en("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Xn("rpId is required for WebAuthn authentication")};try{if(!kl())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new en("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Xn("rpId is required for WebAuthn registration")};try{if(!kl())return{data:null,error:new en("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ne(a)?{data:null,error:a}:{data:null,error:new en("Unexpected error in register",a)}}}}x0();const z0={url:zb,storageKey:Ub,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$b,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function El(e,t,n){return await n()}const Mn={};let uo=class Ta{get jwks(){var t,n;return(n=(t=Mn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Mn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Mn[this.storageKey]=Object.assign(Object.assign({},Mn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},z0),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Ta.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ta.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Fe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new lo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Vd(s.fetch),this.lock=s.lock||El,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Fe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Jd:this.lock=El,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Kd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wl(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=wl(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$d}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Fe()&&(n=Xb(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Gd(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?this._returnResult({error:n}):this._returnResult({error:new en("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:wt}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:h,options:g}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Rn(this.storage,this.storageKey)),s=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:p},xform:wt})}else if("phone"in t){const{phone:d,password:h,options:g}=t;s=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:wt})}else throw new vr("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return await Be(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:l}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xl})}else if("phone"in t){const{phone:s,password:a,options:l}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:xl})}else throw new vr("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new gn;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,a,l,c,u,d,h,g;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:m,wallet:y,statement:b,options:k}=t;let w;if(Fe())if(typeof y=="object")w=y;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")w=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const N=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href),O=await w.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Xd(O[0]);let L=(r=k==null?void 0:k.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!L){const q=await w.request({method:"eth_chainId"});L=v0(q)}const $={domain:N.host,address:_,statement:b,uri:N.href,version:"1",chainId:L,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=_0($),p=await w.request({method:"personal_sign",params:[w0(f),_]})}try{const{data:m,error:y}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:wt});if(y)throw y;if(!m||!m.session||!m.user){const b=new gn;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(ne(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var n,r,i,s,a,l,c,u,d,h,g,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:b,statement:k,options:w}=t;let N;if(Fe())if(typeof b=="object")N=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))N=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const O=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const _=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),k?{statement:k}:null));let L;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")L=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)L=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)p=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),m=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${O.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const _=await N.signMessage(new TextEncoder().encode(p),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=_}}try{const{data:y,error:b}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:xn(m)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wt});if(b)throw b;if(!y||!y.session||!y.user){const k=new gn;return this._returnResult({data:{user:null,session:null},error:k})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(ne(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await dn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:wt});if(await Be(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const l=new gn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new gn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rn(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new vr("You must provide either an email or phone number.")}catch(l){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Rn(this.storage,this.storageKey));const u=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:f0});return!((s=u.data)===null||s===void 0)&&s.url&&Fe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new st;const{error:i}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:l}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new vr("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<As:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await dn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Os()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=u0(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:tn}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new st}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:tn})})}catch(n){if(ne(n))return qd(n)&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new st;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Rn(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:tn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new st;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Cs(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new st;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Fe())throw new wr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Sa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sa("No code detected.");const{data:k,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new wr("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;c&&(g=parseInt(c));const f=g-d;f*1e3<=zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=g-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,g,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,g,d);const{data:m,error:y}=await this._getUser(s);if(y)throw y;const b={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await dn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Hd(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Jb(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Rn(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:h,error:g}=s;if(g)throw g;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Fe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ne(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wt}),{data:g,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new gn}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:f}))}catch(i){if(await Be(this.storage,`${this.storageKey}-code-verifier`),ne(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await e0(async i=>(i>0&&await Zb(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&_i(s)&&Date.now()+a-r<zn})}catch(r){if(this._debug(n,"error",r),ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await dn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Un(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Os()}else if(i&&!i.user&&!i.user){const a=await dn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Be(this.storage,this.storageKey+"-user"),await Un(this.storage,this.storageKey,i)):i.user=Os()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<As;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${As}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),_i(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new st;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ls;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new st;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ne(s)){const a={data:null,error:s};return _i(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Be(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Un(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=bl(i);await Un(this.storage,this.storageKey,s)}else{const i=bl(n);await Un(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Be(this.storage,this.storageKey),await Be(this.storage,this.storageKey+"-code-verifier"),await Be(this.storage,this.storageKey+"-user"),this.userStorage&&await Be(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zn}ms, refresh threshold is ${ka} ticks`),i<=ka&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof co)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Rn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C0(t.webauthn.credential_response):O0(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:T0(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:A0(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Cs(r.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new st})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new st});const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new st});const a=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new st})})}catch(t){if(ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new st})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Fb>i)return r;const{data:s,error:a}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});r=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Cs(r);n!=null&&n.allowExpired||o0(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const d=l0(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Vb(`${l}.${c}`)))throw new Bi("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}};uo.nextInstanceID={};const U0=lo,$0=uo,B0=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:U0,AuthApiError:Fd,AuthClient:$0,AuthError:Xn,AuthImplicitGrantRedirectError:wr,AuthInvalidCredentialsError:vr,AuthInvalidJwtError:Bi,AuthInvalidTokenResponseError:gn,AuthPKCEGrantCodeExchangeError:Sa,AuthRetryableFetchError:$i,AuthSessionMissingError:st,AuthUnknownError:en,AuthWeakPasswordError:Na,CustomAuthError:Yt,GoTrueAdminApi:lo,GoTrueClient:uo,NavigatorLockAcquireTimeoutError:Yd,SIGN_OUT_SCOPES:ki,isAuthApiError:Hd,isAuthError:ne,isAuthImplicitGrantRedirectError:Gd,isAuthRetryableFetchError:_i,isAuthSessionMissingError:qd,isAuthWeakPasswordError:Hb,lockInternals:pn,navigatorLock:Jd,processLock:y0},Symbol.toStringTag,{value:"Module"})),Zd=zr(B0);Object.defineProperty(os,"__esModule",{value:!0});os.SupabaseAuthClient=void 0;const F0=Zd;class H0 extends F0.AuthClient{constructor(t){super(t)}}os.SupabaseAuthClient=H0;Object.defineProperty(Li,"__esModule",{value:!0});const q0=id,G0=We,W0=kd,K0=Ib,ri=Dd,V0=zd,Sl=on,Y0=os;let J0=class{constructor(t,n,r){var i,s,a;this.supabaseUrl=t,this.supabaseKey=n;const l=(0,Sl.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:ri.DEFAULT_DB_OPTIONS,realtime:ri.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},ri.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:ri.DEFAULT_GLOBAL_OPTIONS},d=(0,Sl.applySettingDefaults)(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=(0,V0.fetchWithAuth)(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new G0.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new K0.StorageClient(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new q0.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:d},h,g){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y0.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:l,lock:c,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new W0.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};Li.default=J0;(function(e){var t=Mt&&Mt.__createBinding||(Object.create?function(d,h,g,f){f===void 0&&(f=g);var p=Object.getOwnPropertyDescriptor(h,g);(!p||("get"in p?!h.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(d,f,p)}:function(d,h,g,f){f===void 0&&(f=g),d[f]=h[g]}),n=Mt&&Mt.__exportStar||function(d,h){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,d,g)},r=Mt&&Mt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(Li);n(Zd,e);var s=We;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var a=id;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return a.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return a.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return a.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return a.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return a.FunctionRegion}}),n(kd,e);var l=Li;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(l).default}});const c=(d,h,g)=>new i.default(d,h,g);e.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(to);const eh=Sn(to),X0=Np({__proto__:null,default:eh},[to]),{PostgrestError:$C,FunctionsHttpError:BC,FunctionsFetchError:FC,FunctionsRelayError:HC,FunctionsError:qC,FunctionRegion:GC,SupabaseClient:WC,createClient:Q0,GoTrueAdminApi:KC,GoTrueClient:VC,AuthAdminApi:YC,AuthClient:JC,navigatorLock:XC,NavigatorLockAcquireTimeoutError:QC,lockInternals:ZC,processLock:e1,SIGN_OUT_SCOPES:t1,AuthError:n1,AuthApiError:r1,AuthUnknownError:i1,CustomAuthError:s1,AuthSessionMissingError:a1,AuthInvalidTokenResponseError:o1,AuthInvalidCredentialsError:l1,AuthImplicitGrantRedirectError:c1,AuthPKCEGrantCodeExchangeError:u1,AuthRetryableFetchError:d1,AuthWeakPasswordError:h1,AuthInvalidJwtError:g1,isAuthError:f1,isAuthApiError:p1,isAuthSessionMissingError:m1,isAuthImplicitGrantRedirectError:b1,isAuthRetryableFetchError:y1,isAuthWeakPasswordError:x1,RealtimePresence:v1,RealtimeChannel:w1,RealtimeClient:_1,REALTIME_LISTEN_TYPES:k1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:E1,REALTIME_PRESENCE_LISTEN_EVENTS:S1,REALTIME_SUBSCRIBE_STATES:N1,REALTIME_CHANNEL_STATES:T1}=eh||X0,Z0="https://ctasizymozhxlmpjxuoq.supabase.co",ey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0YXNpenltb3poeGxtcGp4dW9xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3NjU1OTMsImV4cCI6MjA4MTM0MTU5M30.Fngx5n-P-L2EA-g-nAw1C0eZIf5rsHkpAbvJk9bd1jM",H=Q0(Z0,ey),ty=!!H,Nl={title:"Decode the Algorithm of Success.",subtitle:"A structured path to mastering Computer Science.",cta_text:"Start Learning",community_title:"Learn better, together.",community_desc:"Join our community of developers. Share your knowledge, ask questions about algorithms, and get feedback on your system designs.",collab_title:"Let's Build Something Amazing",collab_desc:"I'm always open to discussing new projects, research opportunities, or just geeking out over system design."},Tl={name:"Alex Dev",role:"Senior Software Engineer & Researcher",bio:"I bridge the gap between theoretical computer science and practical software engineering. My work focuses on distributed systems, AI infrastructure, and making complex algorithms accessible to everyone.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",skills:["Machine Learning","Distributed Systems","Computer Vision","Deep Learning","System Design"],resume_link:"#",portfolio_card_title:"View Portfolio",portfolio_card_desc:"Explore full case studies, research papers, and live deployments.",portfolio_card_cta:"Launch",socials:{github:"https://github.com",linkedin:"https://linkedin.com",scholar:"https://scholar.google.com",email:"mailto:alex@example.com"}},Al={title:"Community Hub",subtitle:"Select a topic to explore discussions, tutorials, and insights shared by the community."},Cl={title:"Contribute to the Knowledge Base",subtitle:"Share your knowledge with the community. Whether it's a new algorithm, a system design case study, or a web dev tutorial."},Ol={siteName:"Knowthe",logoText:"Algo"},jl={text:"Made with Heart by Safaruzzaman Shovo",copyright:"All rights reserved."},ny=[{label:"Learning Paths",path:"/courses",visible:!0},{label:"Community",path:"/community",visible:!0},{label:"Let's Collaborate",path:"/collaborate",visible:!0}],ry=[{icon:"Layers",title:"Structured Learning",desc:"Curated paths from basics to advanced engineering concepts."},{icon:"BookOpen",title:"Research-Driven",desc:"Content backed by academic rigor and industry standards."},{icon:"Users",title:"Community Support",desc:"Learn together with a network of passionate developers."},{icon:"Briefcase",title:"Career Focused",desc:"Build a portfolio that stands out to top tech recruiters."}],iy=[{icon:"Code2",title:"Browse All Courses",desc:"Explore Full Curriculum",link:"/courses",color:"bg-blue-500"},{icon:"MessageSquare",title:"Join Community",desc:"Read Discussions",link:"/community",color:"bg-purple-500"},{icon:"PenTool",title:"Let's Collaborate",desc:"Work Together",link:"/collaborate",color:"bg-rose-500"}],Dt=()=>{const[e,t]=M.useState(Nl),[n,r]=M.useState(Tl),[i,s]=M.useState(Al),[a,l]=M.useState(Cl),[c,u]=M.useState(Ol),[d,h]=M.useState(jl),[g,f]=M.useState(ny),[p,m]=M.useState(ry),[y,b]=M.useState(iy),[k,w]=M.useState([]),[N,O]=M.useState(!0),_=async()=>{if(H){O(!0);try{const{data:L}=await H.from("site_settings").select("*");if(L){const q=L.find(P=>P.key==="home_hero");q&&t({...Nl,...q.value});const A=L.find(P=>P.key==="about_profile");A&&r({...Tl,...A.value});const U=L.find(P=>P.key==="community_page");U&&s({...Al,...U.value});const R=L.find(P=>P.key==="contribute_page");R&&l({...Cl,...R.value});const X=L.find(P=>P.key==="site_branding");X&&u({...Ol,...X.value});const J=L.find(P=>P.key==="site_footer");J&&h({...jl,...J.value});const I=L.find(P=>P.key==="site_navigation");I&&f(I.value);const C=L.find(P=>P.key==="home_value_props");C&&m(C.value);const z=L.find(P=>P.key==="home_quick_nav");z&&b(z.value)}const{data:$}=await H.from("categories").select("*");$&&w($)}catch(L){console.error("Error fetching site settings:",L)}finally{O(!1)}}};return M.useEffect(()=>{_()},[]),{homeSettings:e,aboutSettings:n,communitySettings:i,contributeSettings:a,branding:c,footer:d,navigation:g,valueProps:p,quickNav:y,categories:k,loading:N,refresh:_}},sy=()=>{const[e,t]=ot.useState(!1),n=fu(),[r,i]=ot.useState(!1),[s,a]=ot.useState(!1),{branding:l,navigation:c}=Dt();ot.useEffect(()=>{const d=()=>i(window.scrollY>20);if(window.addEventListener("scroll",d),H){H.auth.getSession().then(({data:{session:g},error:f})=>{a(f?!1:!!g)});const{data:{subscription:h}}=H.auth.onAuthStateChange((g,f)=>{a(!!f)});return()=>{window.removeEventListener("scroll",d),h.unsubscribe()}}else return()=>window.removeEventListener("scroll",d)},[]);const u=c.filter(d=>d.visible);return o.jsxs("header",{className:He("fixed top-0 z-50 w-full transition-all duration-500",r?"py-3 bg-white/70 dark:bg-gray-950/70 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm":"py-6 bg-transparent"),children:[o.jsxs("div",{className:"container mx-auto px-6 flex items-center justify-between",children:[o.jsxs(_e,{to:"/",className:"flex items-center gap-2 group relative z-50",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-lg opacity-20 group-hover:opacity-50 transition-opacity rounded-full duration-500"}),o.jsx("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 dark:from-indigo-600 dark:to-violet-600 p-2.5 rounded-xl text-white shadow-lg group-hover:scale-105 transition-transform duration-300 border border-white/10",children:o.jsx(of,{size:22})})]}),o.jsxs("span",{className:"font-bold text-xl tracking-tight text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:[l.siteName,o.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-gray-900 dark:group-hover:text-white transition-colors",children:l.logoText})]})]}),o.jsx("nav",{className:"hidden md:flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center p-1 rounded-full bg-gray-100/50 dark:bg-gray-900/50 border border-gray-200/50 dark:border-gray-800/50 backdrop-blur-sm",children:[u.map(d=>{const h=d.path===n.pathname;return o.jsx(_e,{to:d.path,className:He("px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 relative",h?"text-indigo-600 dark:text-indigo-300 bg-white dark:bg-gray-800 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200/50 dark:hover:bg-gray-800/50"),children:d.label},d.label)}),s&&o.jsxs(_e,{to:"/admin",className:He("px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 relative flex items-center gap-1",n.pathname==="/admin"?"text-indigo-600 dark:text-indigo-300 bg-white dark:bg-gray-800 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200/50 dark:hover:bg-gray-800/50"),children:[o.jsx(lf,{size:14}),o.jsx("span",{children:"Admin"})]})]})}),o.jsx("button",{className:"md:hidden p-2 text-gray-600 dark:text-gray-300 z-50",onClick:()=>t(!e),children:e?o.jsx(Lt,{size:24}):o.jsx(qa,{size:24})})]}),o.jsx(rn,{children:e&&o.jsxs(oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 w-full h-screen bg-white/95 dark:bg-gray-950/95 backdrop-blur-xl pt-24 px-6 md:hidden flex flex-col gap-6 z-40",children:[u.map((d,h)=>o.jsx(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},children:o.jsx(_e,{to:d.path,onClick:()=>t(!1),className:"block text-3xl font-bold text-gray-900 dark:text-white py-4 border-b border-gray-100 dark:border-gray-800",children:d.label})},d.label)),s&&o.jsx(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:o.jsx(_e,{to:"/admin",onClick:()=>t(!1),className:"block text-3xl font-bold text-indigo-600 dark:text-indigo-400 py-4 border-b border-gray-100 dark:border-gray-800",children:"Admin Panel"})})]})})]})},ay=()=>{const{footer:e}=Dt();return o.jsx("footer",{className:"py-8 bg-white dark:bg-gray-950 border-t border-gray-100 dark:border-gray-800",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("p",{className:"flex items-center justify-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium",children:e.text.includes("Heart")?o.jsxs(o.Fragment,{children:["Made with ",o.jsx(cf,{size:14,className:"text-red-500 fill-red-500"})," by ",e.text.split("by")[1]||"Safaruzzaman Shovo"]}):e.text}),o.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[" ",new Date().getFullYear()," ",e.copyright]})]})})},oy=()=>{const{pathname:e}=fu();return M.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null},ly=[{id:"web-dev",title:"Web Development",description:"Discuss React, Node.js, CSS, and modern web frameworks.",color:"from-blue-500 to-cyan-400",icon:"Globe"},{id:"algorithms",title:"Algorithms",description:"Data structures, competitive programming, and optimization techniques.",color:"from-purple-500 to-pink-500",icon:"Cpu"},{id:"system-design",title:"System Design",description:"Scalability, distributed systems, and architectural patterns.",color:"from-emerald-500 to-teal-400",icon:"Server"},{id:"devops",title:"DevOps & Cloud",description:"CI/CD, Docker, Kubernetes, and cloud infrastructure.",color:"from-orange-500 to-red-500",icon:"Cloud"}];new Date().toISOString();const Ei=[{id:"system-design-mastery",title:"System Design Mastery",description:"Learn to design scalable systems like Uber, Netflix, and WhatsApp. From load balancing to database sharding.",icon:"Server",color:"from-emerald-500 to-teal-400",level:"Advanced",modules:[{id:"distributed-caching",title:"Module 1: Distributed Caching",description:"Speeding up applications with Redis and Memcached.",topics:[{id:"caching-strategies",title:"Caching Strategies & Eviction Policies",readTime:"12 min",content:[{type:"text",value:"In the world of large-scale distributed systems, latency is the enemy. Every millisecond counts when you are serving millions of users. This is where caching comes into playit is the art of storing frequently accessed data in a location that is faster to access than the primary source."},{type:"note",value:"A cache hit occurs when the requested data is found in the cache. A cache miss occurs when it is not, requiring a fetch from the primary database."},{type:"heading",value:"Why do we need Caching?"},{type:"text",value:"Caching is one of the most effective ways to improve system performance. It involves storing copies of frequently accessed data in a temporary storage location (cache) so that future requests for that data can be served faster. By reducing the load on your primary database, you can scale your application to handle significantly more traffic without upgrading your database infrastructure."},{type:"image",value:"https://images.unsplash.com/photo-1558494949-efc02570fbc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",caption:"Visual representation of data flow in a distributed system."},{type:"divider",value:""},{type:"heading",value:"Cache-Aside Pattern"},{type:"text",value:"This is the most common caching strategy. The application code is responsible for loading data into the cache. When the application needs data, it first checks the cache. If the data is found (hit), it is returned. If not (miss), the application queries the database, returns the data to the user, and stores it in the cache for next time."},{type:"code",language:"python",value:`def get_user(user_id):
    # 1. Check Cache
    user = cache.get(user_id)
    if user:
        return user

    # 2. Fetch from DB
    user = db.query("SELECT * FROM users WHERE id = ?", user_id)

    # 3. Update Cache
    cache.set(user_id, user, ttl=3600)
    return user`,explanation:"In this Python example, we first attempt to retrieve the user from the cache using a unique ID. If that fails (returns None), we fall back to the slower database query. Crucially, we then populate the cache with the result so subsequent requests are fast."},{type:"heading",value:"Eviction Policies"},{type:"text",value:"Caches have limited memory. When the cache is full, we need to remove items to make space for new ones. This process is called eviction. Choosing the right eviction policy is critical for maintaining a high cache hit ratio."},{type:"text",value:`Common policies include:

1. **LRU (Least Recently Used):** Discards the least recently used items first. This is generally the best default policy.
2. **LFU (Least Frequently Used):** Counts how often an item is needed. Good for stable access patterns.
3. **FIFO (First In First Out):** Evicts items in the order they were added, regardless of usage.`},{type:"note",value:"LRU is generally the best default policy for most web applications because it adapts well to changing popularity patterns."}]},{id:"consistent-hashing",title:"Consistent Hashing",readTime:"15 min",content:[{type:"text",value:"When we distribute a cache across multiple servers, we need a way to determine which server holds a specific key. A simple approach is `hash(key) % N`, where N is the number of servers. However, this breaks down when servers are added or removed."},{type:"heading",value:"The Rebalancing Problem"},{type:"text",value:"In a distributed cache with N nodes, using modular hashing works fine until you add or remove a node. When N changes, the result of the modulo operation changes for almost every key. This causes a massive cache miss storm, as nearly all keys are remapped to different servers."},{type:"heading",value:"How Consistent Hashing Works"},{type:"text",value:"Consistent hashing maps both keys and nodes to a circular ring (0 to 2^32-1). A key is assigned to the first node encountered moving clockwise on the ring. When a node is added or removed, only the keys in its immediate vicinity are affected."},{type:"code",language:"javascript",value:`// Simplified Concept
class ConsistentHash {
  constructor(nodes, replicas = 3) {
    this.ring = new SortedMap();
    nodes.forEach(node => this.addNode(node));
  }

  addNode(node) {
    for (let i = 0; i < this.replicas; i++) {
      const hash = this.hash(node.id + i);
      this.ring.set(hash, node);
    }
  }

  getNode(key) {
    const hash = this.hash(key);
    // Find first node > hash in the ring
    return this.ring.findNext(hash);
  }
}`,explanation:"This snippet demonstrates the core concept. We map nodes to multiple points on a ring (using 'replicas' or virtual nodes) to ensure even distribution. When looking up a key, we find the next available node on the ring."}]}]}]},{id:"cs-fundamentals",title:"CS Fundamentals Bootcamp",description:"The absolute essentials of Computer Science. From binary to Big O, master the building blocks of software.",icon:"Cpu",color:"from-blue-500 to-cyan-400",level:"Beginner",modules:[{id:"intro-to-algorithms",title:"Module 1: Algorithms & Logic",description:"Learn how computers think and solve problems.",topics:[{id:"big-o-notation",title:"Understanding Big O Notation",readTime:"10 min",content:[{type:"heading",value:"What is Time Complexity?"},{type:"text",value:"Time complexity is a concept in computer science that deals with the quantification of the amount of time taken by a set of code or algorithm to process or run as a function of the amount of input."},{type:"note",value:"Big O specifically describes the worst-case scenario, which is crucial for scalable systems."},{type:"code",language:"javascript",value:`// O(n) - Linear Time
function findElement(arr, element) {
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] === element) return i;
  }
  return -1;
}`}]}]}]}],cs=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),[i,s]=M.useState(null),a=async()=>{try{if(!H){t(Ei);return}const{data:l,error:c}=await H.from("subjects").select("*").order("display_order",{ascending:!0});if(c)throw c;if(!l||l.length===0){t(Ei);return}const{data:u,error:d}=await H.from("modules").select("*").order("display_order",{ascending:!0});if(d)throw d;const{data:h,error:g}=await H.from("topics").select("*").order("display_order",{ascending:!0});if(g)throw g;const f=l.map(p=>({...p,modules:u.filter(m=>m.subject_id===p.id).map(m=>({...m,topics:h.filter(y=>y.module_id===m.id).map(y=>{let b=y.content;if(typeof y.content=="string")try{const k=JSON.parse(y.content);typeof k=="object"&&k!==null&&(b=k)}catch{}return{...y,content:b}})}))}));t(f)}catch(l){console.error("Error fetching curriculum:",l),s(l instanceof Error?l.message:"Failed to fetch curriculum"),t(Ei)}finally{r(!1)}};return M.useEffect(()=>{a()},[]),{subjects:e,loading:n,error:i,refresh:a}},th=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),i=async()=>{r(!0);try{if(!H)return;const{data:s,error:a}=await H.from("community_posts").select("*").order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(a)throw a;t(s||[])}catch(s){console.error("Error fetching community posts:",s)}finally{r(!1)}};return M.useEffect(()=>{i()},[]),{posts:e,loading:n,refresh:i}},cy=({settings:e})=>{const t=n=>{n.preventDefault();const r=document.getElementById("curriculum");r&&r.scrollIntoView({behavior:"smooth"})};return o.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-20",children:[o.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-950",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-800 to-transparent"}),o.jsx(oe.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-indigo-500/10 rounded-full blur-[100px] -z-10"}),o.jsx(oe.div,{animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 right-1/4 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-[100px] -z-10"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 text-center",children:o.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-5xl mx-auto",children:[o.jsxs(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 text-sm font-medium text-gray-600 dark:text-gray-300 mb-8 shadow-sm hover:border-indigo-500/30 transition-colors",children:[o.jsx(Ga,{size:14,className:"text-indigo-500"}),o.jsx("span",{children:"Master Algorithms & System Design"})]}),o.jsx("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black tracking-tight text-gray-900 dark:text-white mb-8 leading-[1.1] md:leading-[1]",children:e.title}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-400 mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:e.subtitle}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsxs("a",{href:"#curriculum",onClick:t,className:"group relative px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full font-bold text-lg hover:shadow-2xl hover:shadow-indigo-500/20 transition-all duration-300 flex items-center gap-2 overflow-hidden",children:[o.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.cta_text," ",o.jsx(Vt,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),o.jsxs(_e,{to:"/collaborate",className:"px-8 py-4 bg-transparent border border-gray-200 dark:border-gray-800 text-gray-900 dark:text-white rounded-full font-bold text-lg hover:bg-gray-50 dark:hover:bg-gray-900 transition-all duration-300 flex items-center gap-2",children:["Let's Collaborate ",o.jsx(Yn,{size:20,className:"text-gray-400"})]})]})]})})]})},ho=({name:e,...t})=>{const n=df[e];return n?o.jsx(n,{...t}):o.jsx(uf,{...t})},uy=()=>{const{valueProps:e}=Dt();return o.jsx("section",{className:"py-12 border-y border-gray-100 dark:border-gray-900 bg-gray-50/50 dark:bg-gray-900/50",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,n)=>o.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"flex flex-col items-center text-center md:items-start md:text-left p-4 rounded-2xl hover:bg-white dark:hover:bg-gray-800 hover:shadow-sm transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-4",children:o.jsx(ho,{name:t.icon,size:24})}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:t.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:t.desc})]},n))})})})},nh=({icon:e,color:t})=>{const n={Code2:o.jsx(ff,{className:"w-5 h-5"}),Server:o.jsx(gf,{className:"w-5 h-5"}),Globe:o.jsx(Ci,{className:"w-5 h-5"}),Database:o.jsx(ra,{className:"w-5 h-5"}),Cpu:o.jsx(hf,{className:"w-5 h-5"})};return n[e]?o.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${t} flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n[e]}):o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-xl shadow-sm group-hover:scale-110 transition-transform duration-300 border border-gray-200 dark:border-gray-700",children:e||""})},dy=({subjects:e,loading:t})=>{const n=M.useMemo(()=>e.length<=3?e:[...e].sort(()=>.5-Math.random()).slice(0,3),[e]);return o.jsx("section",{id:"curriculum",className:"py-24 bg-white dark:bg-gray-950",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12 max-w-6xl mx-auto",children:[o.jsx("div",{children:o.jsxs(oe.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold mb-2 uppercase tracking-wider text-xs",children:[o.jsx(Lr,{size:14})," Curriculum"]}),o.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Learning Paths"})]})}),o.jsxs("div",{className:"flex flex-col items-start md:items-end gap-4",children:[o.jsx(oe.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"text-lg text-gray-500 dark:text-gray-400 max-w-md text-left md:text-right",children:"Hand-picked courses to start your journey."}),o.jsxs(_e,{to:"/courses",className:"inline-flex items-center gap-2 text-sm font-bold text-indigo-600 dark:text-indigo-400 hover:underline",children:["View All Courses ",o.jsx(Vt,{size:16})]})]})]}),t?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto mb-12",children:n.map((r,i)=>o.jsx(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:o.jsx(_e,{to:`/learn/${r.id}`,className:"group block h-full relative",children:o.jsxs("div",{className:"h-full bg-gray-50 dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsxs("div",{className:"relative z-10 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx(nh,{icon:r.icon,color:r.color}),o.jsx("span",{className:"px-2 py-0.5 rounded-md bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 text-[10px] font-bold uppercase tracking-wide text-gray-500",children:r.level})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:r.title}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed line-clamp-2",children:r.description})]}),o.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"text-xs font-medium text-gray-500",children:[r.modules.length," Modules"]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-indigo-600 dark:text-indigo-400 group-hover:gap-2 transition-all",children:["Start ",o.jsx(Yn,{size:14})]})]})]})})},r.id))})]})})},hy=({post:e,loading:t,title:n,subtitle:r})=>o.jsx("section",{className:"py-24 bg-gray-50 dark:bg-gray-900 relative overflow-hidden",children:o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsx("div",{className:"max-w-6xl mx-auto bg-white dark:bg-gray-950 rounded-[3rem] p-8 md:p-16 shadow-2xl border border-gray-200 dark:border-gray-800 relative overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[o.jsx("div",{children:o.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 text-xs font-bold mb-6",children:[o.jsx(sn,{size:14}),o.jsx("span",{children:"Community Spotlight"})]}),o.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-6 leading-tight",children:n}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:r}),o.jsxs(_e,{to:"/community",className:"inline-flex items-center gap-2 px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full font-bold hover:opacity-90 transition-opacity",children:["Join the Discussion ",o.jsx(Vt,{size:18})]})]})}),o.jsx(oe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2},children:t?o.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-3xl animate-pulse"}):e?o.jsx(_e,{to:`/community/${e.id}`,className:"block group",children:o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-3xl p-8 border border-gray-200 dark:border-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 relative",children:[o.jsx(Qc,{size:40,className:"absolute top-8 right-8 text-indigo-200 dark:text-indigo-900/50"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-md",children:e.author_name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900 dark:text-white font-bold",children:e.author_name}),o.jsx("div",{className:"text-gray-500 text-xs",children:new Date(e.created_at).toLocaleDateString()})]})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 group-hover:text-indigo-600 transition-colors line-clamp-2",children:e.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 line-clamp-3 leading-relaxed",children:e.content.replace(/<[^>]*>?/gm,"")}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-xs font-bold text-indigo-600 dark:text-indigo-400",children:[o.jsx(Zc,{size:12})," ",e.category]}),o.jsxs("span",{className:"text-sm font-bold text-gray-400 group-hover:text-indigo-600 transition-colors flex items-center gap-1",children:["Read More ",o.jsx(Vt,{size:16})]})]})]})}):o.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-3xl p-10 text-center border border-dashed border-gray-300 dark:border-gray-700",children:o.jsx("p",{className:"text-gray-500 font-medium",children:"No featured posts yet."})})})]})})})}),gy=({settings:e})=>o.jsxs("section",{className:"py-24 bg-gray-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-indigo-600/20 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-600/20 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2"}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 text-indigo-300 border border-indigo-800 text-xs font-bold uppercase tracking-wider mb-6",children:[o.jsx(Qi,{size:14}),o.jsx("span",{children:"Work With Me"})]}),o.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6 leading-tight",children:e.collab_title}),o.jsx("div",{className:"text-lg text-gray-300 mb-10 leading-relaxed max-w-2xl mx-auto prose prose-invert",dangerouslySetInnerHTML:{__html:e.collab_desc}}),o.jsxs(_e,{to:"/collaborate",className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-gray-900 rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:["View Portfolio ",o.jsx(Vt,{size:20})]})]})})})]}),fy=()=>{const{quickNav:e}=Dt();return o.jsx("section",{className:"py-24 bg-white dark:bg-gray-950 border-t border-gray-100 dark:border-gray-900",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"What do you want to do?"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Direct shortcuts to the most important sections."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-5xl mx-auto",children:e.map((t,n)=>o.jsx(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},children:o.jsx(_e,{to:t.link,className:"group block h-full",children:o.jsx(py,{item:t})})},n))})]})})},py=({item:e})=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 relative overflow-hidden h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center text-white shadow-md group-hover:scale-110 transition-transform`,children:o.jsx(ho,{name:e.icon,size:24})}),o.jsx(pf,{size:20,className:"text-gray-300 group-hover:text-indigo-500 transition-colors"})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:e.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.desc})]}),my=()=>{const{subjects:e,loading:t}=cs(),{homeSettings:n}=Dt();th();const[r,i]=M.useState(null),[s,a]=M.useState(!0);return M.useEffect(()=>{(async()=>{if(!H){a(!1);return}const{data:c,error:u}=await H.from("community_posts").select("*").eq("status","approved").order("created_at",{ascending:!1}).limit(1).single();c&&!u&&i(c),a(!1)})()},[]),o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 font-sans selection:bg-indigo-500 selection:text-white overflow-x-hidden",children:[o.jsx(cy,{settings:n}),o.jsx(uy,{}),o.jsx(dy,{subjects:e,loading:t}),o.jsx(hy,{post:r,loading:s,title:n.community_title,subtitle:n.community_desc}),o.jsx(gy,{settings:n}),o.jsx(fy,{})]})},by=({title:e,description:t,image:n,url:r=window.location.href,type:i="website",keywords:s=[],author:a="KnowtheAlgo"})=>{const l=`${e} | ${a}`;return o.jsxs(tm,{children:[o.jsx("title",{children:l}),o.jsx("meta",{name:"description",content:t}),o.jsx("meta",{name:"keywords",content:s.join(", ")}),o.jsx("meta",{name:"author",content:a}),o.jsx("meta",{property:"og:type",content:i}),o.jsx("meta",{property:"og:url",content:r}),o.jsx("meta",{property:"og:title",content:l}),o.jsx("meta",{property:"og:description",content:t}),n&&o.jsx("meta",{property:"og:image",content:n}),o.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),o.jsx("meta",{name:"twitter:url",content:r}),o.jsx("meta",{name:"twitter:title",content:l}),o.jsx("meta",{name:"twitter:description",content:t}),n&&o.jsx("meta",{name:"twitter:image",content:n}),o.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Person",name:a,url:r,image:n,description:t,sameAs:[]})})]})},yy=({settings:e})=>o.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 py-12 md:py-24 flex flex-col md:flex-row gap-6 items-stretch justify-center min-h-[80vh]",children:[o.jsx(Rl,{className:"flex-[1.6] p-8 md:p-10 flex flex-col relative group",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 items-start relative z-10",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-2xl overflow-hidden border-2 border-zinc-800 shadow-2xl",children:o.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-500"})}),o.jsx("div",{className:"absolute -bottom-2 -right-2 bg-zinc-900 p-1.5 rounded-full border border-zinc-800",children:o.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.5)]"})})]}),o.jsxs("div",{className:"flex-1 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-zinc-100 tracking-tight mb-2",children:e.name}),o.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-sm font-medium uppercase tracking-wider",children:[o.jsx(eu,{size:14,className:"text-indigo-500"}),e.role]})]}),o.jsx("div",{className:"prose prose-invert prose-sm text-zinc-400 leading-relaxed max-w-none",dangerouslySetInnerHTML:{__html:e.bio}}),o.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:e.skills.slice(0,6).map(t=>o.jsx("span",{className:"px-2.5 py-1 bg-zinc-800/50 border border-zinc-700/50 text-zinc-300 text-xs font-medium rounded-md hover:bg-zinc-800 hover:border-zinc-600 transition-colors cursor-default",children:t},t))})]})]})}),o.jsx("a",{href:e.resume_link||"#",target:"_blank",rel:"noreferrer",className:"flex-1 block group/right",children:o.jsxs(Rl,{className:"h-full p-8 md:p-10 flex flex-col justify-between items-center text-center relative overflow-hidden hover:border-zinc-600 transition-colors",children:[o.jsx("div",{className:"absolute inset-0 opacity-[0.03] group-hover/right:opacity-[0.07] transition-opacity",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),o.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center items-center mt-4",children:[o.jsx("div",{className:"w-20 h-20 bg-zinc-800/50 rounded-3xl flex items-center justify-center mb-8 border border-zinc-700/50 shadow-inner group-hover/right:scale-110 transition-transform duration-500",children:o.jsx(Ci,{size:36,className:"text-zinc-200",strokeWidth:1.5})}),o.jsx("h2",{className:"text-xl font-bold text-zinc-100 mb-3",children:e.portfolio_card_title||"View Portfolio"}),o.jsx("p",{className:"text-sm text-zinc-500 max-w-[200px] leading-relaxed",children:e.portfolio_card_desc||"Explore full case studies, research papers, and live deployments."})]}),o.jsx("div",{className:"relative z-10 w-full mt-8",children:o.jsxs("div",{className:"w-full py-3 rounded-xl bg-zinc-100 text-zinc-900 font-bold text-sm flex items-center justify-center gap-2 group-hover/right:bg-white transition-colors shadow-lg shadow-zinc-900/20",children:[e.portfolio_card_cta||"Launch"," ",o.jsx(Vt,{size:16,className:"group-hover/right:translate-x-1 transition-transform"})]})})]})})]}),Rl=({children:e,className:t=""})=>{const n=M.useRef(null),[r,i]=M.useState({x:0,y:0}),[s,a]=M.useState(0),l=g=>{if(!n.current)return;const f=n.current.getBoundingClientRect();i({x:g.clientX-f.left,y:g.clientY-f.top})},c=()=>{a(1)},u=()=>{a(0)},d=()=>{a(1)},h=()=>{a(0)};return o.jsxs("div",{ref:n,onMouseMove:l,onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:h,className:`relative rounded-2xl border border-zinc-800 bg-zinc-900/80 text-zinc-200 shadow-xl backdrop-blur-md ${t}`,children:[o.jsx("div",{className:"pointer-events-none absolute -inset-px opacity-0 transition duration-300 rounded-2xl",style:{opacity:s,background:`radial-gradient(600px circle at ${r.x}px ${r.y}px, rgba(255,255,255,0.06), transparent 40%)`}}),e]})},xy=()=>{const{aboutSettings:e,loading:t}=Dt();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950",children:o.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-zinc-600 border-t-transparent rounded-full"})}):o.jsxs("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4 sm:p-8 font-sans selection:bg-indigo-500/30 selection:text-indigo-200",children:[o.jsx(by,{title:`${e.name} - Portfolio`,description:e.bio,image:e.image,type:"profile"}),o.jsx("main",{className:"w-full",children:o.jsx(yy,{settings:e})})]})},rh=({code:e,language:t="text",explanation:n})=>{const[r,i]=M.useState(!1),[s,a]=M.useState(!1),[l,c]=M.useState(!1),u=async()=>{await Ar(e)&&(i(!0),setTimeout(()=>i(!1),2e3))},d=e.split(`
`).length,h=d>15;return o.jsxs(oe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-10%"},className:"relative group my-8 rounded-xl overflow-hidden bg-[#0f1117] shadow-2xl border border-gray-800/50",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#161b22] border-b border-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500/50"}),o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),o.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/20 border border-green-500/50"})]}),o.jsx("div",{className:"h-4 w-px bg-gray-700 mx-1"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eu,{size:12,className:"text-indigo-400"}),o.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider font-mono",children:t})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[n&&o.jsxs("button",{onClick:()=>c(!l),className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-bold transition-colors ${l?"bg-indigo-500/20 text-indigo-300":"text-gray-500 hover:text-indigo-300 hover:bg-gray-800"}`,title:"Explain this code",children:[o.jsx(mf,{size:12}),l?"Hide Info":"Explain"]}),o.jsx("div",{className:"w-px h-4 bg-gray-800 mx-1"}),h&&o.jsx("button",{onClick:()=>a(!s),className:"p-1.5 rounded-md hover:bg-gray-800 text-gray-500 hover:text-white transition-colors",title:s?"Collapse":"Expand",children:s?o.jsx(Zi,{size:14}):o.jsx(Pr,{size:14})}),o.jsxs("button",{onClick:u,className:"p-1.5 rounded-md hover:bg-gray-800 text-gray-500 hover:text-white transition-colors flex items-center gap-1",title:"Copy code",children:[r?o.jsx(es,{size:14,className:"text-green-400"}):o.jsx(tu,{size:14}),r&&o.jsx("span",{className:"text-[10px] text-green-400 font-bold",children:"Copied!"})]})]})]}),o.jsx(rn,{children:l&&o.jsx(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-indigo-900/20 border-b border-indigo-500/20 overflow-hidden",children:o.jsxs("div",{className:"p-4 text-sm text-indigo-200 leading-relaxed font-sans",children:[o.jsx("strong",{className:"text-indigo-400 block mb-1 text-xs uppercase tracking-wide",children:"Code Explanation"}),n]})})}),o.jsxs(oe.div,{animate:{height:s?"auto":h?"300px":"auto"},className:"relative overflow-hidden",children:[o.jsx("div",{className:"p-5 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:o.jsx("pre",{className:"text-sm font-mono leading-relaxed text-gray-300 font-ligatures",children:o.jsx("code",{children:e})})}),!s&&h&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-[#0f1117] to-transparent pointer-events-none flex items-end justify-center pb-4",children:o.jsxs("button",{onClick:()=>a(!0),className:"pointer-events-auto px-4 py-1.5 bg-gray-800 hover:bg-gray-700 text-white text-xs font-bold rounded-full shadow-lg transition-colors border border-gray-700",children:["Show all ",d," lines"]})})]})]})},Il={note:{bg:"bg-blue-50 dark:bg-blue-900/10",border:"border-blue-500",icon:o.jsx(xf,{className:"text-blue-500",size:20}),title:"Note",text:"text-blue-900 dark:text-blue-100"},warning:{bg:"bg-amber-50 dark:bg-amber-900/10",border:"border-amber-500",icon:o.jsx(yf,{className:"text-amber-500",size:20}),title:"Warning",text:"text-amber-900 dark:text-amber-100"},tip:{bg:"bg-emerald-50 dark:bg-emerald-900/10",border:"border-emerald-500",icon:o.jsx(Dr,{className:"text-emerald-500",size:20}),title:"Pro Tip",text:"text-emerald-900 dark:text-emerald-100"},danger:{bg:"bg-red-50 dark:bg-red-900/10",border:"border-red-500",icon:o.jsx(bf,{className:"text-red-500",size:20}),title:"Critical",text:"text-red-900 dark:text-red-100"}},vy=({type:e="note",children:t})=>{const n=Il[e]||Il.note;return o.jsxs(oe.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`${n.bg} border-l-4 ${n.border} p-5 rounded-r-xl my-6 flex gap-4 shadow-sm`,children:[o.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide mb-1 opacity-80 ${n.text}`,children:n.title}),o.jsx("div",{className:`text-base leading-relaxed ${n.text} opacity-90`,children:t})]})]})},ih=()=>{const{scrollYProgress:e}=vf(),t=wf(e,{stiffness:100,damping:30,restDelta:.001});return o.jsx(oe.div,{className:"fixed top-0 left-0 right-0 h-1 bg-indigo-600 origin-left z-[60]",style:{scaleX:t}})},sh=M.createContext(void 0),ah=({children:e})=>{const[t,n]=M.useState("base"),[r,i]=M.useState("relaxed"),[s,a]=M.useState(!1),l=()=>a(c=>!c);return M.useEffect(()=>{const c=localStorage.getItem("reading-prefs");if(c)try{const u=JSON.parse(c);n(u.fontSize||"base"),i(u.lineHeight||"relaxed")}catch{}},[]),M.useEffect(()=>{localStorage.setItem("reading-prefs",JSON.stringify({fontSize:t,lineHeight:r}))},[t,r]),o.jsx(sh.Provider,{value:{fontSize:t,setFontSize:n,lineHeight:r,setLineHeight:i,focusMode:s,setFocusMode:a,toggleFocusMode:l},children:e})},us=()=>{const e=M.useContext(sh);if(!e)throw new Error("useReadingPreferences must be used within a ReadingPreferencesProvider");return e},oh=()=>{const{fontSize:e,setFontSize:t,lineHeight:n,setLineHeight:r,focusMode:i,toggleFocusMode:s}=us(),[a,l]=ot.useState(!1),[c,u]=ot.useState(document.documentElement.classList.contains("dark")),d=()=>{const h=!c;u(h),h?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return o.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 flex flex-col items-center gap-2",children:[o.jsx(rn,{children:a&&o.jsxs(oe.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl p-4 mb-2 min-w-[280px]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[o.jsx("span",{className:"text-xs font-bold uppercase text-gray-400",children:"Reading Settings"}),o.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white",children:o.jsx(Lt,{size:14})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[o.jsx(ia,{size:14})," Font Size"]})}),o.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["sm","base","lg","xl"].map(h=>o.jsx("button",{onClick:()=>t(h),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${e===h?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"}`,children:h==="sm"?"A":h==="base"?"A+":h==="lg"?"A++":"A+++"},h))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[o.jsx(nu,{size:14})," Spacing"]})}),o.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["normal","relaxed","loose"].map(h=>o.jsx("button",{onClick:()=>r(h),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${n===h?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]})]})}),o.jsxs(oe.div,{className:"flex items-center gap-1 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border border-gray-200/50 dark:border-gray-700/50 p-1.5 rounded-full shadow-lg hover:shadow-xl transition-shadow",initial:{y:100},animate:{y:0},transition:{delay:.5,type:"spring"},children:[o.jsx(js,{onClick:s,label:i?"Exit Focus":"Focus Mode",children:i?o.jsx(Zi,{size:18}):o.jsx(Pr,{size:18})}),o.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),o.jsx(js,{onClick:d,label:c?"Light Mode":"Dark Mode",children:c?o.jsx(_f,{size:18}):o.jsx(kf,{size:18})}),o.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),o.jsx(js,{onClick:()=>l(!a),label:"Text Settings",active:a,children:o.jsx(ia,{size:18})})]})]})},js=({onClick:e,children:t,label:n,active:r})=>o.jsxs("button",{onClick:e,className:`p-3 rounded-full transition-all relative group ${r?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white"}`,title:n,children:[t,o.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 text-[10px] font-bold text-white bg-gray-900 dark:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:n})]}),wy=({content:e,isRichContent:t})=>{const[n,r]=M.useState([]),[i,s]=M.useState("");M.useEffect(()=>{const l=[];if(t&&typeof e=="string")new DOMParser().parseFromString(e,"text/html").querySelectorAll("h2, h3").forEach((h,g)=>{const f=`heading-${g}`;l.push({id:f,text:h.textContent||"",level:parseInt(h.tagName.substring(1))})});else if(Array.isArray(e)){let c=0;e.forEach(u=>{u.type==="heading"&&(l.push({id:`heading-${c}`,text:u.value,level:2}),c++)})}r(l)},[e,t]),M.useEffect(()=>{const l=new IntersectionObserver(c=>{c.forEach(u=>{u.isIntersecting&&s(u.target.id)})},{rootMargin:"-10% 0px -80% 0px"});return n.forEach(c=>{const u=document.getElementById(c.id);u&&l.observe(u)}),()=>l.disconnect()},[n]);const a=l=>{const c=document.getElementById(l);c&&(c.scrollIntoView({behavior:"smooth",block:"start"}),s(l))};return n.length===0?null:o.jsxs(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"hidden xl:block w-64 sticky top-24 max-h-[calc(100vh-8rem)] overflow-y-auto pr-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-400",children:[o.jsx(Wa,{size:14}),o.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"On this page"})]}),o.jsx("div",{className:"relative border-l border-gray-200 dark:border-gray-800 ml-1.5",children:n.map(l=>o.jsxs("button",{onClick:()=>a(l.id),className:`block w-full text-left py-1.5 pl-4 text-sm transition-all relative ${i===l.id?"text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,style:{marginLeft:l.level===3?"12px":"0px"},children:[i===l.id&&o.jsx(oe.div,{layoutId:"toc-indicator",className:"absolute left-0 top-0 bottom-0 w-0.5 bg-indigo-600 -ml-[1px]"}),l.text]},l.id))})]})},lh=({children:e,className:t,id:n})=>{const[r,i]=M.useState(!1),[s,a]=M.useState(!1),{fontSize:l,lineHeight:c}=us(),u={sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl"}[l],d={normal:"leading-normal",relaxed:"leading-relaxed",loose:"leading-loose"}[c],h=async()=>{typeof e=="string"&&await Ar(e)&&(a(!0),setTimeout(()=>a(!1),2e3))},g=async()=>{if(n){const f=`${window.location.origin}${window.location.pathname}#${n}`;await Ar(f)&&(a(!0),setTimeout(()=>a(!1),2e3))}};return o.jsxs(oe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-10%"},transition:{duration:.5,ease:"easeOut"},className:"relative group mb-6",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),id:n,children:[o.jsxs("div",{className:He("hidden lg:flex absolute -left-12 top-1 flex-col gap-1 transition-opacity duration-200",r?"opacity-100":"opacity-0"),children:[o.jsx("button",{onClick:h,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-md transition-colors",title:"Copy paragraph",children:s?o.jsx(es,{size:14,className:"text-green-500"}):o.jsx(tu,{size:14})}),n&&o.jsx("button",{onClick:g,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-md transition-colors",title:"Copy link to paragraph",children:o.jsx(kn,{size:14})})]}),o.jsx("p",{className:He("text-gray-700 dark:text-gray-300 font-serif-reading transition-all duration-300",u,d,c==="loose"&&"mb-8",t),children:e})]})},ch=({src:e,alt:t,caption:n,className:r})=>{const[i,s]=M.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsxs(oe.figure,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-10%"},transition:{duration:.5},className:He("my-10 group relative",r),children:[o.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800 bg-gray-100 dark:bg-gray-900 cursor-zoom-in",onClick:()=>s(!0),children:[o.jsx(oe.img,{layoutId:`image-${e}`,src:e,alt:t,className:"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-[1.02]",loading:"lazy"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:o.jsxs("div",{className:"bg-white/90 dark:bg-black/80 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-bold text-gray-900 dark:text-white flex items-center gap-2 shadow-lg transform translate-y-2 group-hover:translate-y-0 transition-transform",children:[o.jsx(Pr,{size:12})," Click to expand"]})})]}),n&&o.jsx("figcaption",{className:"mt-3 text-center text-sm text-gray-500 dark:text-gray-400 italic",children:n})]}),o.jsx(rn,{children:i&&o.jsxs(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-white/95 dark:bg-gray-950/95 backdrop-blur-xl p-4 md:p-10 cursor-zoom-out",onClick:()=>s(!1),children:[o.jsx("button",{className:"absolute top-6 right-6 p-2 bg-gray-100 dark:bg-gray-800 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors z-10",onClick:a=>{a.stopPropagation(),s(!1)},children:o.jsx(Lt,{size:24})}),o.jsx(oe.img,{layoutId:`image-${e}`,src:e,alt:t,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"}),n&&o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute bottom-6 left-0 right-0 text-center pointer-events-none",children:o.jsx("span",{className:"inline-block bg-black/75 text-white px-4 py-2 rounded-full text-sm font-medium backdrop-blur-md",children:n})})]})})]})},uh=()=>o.jsxs("div",{className:"flex items-center justify-center py-16 opacity-50",children:[o.jsx(oe.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},viewport:{once:!0},transition:{duration:1},className:"h-px bg-gradient-to-r from-transparent via-indigo-500 to-transparent w-24"}),o.jsx(oe.div,{initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{delay:.3},className:"mx-4 w-1.5 h-1.5 rounded-full bg-indigo-500"}),o.jsx(oe.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},viewport:{once:!0},transition:{duration:1},className:"h-px bg-gradient-to-r from-transparent via-indigo-500 to-transparent w-24"})]}),_y=({relatedTopics:e=[]})=>{const[t,n]=M.useState(!1),r=window.location.href,i=document.title,s=async()=>{await Ar(r)&&(n(!0),setTimeout(()=>n(!1),2e3))},a=[{icon:ru,label:"Twitter",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(i)}&url=${encodeURIComponent(r)}`,color:"hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:iu,label:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`,color:"hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:Ka,label:"LinkedIn",href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(r)}`,color:"hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:ts,label:"Email",href:`mailto:?subject=${encodeURIComponent(i)}&body=Check this out: ${encodeURIComponent(r)}`,color:"hover:text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}];return o.jsxs(oe.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-24 pt-12 border-t border-gray-100 dark:border-gray-800",children:[o.jsxs("div",{className:"flex flex-col items-center text-center mb-16",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center text-green-600 dark:text-green-400 mb-6 animate-pulse",children:o.jsx(Dr,{size:32})}),o.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:"You've reached the end"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Great job! Share your progress or keep learning."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[o.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-5 py-2.5 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-all active:scale-95 text-sm",children:[t?o.jsx(es,{size:16}):o.jsx(kn,{size:16}),t?"Copied!":"Copy Link"]}),a.map(l=>o.jsx("a",{href:l.href,target:"_blank",rel:"noopener noreferrer",className:`p-2.5 rounded-full bg-gray-50 dark:bg-gray-900 text-gray-400 transition-all ${l.color} border border-gray-100 dark:border-gray-800`,title:`Share on ${l.label}`,children:o.jsx(l.icon,{size:18})},l.label))]})]}),e.length>0&&o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-800"}),o.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Up Next in Module"}),o.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-800"})]}),o.jsx("div",{className:"grid gap-4",children:e.map((l,c)=>o.jsxs(_e,{to:`/learn/${l.subjectId}/${l.id}`,className:"group block bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/50 hover:shadow-xl transition-all relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold mb-1 uppercase tracking-wide",children:c===0?"Next Topic":"Coming Up"}),o.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 transition-colors",children:l.title})]}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-indigo-600 group-hover:text-white transition-all flex-shrink-0",children:o.jsx(Vt,{size:20})})]})]},l.id))})]})]})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:dh,setPrototypeOf:Ml,isFrozen:ky,getPrototypeOf:Ey,getOwnPropertyDescriptor:Sy}=Object;let{freeze:tt,seal:bt,create:Aa}=Object,{apply:Ca,construct:Oa}=typeof Reflect<"u"&&Reflect;tt||(tt=function(t){return t});bt||(bt=function(t){return t});Ca||(Ca=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return t.apply(n,i)});Oa||(Oa=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const ii=nt(Array.prototype.forEach),Ny=nt(Array.prototype.lastIndexOf),Ll=nt(Array.prototype.pop),dr=nt(Array.prototype.push),Ty=nt(Array.prototype.splice),Si=nt(String.prototype.toLowerCase),Rs=nt(String.prototype.toString),Is=nt(String.prototype.match),hr=nt(String.prototype.replace),Ay=nt(String.prototype.indexOf),Cy=nt(String.prototype.trim),_t=nt(Object.prototype.hasOwnProperty),Qe=nt(RegExp.prototype.test),gr=Oy(TypeError);function nt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ca(e,t,r)}}function Oy(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oa(e,n)}}function de(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Si;Ml&&Ml(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(ky(t)||(t[r]=s),i=s)}e[i]=!0}return e}function jy(e){for(let t=0;t<e.length;t++)_t(e,t)||(e[t]=null);return e}function Ot(e){const t=Aa(null);for(const[n,r]of dh(e))_t(e,n)&&(Array.isArray(r)?t[n]=jy(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Ot(r):t[n]=r);return t}function fr(e,t){for(;e!==null;){const r=Sy(e,t);if(r){if(r.get)return nt(r.get);if(typeof r.value=="function")return nt(r.value)}e=Ey(e)}function n(){return null}return n}const Pl=tt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ms=tt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ls=tt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ry=tt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ps=tt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Iy=tt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Dl=tt(["#text"]),zl=tt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ds=tt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ul=tt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),si=tt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),My=bt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ly=bt(/<%[\w\W]*|[\w\W]*%>/gm),Py=bt(/\$\{[\w\W]*/gm),Dy=bt(/^data-[\-\w.\u00B7-\uFFFF]+$/),zy=bt(/^aria-[\-\w]+$/),hh=bt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Uy=bt(/^(?:\w+script|data):/i),$y=bt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gh=bt(/^html$/i),By=bt(/^[a-z][.\w]*(-[.\w]+)+$/i);var $l=Object.freeze({__proto__:null,ARIA_ATTR:zy,ATTR_WHITESPACE:$y,CUSTOM_ELEMENT:By,DATA_ATTR:Dy,DOCTYPE_NAME:gh,ERB_EXPR:Ly,IS_ALLOWED_URI:hh,IS_SCRIPT_OR_DATA:Uy,MUSTACHE_EXPR:My,TMPLIT_EXPR:Py});const pr={element:1,text:3,progressingInstruction:7,comment:8,document:9},Fy=function(){return typeof window>"u"?null:window},Hy=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Bl=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function fh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fy();const t=ie=>fh(ie);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==pr.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:f}=e,p=c.prototype,m=fr(p,"cloneNode"),y=fr(p,"remove"),b=fr(p,"nextSibling"),k=fr(p,"childNodes"),w=fr(p,"parentNode");if(typeof a=="function"){const ie=n.createElement("template");ie.content&&ie.content.ownerDocument&&(n=ie.content.ownerDocument)}let N,O="";const{implementation:_,createNodeIterator:L,createDocumentFragment:$,getElementsByTagName:q}=n,{importNode:A}=r;let U=Bl();t.isSupported=typeof dh=="function"&&typeof w=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:X,TMPLIT_EXPR:J,DATA_ATTR:I,ARIA_ATTR:C,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:Q}=$l;let{IS_ALLOWED_URI:x}=$l,B=null;const D=de({},[...Pl,...Ms,...Ls,...Ps,...Dl]);let v=null;const T=de({},[...zl,...Ds,...Ul,...si]);let F=Object.seal(Aa(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,Y=null;const he=Object.seal(Aa(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Oe=!0,Ne=!0,Ue=!1,Re=!0,Ye=!1,yt=!0,Ce=!1,pe=!1,Je=!1,re=!1,gt=!1,ke=!1,be=!0,Ut=!1;const xt="user-content-";let $t=!0,vt=!1,S={},j=null;const K=de({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Z=null;const le=de({},["audio","video","img","source","image","track"]);let Ee=null;const ft=de({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Tt="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml";let Ie=Xe,At=!1,ct=null;const Xg=de({},[qe,Tt,Xe],Rs);let Wr=de({},["mi","mo","mn","ms","mtext"]),Kr=de({},["annotation-xml"]);const Qg=de({},["title","style","font","a","script"]);let ar=null;const Zg=["application/xhtml+xml","text/html"],ef="text/html";let ze=null,An=null;const tf=n.createElement("form"),Do=function(E){return E instanceof RegExp||E instanceof Function},ys=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(An&&An===E)){if((!E||typeof E!="object")&&(E={}),E=Ot(E),ar=Zg.indexOf(E.PARSER_MEDIA_TYPE)===-1?ef:E.PARSER_MEDIA_TYPE,ze=ar==="application/xhtml+xml"?Rs:Si,B=_t(E,"ALLOWED_TAGS")?de({},E.ALLOWED_TAGS,ze):D,v=_t(E,"ALLOWED_ATTR")?de({},E.ALLOWED_ATTR,ze):T,ct=_t(E,"ALLOWED_NAMESPACES")?de({},E.ALLOWED_NAMESPACES,Rs):Xg,Ee=_t(E,"ADD_URI_SAFE_ATTR")?de(Ot(ft),E.ADD_URI_SAFE_ATTR,ze):ft,Z=_t(E,"ADD_DATA_URI_TAGS")?de(Ot(le),E.ADD_DATA_URI_TAGS,ze):le,j=_t(E,"FORBID_CONTENTS")?de({},E.FORBID_CONTENTS,ze):K,V=_t(E,"FORBID_TAGS")?de({},E.FORBID_TAGS,ze):Ot({}),Y=_t(E,"FORBID_ATTR")?de({},E.FORBID_ATTR,ze):Ot({}),S=_t(E,"USE_PROFILES")?E.USE_PROFILES:!1,Oe=E.ALLOW_ARIA_ATTR!==!1,Ne=E.ALLOW_DATA_ATTR!==!1,Ue=E.ALLOW_UNKNOWN_PROTOCOLS||!1,Re=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ye=E.SAFE_FOR_TEMPLATES||!1,yt=E.SAFE_FOR_XML!==!1,Ce=E.WHOLE_DOCUMENT||!1,re=E.RETURN_DOM||!1,gt=E.RETURN_DOM_FRAGMENT||!1,ke=E.RETURN_TRUSTED_TYPE||!1,Je=E.FORCE_BODY||!1,be=E.SANITIZE_DOM!==!1,Ut=E.SANITIZE_NAMED_PROPS||!1,$t=E.KEEP_CONTENT!==!1,vt=E.IN_PLACE||!1,x=E.ALLOWED_URI_REGEXP||hh,Ie=E.NAMESPACE||Xe,Wr=E.MATHML_TEXT_INTEGRATION_POINTS||Wr,Kr=E.HTML_INTEGRATION_POINTS||Kr,F=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&Do(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&Do(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ye&&(Ne=!1),gt&&(re=!0),S&&(B=de({},Dl),v=[],S.html===!0&&(de(B,Pl),de(v,zl)),S.svg===!0&&(de(B,Ms),de(v,Ds),de(v,si)),S.svgFilters===!0&&(de(B,Ls),de(v,Ds),de(v,si)),S.mathMl===!0&&(de(B,Ps),de(v,Ul),de(v,si))),E.ADD_TAGS&&(typeof E.ADD_TAGS=="function"?he.tagCheck=E.ADD_TAGS:(B===D&&(B=Ot(B)),de(B,E.ADD_TAGS,ze))),E.ADD_ATTR&&(typeof E.ADD_ATTR=="function"?he.attributeCheck=E.ADD_ATTR:(v===T&&(v=Ot(v)),de(v,E.ADD_ATTR,ze))),E.ADD_URI_SAFE_ATTR&&de(Ee,E.ADD_URI_SAFE_ATTR,ze),E.FORBID_CONTENTS&&(j===K&&(j=Ot(j)),de(j,E.FORBID_CONTENTS,ze)),E.ADD_FORBID_CONTENTS&&(j===K&&(j=Ot(j)),de(j,E.ADD_FORBID_CONTENTS,ze)),$t&&(B["#text"]=!0),Ce&&de(B,["html","head","body"]),B.table&&(de(B,["tbody"]),delete V.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw gr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw gr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=E.TRUSTED_TYPES_POLICY,O=N.createHTML("")}else N===void 0&&(N=Hy(f,i)),N!==null&&typeof O=="string"&&(O=N.createHTML(""));tt&&tt(E),An=E}},zo=de({},[...Ms,...Ls,...Ry]),Uo=de({},[...Ps,...Iy]),nf=function(E){let W=w(E);(!W||!W.tagName)&&(W={namespaceURI:Ie,tagName:"template"});const te=Si(E.tagName),Te=Si(W.tagName);return ct[E.namespaceURI]?E.namespaceURI===Tt?W.namespaceURI===Xe?te==="svg":W.namespaceURI===qe?te==="svg"&&(Te==="annotation-xml"||Wr[Te]):!!zo[te]:E.namespaceURI===qe?W.namespaceURI===Xe?te==="math":W.namespaceURI===Tt?te==="math"&&Kr[Te]:!!Uo[te]:E.namespaceURI===Xe?W.namespaceURI===Tt&&!Kr[Te]||W.namespaceURI===qe&&!Wr[Te]?!1:!Uo[te]&&(Qg[te]||!zo[te]):!!(ar==="application/xhtml+xml"&&ct[E.namespaceURI]):!1},Ct=function(E){dr(t.removed,{element:E});try{w(E).removeChild(E)}catch{y(E)}},cn=function(E,W){try{dr(t.removed,{attribute:W.getAttributeNode(E),from:W})}catch{dr(t.removed,{attribute:null,from:W})}if(W.removeAttribute(E),E==="is")if(re||gt)try{Ct(W)}catch{}else try{W.setAttribute(E,"")}catch{}},$o=function(E){let W=null,te=null;if(Je)E="<remove></remove>"+E;else{const Me=Is(E,/^[\r\n\t ]+/);te=Me&&Me[0]}ar==="application/xhtml+xml"&&Ie===Xe&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");const Te=N?N.createHTML(E):E;if(Ie===Xe)try{W=new g().parseFromString(Te,ar)}catch{}if(!W||!W.documentElement){W=_.createDocument(Ie,"template",null);try{W.documentElement.innerHTML=At?O:Te}catch{}}const Ge=W.body||W.documentElement;return E&&te&&Ge.insertBefore(n.createTextNode(te),Ge.childNodes[0]||null),Ie===Xe?q.call(W,Ce?"html":"body")[0]:Ce?W.documentElement:Ge},Bo=function(E){return L.call(E.ownerDocument||E,E,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},xs=function(E){return E instanceof h&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof d)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},Fo=function(E){return typeof l=="function"&&E instanceof l};function Bt(ie,E,W){ii(ie,te=>{te.call(t,E,W,An)})}const Ho=function(E){let W=null;if(Bt(U.beforeSanitizeElements,E,null),xs(E))return Ct(E),!0;const te=ze(E.nodeName);if(Bt(U.uponSanitizeElement,E,{tagName:te,allowedTags:B}),yt&&E.hasChildNodes()&&!Fo(E.firstElementChild)&&Qe(/<[/\w!]/g,E.innerHTML)&&Qe(/<[/\w!]/g,E.textContent)||E.nodeType===pr.progressingInstruction||yt&&E.nodeType===pr.comment&&Qe(/<[/\w]/g,E.data))return Ct(E),!0;if(!(he.tagCheck instanceof Function&&he.tagCheck(te))&&(!B[te]||V[te])){if(!V[te]&&Go(te)&&(F.tagNameCheck instanceof RegExp&&Qe(F.tagNameCheck,te)||F.tagNameCheck instanceof Function&&F.tagNameCheck(te)))return!1;if($t&&!j[te]){const Te=w(E)||E.parentNode,Ge=k(E)||E.childNodes;if(Ge&&Te){const Me=Ge.length;for(let rt=Me-1;rt>=0;--rt){const Ft=m(Ge[rt],!0);Ft.__removalCount=(E.__removalCount||0)+1,Te.insertBefore(Ft,b(E))}}}return Ct(E),!0}return E instanceof c&&!nf(E)||(te==="noscript"||te==="noembed"||te==="noframes")&&Qe(/<\/no(script|embed|frames)/i,E.innerHTML)?(Ct(E),!0):(Ye&&E.nodeType===pr.text&&(W=E.textContent,ii([R,X,J],Te=>{W=hr(W,Te," ")}),E.textContent!==W&&(dr(t.removed,{element:E.cloneNode()}),E.textContent=W)),Bt(U.afterSanitizeElements,E,null),!1)},qo=function(E,W,te){if(be&&(W==="id"||W==="name")&&(te in n||te in tf))return!1;if(!(Ne&&!Y[W]&&Qe(I,W))){if(!(Oe&&Qe(C,W))){if(!(he.attributeCheck instanceof Function&&he.attributeCheck(W,E))){if(!v[W]||Y[W]){if(!(Go(E)&&(F.tagNameCheck instanceof RegExp&&Qe(F.tagNameCheck,E)||F.tagNameCheck instanceof Function&&F.tagNameCheck(E))&&(F.attributeNameCheck instanceof RegExp&&Qe(F.attributeNameCheck,W)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(W,E))||W==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&Qe(F.tagNameCheck,te)||F.tagNameCheck instanceof Function&&F.tagNameCheck(te))))return!1}else if(!Ee[W]){if(!Qe(x,hr(te,P,""))){if(!((W==="src"||W==="xlink:href"||W==="href")&&E!=="script"&&Ay(te,"data:")===0&&Z[E])){if(!(Ue&&!Qe(z,hr(te,P,"")))){if(te)return!1}}}}}}}return!0},Go=function(E){return E!=="annotation-xml"&&Is(E,Q)},Wo=function(E){Bt(U.beforeSanitizeAttributes,E,null);const{attributes:W}=E;if(!W||xs(E))return;const te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v,forceKeepAttr:void 0};let Te=W.length;for(;Te--;){const Ge=W[Te],{name:Me,namespaceURI:rt,value:Ft}=Ge,Cn=ze(Me),vs=Ft;let $e=Me==="value"?vs:Cy(vs);if(te.attrName=Cn,te.attrValue=$e,te.keepAttr=!0,te.forceKeepAttr=void 0,Bt(U.uponSanitizeAttribute,E,te),$e=te.attrValue,Ut&&(Cn==="id"||Cn==="name")&&(cn(Me,E),$e=xt+$e),yt&&Qe(/((--!?|])>)|<\/(style|title|textarea)/i,$e)){cn(Me,E);continue}if(Cn==="attributename"&&Is($e,"href")){cn(Me,E);continue}if(te.forceKeepAttr)continue;if(!te.keepAttr){cn(Me,E);continue}if(!Re&&Qe(/\/>/i,$e)){cn(Me,E);continue}Ye&&ii([R,X,J],Vo=>{$e=hr($e,Vo," ")});const Ko=ze(E.nodeName);if(!qo(Ko,Cn,$e)){cn(Me,E);continue}if(N&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!rt)switch(f.getAttributeType(Ko,Cn)){case"TrustedHTML":{$e=N.createHTML($e);break}case"TrustedScriptURL":{$e=N.createScriptURL($e);break}}if($e!==vs)try{rt?E.setAttributeNS(rt,Me,$e):E.setAttribute(Me,$e),xs(E)?Ct(E):Ll(t.removed)}catch{cn(Me,E)}}Bt(U.afterSanitizeAttributes,E,null)},rf=function ie(E){let W=null;const te=Bo(E);for(Bt(U.beforeSanitizeShadowDOM,E,null);W=te.nextNode();)Bt(U.uponSanitizeShadowNode,W,null),Ho(W),Wo(W),W.content instanceof s&&ie(W.content);Bt(U.afterSanitizeShadowDOM,E,null)};return t.sanitize=function(ie){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,te=null,Te=null,Ge=null;if(At=!ie,At&&(ie="<!-->"),typeof ie!="string"&&!Fo(ie))if(typeof ie.toString=="function"){if(ie=ie.toString(),typeof ie!="string")throw gr("dirty is not a string, aborting")}else throw gr("toString is not a function");if(!t.isSupported)return ie;if(pe||ys(E),t.removed=[],typeof ie=="string"&&(vt=!1),vt){if(ie.nodeName){const Ft=ze(ie.nodeName);if(!B[Ft]||V[Ft])throw gr("root node is forbidden and cannot be sanitized in-place")}}else if(ie instanceof l)W=$o("<!---->"),te=W.ownerDocument.importNode(ie,!0),te.nodeType===pr.element&&te.nodeName==="BODY"||te.nodeName==="HTML"?W=te:W.appendChild(te);else{if(!re&&!Ye&&!Ce&&ie.indexOf("<")===-1)return N&&ke?N.createHTML(ie):ie;if(W=$o(ie),!W)return re?null:ke?O:""}W&&Je&&Ct(W.firstChild);const Me=Bo(vt?ie:W);for(;Te=Me.nextNode();)Ho(Te),Wo(Te),Te.content instanceof s&&rf(Te.content);if(vt)return ie;if(re){if(gt)for(Ge=$.call(W.ownerDocument);W.firstChild;)Ge.appendChild(W.firstChild);else Ge=W;return(v.shadowroot||v.shadowrootmode)&&(Ge=A.call(r,Ge,!0)),Ge}let rt=Ce?W.outerHTML:W.innerHTML;return Ce&&B["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&Qe(gh,W.ownerDocument.doctype.name)&&(rt="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+rt),Ye&&ii([R,X,J],Ft=>{rt=hr(rt,Ft," ")}),N&&ke?N.createHTML(rt):rt},t.setConfig=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ys(ie),pe=!0},t.clearConfig=function(){An=null,pe=!1},t.isValidAttribute=function(ie,E,W){An||ys({});const te=ze(ie),Te=ze(E);return qo(te,Te,W)},t.addHook=function(ie,E){typeof E=="function"&&dr(U[ie],E)},t.removeHook=function(ie,E){if(E!==void 0){const W=Ny(U[ie],E);return W===-1?void 0:Ty(U[ie],W,1)[0]}return Ll(U[ie])},t.removeHooks=function(ie){U[ie]=[]},t.removeAllHooks=function(){U=Bl()},t}var ph=fh();const Fl=()=>o.jsx(ah,{children:o.jsx(qy,{})}),qy=()=>{var $,q,A,U;const{subjectId:e,topicId:t}=pu(),n=op(),[r,i]=M.useState(!0),[s,a]=M.useState({}),{fontSize:l,lineHeight:c,focusMode:u}=us(),{subjects:d,loading:h}=cs(),{aboutSettings:g}=Dt(),f=d.find(R=>R.id===e),p=($=f==null?void 0:f.modules)==null?void 0:$.find(R=>R.topics.some(X=>X.id===t)),m=(q=p==null?void 0:p.topics)==null?void 0:q.find(R=>R.id===t),y=(f==null?void 0:f.modules.flatMap(R=>R.topics))||[],b=y.findIndex(R=>R.id===t),k=[];if(b!==-1)for(let R=1;R<=2;R++)b+R<y.length&&k.push({id:y[b+R].id,title:y[b+R].title,subjectId:(f==null?void 0:f.id)||""});M.useEffect(()=>{p&&a(R=>({...R,[p.id]:!0}))},[p==null?void 0:p.id]),M.useEffect(()=>{if(!h&&f&&f.modules&&f.modules.length>0){const X=f.modules[0];if(X.topics&&X.topics.length>0){const I=X.topics[0].id,C=f.modules.some(z=>z.topics.some(P=>P.id===t));(!t||!C)&&n(`/learn/${f.id}/${I}`,{replace:!0})}}},[f,t,n,h]);const w=R=>{a(X=>({...X,[R]:!X[R]}))};if(h)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})});if(!f)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Subject Not Found"});if(!m&&t)return null;const N=typeof(m==null?void 0:m.content)=="string",_={sm:"prose-sm",base:"prose-base",lg:"prose-lg",xl:"prose-xl"}[l],L={normal:"[&_*]:!leading-normal",relaxed:"[&_*]:!leading-relaxed",loose:"[&_*]:!leading-loose"}[c];return o.jsxs("div",{className:`flex min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300 ${u?"pt-0":"pt-16"}`,children:[o.jsx(ih,{}),o.jsx(oh,{}),!u&&o.jsx("div",{className:"lg:hidden fixed bottom-6 right-6 z-50",children:o.jsx("button",{onClick:()=>i(!r),className:"p-4 bg-indigo-600 text-white rounded-full shadow-xl hover:bg-indigo-700 transition-colors",children:r?o.jsx(Lt,{}):o.jsx(qa,{})})}),o.jsx(rn,{children:!u&&r&&o.jsx(oe.aside,{initial:{x:-320,opacity:0},animate:{x:0,opacity:1},exit:{x:-320,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:He("fixed lg:sticky top-16 h-[calc(100vh-4rem)] w-80 bg-gray-50/90 dark:bg-gray-900/90 backdrop-blur-xl border-r border-gray-200 dark:border-gray-800 overflow-y-auto z-40","lg:translate-x-0"),children:o.jsxs("div",{className:"p-6 pb-20 lg:pb-6",children:[o.jsxs(_e,{to:"/",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-indigo-600 mb-8 transition-colors group",children:[o.jsx(Va,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back to Bootcamp"]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f.color} mb-4 shadow-lg`}),o.jsx("h2",{className:"font-bold text-gray-900 dark:text-white text-xl leading-tight",children:f.title})]}),o.jsx("div",{className:"space-y-2",children:f.modules.map((R,X)=>o.jsxs("div",{className:"select-none",children:[o.jsxs("button",{onClick:()=>w(R.id),className:"flex items-center justify-between w-full text-left p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-800 text-xs font-bold text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:X+1}),o.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:R.title})]}),s[R.id]?o.jsx(Ef,{size:14,className:"text-gray-400"}):o.jsx(Oi,{size:14,className:"text-gray-400"})]}),o.jsx(rn,{children:s[R.id]&&o.jsx(oe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsx("div",{className:"pl-4 pt-1 pb-2 space-y-1 border-l-2 border-gray-100 dark:border-gray-800 ml-6 mt-1",children:R.topics.map(J=>o.jsxs(_e,{to:`/learn/${f.id}/${J.id}`,className:He("flex items-center gap-3 px-3 py-2 text-sm rounded-md transition-all relative group/link",t===J.id?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 font-medium":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),onClick:()=>window.innerWidth<1024&&i(!1),children:[t===J.id&&o.jsx(oe.div,{layoutId:"activeIndicator",className:"absolute left-0 w-0.5 h-full bg-indigo-600 rounded-full"}),o.jsx("span",{className:"truncate",children:J.title}),t===J.id&&o.jsx(Dr,{size:14,className:"ml-auto flex-shrink-0"})]},J.id))})})})]},R.id))})]})})}),o.jsxs("main",{className:He("flex-1 min-w-0 flex flex-col xl:flex-row transition-all duration-500",u?"max-w-5xl mx-auto pt-12":""),children:[o.jsxs("div",{className:"flex-1 px-6 py-10 lg:px-16 lg:py-12 w-full max-w-4xl mx-auto",children:[o.jsxs("nav",{className:"flex items-center text-sm text-gray-500 mb-8 overflow-x-auto whitespace-nowrap pb-2 scrollbar-none",children:[o.jsx(_e,{to:"/",className:"hover:text-indigo-600 transition-colors",children:"Home"}),o.jsx(Yn,{size:14,className:"mx-2 flex-shrink-0"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:f.title}),o.jsx(Yn,{size:14,className:"mx-2 flex-shrink-0"}),o.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:m==null?void 0:m.title})]}),o.jsxs("article",{className:"max-w-none",children:[o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10 pb-8 border-b border-gray-100 dark:border-gray-800",children:[o.jsx("div",{className:"flex items-center gap-2 mb-4",children:o.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-bold uppercase tracking-wide",children:p==null?void 0:p.title})}),o.jsx("h1",{className:"font-extrabold text-4xl md:text-5xl text-gray-900 dark:text-white mb-6 leading-tight tracking-tight",children:m==null?void 0:m.title}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g.image?o.jsx("img",{src:g.image,alt:g.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-gray-100 dark:ring-gray-800"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500",children:o.jsx(ji,{size:14})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white leading-none mb-0.5",children:g.name}),((A=g.socials)==null?void 0:A.email)&&o.jsxs("a",{href:g.socials.email,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[o.jsx(ts,{size:10})," ",g.socials.email.replace("mailto:","")]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium bg-gray-50 dark:bg-gray-900 px-3 py-1.5 rounded-full",children:[o.jsx(su,{size:16,className:"text-indigo-500"}),o.jsxs("span",{children:[(m==null?void 0:m.readTime)||"5 min"," read"]})]})]})]}),o.jsx("div",{className:"space-y-2",children:N?o.jsx("div",{className:He("prose dark:prose-invert max-w-none transition-all duration-300 text-gray-900 dark:text-gray-100",_,L,c==="loose"&&"[&_p]:mb-8",c==="relaxed"&&"[&_p]:mb-6","[&_*]:dark:text-gray-100 [&_strong]:dark:text-white [&_h1]:dark:text-white [&_h2]:dark:text-white [&_h3]:dark:text-white [&_h4]:dark:text-white [&_code]:dark:text-gray-200"),children:o.jsx("div",{dangerouslySetInnerHTML:{__html:ph.sanitize(m==null?void 0:m.content)}})}):(U=m==null?void 0:m.content)==null?void 0:U.map((R,X)=>o.jsx(Gy,{block:R,index:X},X))}),o.jsx(_y,{relatedTopics:k})]})]}),o.jsx(wy,{content:m==null?void 0:m.content,isRichContent:N})]})]})},Gy=({block:e,index:t})=>{const n=()=>{switch(e.type){case"heading":return o.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-16 mb-8 flex items-center gap-3 scroll-mt-24",id:`heading-${t}`,children:[o.jsx("span",{className:"w-1.5 h-8 bg-indigo-500 rounded-full"}),e.value]});case"code":return o.jsx(rh,{code:e.value,language:e.language,explanation:e.explanation});case"note":return o.jsx(vy,{type:"note",children:e.value});case"image":return o.jsx(ch,{src:e.value,alt:"Topic Image",caption:e.caption});case"divider":return o.jsx(uh,{});default:return o.jsx(lh,{id:`p-${t}`,children:e.value})}};return o.jsx(n,{})},Ni=[{id:"news-1",section:"news",title:"Paper Accepted at NeurIPS 2025",subtitle:"Conference",period:"Dec 2025",display_order:1,details:{}},{id:"news-2",section:"news",title:"Joined Google DeepMind as Research Intern",subtitle:"Career",period:"Summer 2025",display_order:2,details:{}},{id:"news-3",section:"news",title:"Won 1st Place at MIT Hackathon",subtitle:"Award",period:"Oct 2024",display_order:3,details:{}},{id:"news-4",section:"news",title:"Released v2.0 of AlgoVisualizer",subtitle:"Project",period:"Sep 2024",display_order:4,details:{}},{id:"res-1",section:"research",title:"Optimizing Large Language Models for Edge Devices",subtitle:"Graduate Researcher",organization:"AI Systems Lab, MIT",period:"Jan 2024 - Present",description:"Investigating quantization techniques to run 7B+ parameter models on consumer hardware with minimal accuracy loss. Developing a novel pruning algorithm that reduces memory footprint by 40%.",display_order:1,details:{status:"ongoing",advisor:"Dr. Alice Chen",team:["John Doe","Sarah Lee"],tags:["LLMs","Quantization","PyTorch"],links:{scholar:"#"}}},{id:"res-3",section:"research",title:"Autonomous Drone Navigation in Cluttered Environments",subtitle:"Research Assistant",organization:"Robotics Institute",period:"Sep 2023 - Present",description:"Developing reinforcement learning agents for drone navigation in unstructured environments. Focusing on sim-to-real transfer improvements.",display_order:2,details:{status:"ongoing",advisor:"Prof. Robert Wright",team:["Emily Zhang"],tags:["RL","Robotics","Python"],links:{}}},{id:"res-2",section:"research",title:"Distributed Graph Processing Framework",subtitle:"Undergraduate Researcher",organization:"Systems Group, Berkeley",period:"Jan 2023 - Dec 2023",description:"Designed a distributed graph processing engine capable of handling billion-edge graphs. Achieved 2x speedup over existing solutions by optimizing memory access patterns.",display_order:3,details:{status:"completed",advisor:"Prof. David Patterson",team:["Mike Ross"],tags:["C++","MPI","Distributed Systems"],links:{scholar:"https://scholar.google.com",github:"https://github.com",paper:"#"}}},{id:"proj-1",section:"project",title:"NeuroFlow",description:"A real-time brain-computer interface visualization tool. Processes EEG signals to visualize cognitive load in real-time using WebGL.",display_order:1,details:{type:"Industry",imageGradient:"from-pink-500 to-rose-500",tags:["React","WebGL","Python","WebSockets"],links:{github:"https://github.com",demo:"#"}}},{id:"proj-2",section:"project",title:"AlgoVisualizer",description:"Interactive platform for visualizing complex sorting and graph algorithms. Used by over 10,000 students worldwide.",display_order:2,details:{type:"Industry",imageGradient:"from-blue-500 to-cyan-500",tags:["TypeScript","D3.js","Next.js"],links:{github:"https://github.com"}}},{id:"proj-3",section:"project",title:"Mini-C Compiler",description:"Built a fully functional compiler for a subset of C language. Implemented lexical analysis, parsing, semantic analysis, and code generation.",display_order:3,details:{type:"Course",imageGradient:"from-emerald-500 to-teal-500",tags:["C++","LLVM","Bison"],links:{github:"https://github.com"}}},{id:"proj-4",section:"project",title:"Distributed Key-Value Store",description:"Implemented a fault-tolerant, sharded key-value store based on the Raft consensus algorithm.",display_order:4,details:{type:"Course",imageGradient:"from-orange-500 to-red-500",tags:["Go","Distributed Systems","Raft"],links:{github:"https://github.com"}}},{id:"exp-1",section:"experience",title:"Software Engineer Intern",organization:"Meta",period:"Summer 2024",description:"Optimized the React reconciliation algorithm for the main news feed, reducing TTI by 15%. Collaborated with the design system team to implement new accessibility primitives.",display_order:1,details:{}},{id:"exp-2",section:"experience",title:"Full Stack Developer",organization:"TechStart Inc.",period:"2022 - 2023",description:"Led the migration of a legacy monolithic application to a microservices architecture using Node.js and Kubernetes.",display_order:2,details:{}},{id:"edu-1",section:"education",title:"M.S. in Computer Science",subtitle:"Specialization in AI Systems",organization:"Stanford University",period:"2024 - 2026",description:"GPA: 4.0/4.0. Relevant Coursework: Advanced Distributed Systems, Deep Learning, Computer Vision.",display_order:1,details:{}},{id:"edu-2",section:"education",title:"B.S. in Computer Science",subtitle:"Minor in Mathematics",organization:"University of Waterloo",period:"2020 - 2024",description:"Dean's List all semesters. President of the Computer Science Club.",display_order:2,details:{}},{id:"hon-1",section:"honor",title:"ACM ICPC World Finalist",organization:"International Collegiate Programming Contest",period:"2023",display_order:1,details:{icon:"Trophy"}},{id:"hon-2",section:"honor",title:"Best Paper Award",organization:"IEEE CVPR 2024",period:"2024",display_order:2,details:{icon:"Award"}},{id:"lead-1",section:"leadership",title:"President",organization:"University CS Club",description:"Organized 5 hackathons with over 500 participants. Mentored 50+ junior students in career development.",display_order:1,details:{}},{id:"lead-2",section:"leadership",title:"Technical Lead",organization:"Open Source Initiative",description:"Led a team of 10 developers to contribute to major open source projects including React and TensorFlow.",display_order:2,details:{}}],Wy=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),i=async()=>{r(!0);try{if(!H){t(Ni);return}const{data:a,error:l}=await H.from("portfolio_items").select("*").order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(l)throw l;!a||a.length===0?(console.log("Database empty, using mock portfolio data."),t(Ni)):t(a)}catch(a){console.error("Error fetching portfolio:",a),t(Ni)}finally{r(!1)}};return M.useEffect(()=>{i()},[]),{items:e,loading:n,refresh:i,getSection:a=>e.filter(l=>l.section===a)}},Ky=Ur.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Vy=an.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Yy=Ur.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Jy=Ur.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),Xy=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},Qy=Ur.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Xy(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Zy=an.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),ex=an.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),tx=an.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize.replace(/['"]+/g,""),renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),nx=an.create({name:"lineHeight",addOptions(){return{types:["paragraph","heading"],defaultLineHeight:"normal"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:this.options.defaultLineHeight,parseHTML:e=>e.style.lineHeight||this.options.defaultLineHeight,renderHTML:e=>e.lineHeight===this.options.defaultLineHeight?{}:{style:`line-height: ${e.lineHeight}`}}}}]},addCommands(){return{setLineHeight:e=>({commands:t})=>this.options.types.every(n=>t.updateAttributes(n,{lineHeight:e})),unsetLineHeight:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"lineHeight"))}}}),rx=an.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new mu({key:new bu("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,l)=>{const c=r>=l&&r<=l+a.nodeSize,u=!a.isLeaf&&up(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const h=dp.node(l,l+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});i.push(h)}return this.options.includeChildren}),hp.create(e,i)}}})]}}),ix=an.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new mu({key:new bu("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(l,c);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,c=s-r,u=l-c,d=l;return t.deleteRange(u,d),!(this.storage.characters({node:t.doc})>r)}})]}}),sx=e=>je({find:/--$/,replace:e??""}),ax=e=>je({find:/\.\.\.$/,replace:e??""}),ox=e=>je({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??""}),lx=e=>je({find:/"$/,replace:e??""}),cx=e=>je({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??""}),ux=e=>je({find:/'$/,replace:e??""}),dx=e=>je({find:/<-$/,replace:e??""}),hx=e=>je({find:/->$/,replace:e??""}),gx=e=>je({find:/\(c\)$/,replace:e??""}),fx=e=>je({find:/\(tm\)$/,replace:e??""}),px=e=>je({find:/\(sm\)$/,replace:e??""}),mx=e=>je({find:/\(r\)$/,replace:e??""}),bx=e=>je({find:/(?:^|\s)(1\/2)\s$/,replace:e??""}),yx=e=>je({find:/\+\/-$/,replace:e??""}),xx=e=>je({find:/!=$/,replace:e??""}),vx=e=>je({find:/<<$/,replace:e??""}),wx=e=>je({find:/>>$/,replace:e??""}),_x=e=>je({find:/\d+\s?([*x])\s?\d+$/,replace:e??""}),kx=e=>je({find:/\^2$/,replace:e??""}),Ex=e=>je({find:/\^3$/,replace:e??""}),Sx=e=>je({find:/(?:^|\s)(1\/4)\s$/,replace:e??""}),Nx=e=>je({find:/(?:^|\s)(3\/4)\s$/,replace:e??""}),Tx=an.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push(sx(this.options.emDash)),this.options.ellipsis!==!1&&e.push(ax(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(ox(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(lx(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(cx(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(ux(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(dx(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(hx(this.options.rightArrow)),this.options.copyright!==!1&&e.push(gx(this.options.copyright)),this.options.trademark!==!1&&e.push(fx(this.options.trademark)),this.options.servicemark!==!1&&e.push(px(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push(mx(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(bx(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(yx(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(xx(this.options.notEqual)),this.options.laquo!==!1&&e.push(vx(this.options.laquo)),this.options.raquo!==!1&&e.push(wx(this.options.raquo)),this.options.multiplication!==!1&&e.push(_x(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(kx(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(Ex(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(Sx(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(Nx(this.options.threeQuarters)),e}});function Ax(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},f=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],N={type:m,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},O={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},_=[O,h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:N,contains:_.concat([{begin:/\(/,end:/\)/,keywords:N,contains:_.concat(["self"]),relevance:0}]),relevance:0},$={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:N,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:N,relevance:0},{begin:f,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:N,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,$,O,_,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:N,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:N},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Cx(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=Ax(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function Ox(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(l);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],y=["true","false"],b={match:/(\/[a-z._-]+)+/},k=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],w=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],N=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],O=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:y,built_in:[...k,...w,"set","shopt",...N,...O]},contains:[f,e.SHEBANG(),p,h,s,a,b,l,c,u,d,n]}}function jx(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},f=t.optional(i)+e.IDENT_RE+"\\s*\\(",y={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],k={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:y,contains:b.concat([{begin:/\(/,end:/\)/,keywords:y,contains:b.concat(["self"]),relevance:0}]),relevance:0},w={begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:y,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:y,relevance:0},{begin:f,returnBegin:!0,contains:[e.inherit(g,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:y,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:y,disableAutodetect:!0,illegal:"</",contains:[].concat(k,w,b,[h,{begin:e.IDENT_RE+"::",keywords:y},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:u,keywords:y}}}function Rx(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",l={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},f=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],y=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],N={type:m,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:y},O={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},_=[O,h,l,n,e.C_BLOCK_COMMENT_MODE,d,u],L={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:N,contains:_.concat([{begin:/\(/,end:/\)/,keywords:N,contains:_.concat(["self"]),relevance:0}]),relevance:0},$={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:N,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:N,relevance:0},{begin:f,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,l,{begin:/\(/,end:/\)/,keywords:N,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,l]}]},l,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:N,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(L,$,O,_,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:N,contains:["self",l]},{begin:e.IDENT_RE+"::",keywords:N},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Ix(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:t,literal:r},l=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(d,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:a},f=e.inherit(g,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,f]},m={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},y=e.inherit(m,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});g.contains=[m,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],f.contains=[y,p,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const b={variants:[u,m,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},k={begin:"<",end:">",contains:[{beginKeywords:"in out"},l]},w=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",N={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},b,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},l,k,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[l,k,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+w+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,k],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[b,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},N]}}const Mx=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Lx=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Px=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Dx=[...Lx,...Px],zx=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ux=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),$x=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Bx=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Fx(e){const t=e.regex,n=Mx(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Ux.join("|")+")"},{begin:":(:)?("+$x.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Bx.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:zx.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Dx.join("|")+")\\b"}]}}function Hx(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function qx(e){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Gx(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Wx(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},l={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,h=t.either(c,u,d),g=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:g,className:"attr",starts:{end:/$/,contains:[r,l,s,i,a,n]}}]}}var $n="[0-9](_*[0-9])*",ai=`\\.(${$n})`,oi="[0-9a-fA-F](_*[0-9a-fA-F])*",Hl={className:"number",variants:[{begin:`(\\b(${$n})((${ai})|\\.)?|(${ai}))[eE][+-]?(${$n})[fFdD]?\\b`},{begin:`\\b(${$n})((${ai})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ai})[fFdD]?\\b`},{begin:`\\b(${$n})[fFdD]\\b`},{begin:`\\b0[xX]((${oi})\\.?|(${oi})?\\.(${oi}))[pP][+-]?(${$n})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${oi})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function mh(e,t,n){return n===-1?"":e.replace(t,r=>mh(e,t,n-1))}function Kx(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+mh("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Hl,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Hl,u]}}const ql="[A-Za-z$_][0-9A-Za-z$_]*",Vx=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Yx=["true","false","null","undefined","NaN","Infinity"],bh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],yh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],xh=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Jx=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Xx=[].concat(xh,bh,yh);function Qx(e){const t=e.regex,n=(P,{after:Q})=>{const x="</"+P[0].slice(1);return P.input.indexOf(x,Q)!==-1},r=ql,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,Q)=>{const x=P[0].length+P.index,B=P.input[x];if(B==="<"||B===","){Q.ignoreMatch();return}B===">"&&(n(P,{after:x})||Q.ignoreMatch());let D;const v=P.input.substring(x);if(D=v.match(/^\s*=/)){Q.ignoreMatch();return}if((D=v.match(/^\s+extends\s+/))&&D.index===0){Q.ignoreMatch();return}}},l={$pattern:ql,keyword:Vx,literal:Yx,built_in:Xx,"variable.language":Jx},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},k={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,y,{match:/\$\d+/},h];g.contains=w.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(w)});const N=[].concat(k,g.contains),O=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(N)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:O},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...bh,...yh]}},q={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},U={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(P){return t.concat("(?!",P.join("|"),")")}const X={match:t.concat(/\b/,R([...xh,"super","import"].map(P=>`${P}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},J={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},I={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},C="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",z={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(C)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),q,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,y,k,{match:/\$\d+/},h,$,{scope:"attr",match:r+t.lookahead(":"),relevance:0},z,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,e.REGEXP_MODE,{className:"function",begin:C,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},J,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},X,U,L,I,{match:/\$[(.]/}]}}function Zx(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Bn="[0-9](_*[0-9])*",li=`\\.(${Bn})`,ci="[0-9a-fA-F](_*[0-9a-fA-F])*",ev={className:"number",variants:[{begin:`(\\b(${Bn})((${li})|\\.)?|(${li}))[eE][+-]?(${Bn})[fFdD]?\\b`},{begin:`\\b(${Bn})((${li})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${li})[fFdD]?\\b`},{begin:`\\b(${Bn})[fFdD]\\b`},{begin:`\\b0[xX]((${ci})\\.?|(${ci})?\\.(${ci}))[pP][+-]?(${Bn})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ci})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function tv(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const l={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},u=ev,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},g=h;return g.variants[1].contains=[h],h.variants[1].contains=[g],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,r,l,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,l,c,a,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},l,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const nv=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),rv=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],iv=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],sv=[...rv,...iv],av=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),vh=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),wh=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),ov=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),lv=vh.concat(wh).sort().reverse();function cv(e){const t=nv(e),n=lv,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],l=[],c=function(w){return{className:"string",begin:"~?"+w+".*?"+w}},u=function(w,N,O){return{className:w,begin:N,relevance:O}},d={$pattern:/[a-z-]+/,keyword:r,attribute:av.join(" ")},h={begin:"\\(",end:"\\)",contains:l,keywords:d,relevance:0};l.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const g=l.concat({begin:/\{/,end:/\}/,contains:a}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(l)},p={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ov.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:l}}]},m={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:l,relevance:0}},y={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:g}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+sv.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+vh.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+wh.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},t.FUNCTION_DISPATCH]},k={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[b]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,y,k,p,b,f,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function uv(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function dv(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,s,a]}}function hv(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(u,{contains:[]}),g=e.inherit(d,{contains:[]});u.contains.push(g),d.contains.push(h);let f=[n,c];return[u,d,h,g].forEach(b=>{b.contains=b.contains.concat(f)}),f=f.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,r,c,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function gv(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,l={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:l,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function fv(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},l={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[l]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,s,c],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],g=(m,y,b="\\1")=>{const k=b==="\\1"?b:t.concat(b,y);return t.concat(t.concat("(?:",m,")"),y,/(?:\\.|[^\\\/])*?/,k,/(?:\\.|[^\\\/])*?/,b,r)},f=(m,y,b)=>t.concat(t.concat("(?:",m,")"),y,/(?:\\.|[^\\\/])*?/,b,r),p=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:g("s|tr|y",t.either(...h,{capture:!0}))},{begin:g("s|tr|y","\\(","\\)")},{begin:g("s|tr|y","\\[","\\]")},{begin:g("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:f("(?:m|qr)?",/\//,/\//)},{begin:f("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:f("m|qr",/\(/,/\)/)},{begin:f("m|qr",/\[/,/\]/)},{begin:f("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,l,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=p,a.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function pv(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=t.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},l={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(J,I)=>{I.data._beginMatch=J[1]||J[2]},"on:end":(J,I)=>{I.data._beginMatch!==J[1]&&I.ignoreMatch()}},g=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,p={scope:"string",variants:[d,u,h,g]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},y=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],k=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],N={keyword:b,literal:(J=>{const I=[];return J.forEach(C=>{I.push(C),C.toLowerCase()===C?I.push(C.toUpperCase()):I.push(C.toLowerCase())}),I})(y),built_in:k},O=J=>J.map(I=>I.replace(/\|\d+$/,"")),_={variants:[{match:[/new/,t.concat(f,"+"),t.concat("(?!",O(k).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},L=t.concat(r,"\\b(?!\\()"),$={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),L],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),L],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},q={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},A={relevance:0,begin:/\(/,end:/\)/,keywords:N,contains:[q,a,$,e.C_BLOCK_COMMENT_MODE,p,m,_]},U={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",O(b).join("\\b|"),"|",O(k).join("\\b|"),"\\b)"),r,t.concat(f,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[A]};A.contains.push(U);const R=[q,$,e.C_BLOCK_COMMENT_MODE,p,m,_],X={begin:t.concat(/#\[\s*\\?/,t.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:y,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:y,keyword:["new","array"]},contains:["self",...R]},...R,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:N,contains:[X,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},l,{scope:"variable.language",match:/\$this\b/},a,U,$,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},_,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:N,contains:["self",X,a,$,e.C_BLOCK_COMMENT_MODE,p,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},p,m]}}function mv(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function bv(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function yv(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",f=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,p=`\\b|${r.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${f}))[eE][+-]?(${g})[jJ]?(?=${p})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${g})[jJ](?=${p})`}]},y={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",c,m,h,e.HASH_COMMENT_MODE]}]};return u.contains=[h,m,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[c,m,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,y,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,b,h]}]}}function xv(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function vv(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function wv(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},l={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[l]}),e.COMMENT("^=begin","^=end",{contains:[l],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},h={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},g="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${g})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},m={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},_=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[m]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=_,m.contains=_;const A=[{begin:/^\s*=>/,starts:{end:"$",contains:_}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:_}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(A).concat(u).concat(_)}}function _v(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",l=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:l,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},s]}}const kv=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Ev=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Sv=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Nv=[...Ev,...Sv],Tv=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Av=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Cv=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Ov=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function jv(e){const t=kv(e),n=Cv,r=Av,i="@[a-z-]+",s="and or not only",l={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Nv.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},l,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Ov.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,l,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:Tv.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},l,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function Rv(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Iv(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=d,p=[...u,...c].filter(O=>!d.includes(O)),m={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},y={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:t.concat(/\b/,t.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function k(O){return t.concat(/\b/,t.either(...O.map(_=>_.replace(/\s+/,"\\s+"))),/\b/)}const w={scope:"keyword",match:k(g),relevance:0};function N(O,{exceptions:_,when:L}={}){const $=L;return _=_||[],O.map(q=>q.match(/\|\d+$/)||_.includes(q)?q:$(q)?`${q}|0`:q)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:N(p,{when:O=>O.length<3}),literal:s,type:l,built_in:h},contains:[{scope:"type",match:k(a)},w,b,m,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,y]}}function _h(e){return e?typeof e=="string"?e:e.source:null}function mr(e){return ye("(?=",e,")")}function ye(...e){return e.map(n=>_h(n)).join("")}function Mv(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Ze(...e){return"("+(Mv(e).capture?"":"?:")+e.map(r=>_h(r)).join("|")+")"}const go=e=>ye(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Lv=["Protocol","Type"].map(go),Gl=["init","self"].map(go),Pv=["Any","Self"],zs=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Wl=["false","nil","true"],Dv=["assignment","associativity","higherThan","left","lowerThan","none","right"],zv=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Kl=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],kh=Ze(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Eh=Ze(kh,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Us=ye(kh,Eh,"*"),Sh=Ze(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Gi=Ze(Sh,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),jt=ye(Sh,Gi,"*"),ui=ye(/[A-Z]/,Gi,"*"),Uv=["attached","autoclosure",ye(/convention\(/,Ze("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",ye(/objc\(/,jt,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],$v=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Bv(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,Ze(...Lv,...Gl)],className:{2:"keyword"}},s={match:ye(/\./,Ze(...zs)),relevance:0},a=zs.filter(pe=>typeof pe=="string").concat(["_|0"]),l=zs.filter(pe=>typeof pe!="string").concat(Pv).map(go),c={variants:[{className:"keyword",match:Ze(...l,...Gl)}]},u={$pattern:Ze(/\b\w+/,/#\w+/),keyword:a.concat(zv),literal:Wl},d=[i,s,c],h={match:ye(/\./,Ze(...Kl)),relevance:0},g={className:"built_in",match:ye(/\b/,Ze(...Kl),/(?=\()/)},f=[h,g],p={match:/->/,relevance:0},m={className:"operator",relevance:0,variants:[{match:Us},{match:`\\.(\\.|${Eh})+`}]},y=[p,m],b="([0-9]_*)+",k="([0-9a-fA-F]_*)+",w={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${k})(\\.(${k}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},N=(pe="")=>({className:"subst",variants:[{match:ye(/\\/,pe,/[0\\tnr"']/)},{match:ye(/\\/,pe,/u\{[0-9a-fA-F]{1,8}\}/)}]}),O=(pe="")=>({className:"subst",match:ye(/\\/,pe,/[\t ]*(?:[\r\n]|\r\n)/)}),_=(pe="")=>({className:"subst",label:"interpol",begin:ye(/\\/,pe,/\(/),end:/\)/}),L=(pe="")=>({begin:ye(pe,/"""/),end:ye(/"""/,pe),contains:[N(pe),O(pe),_(pe)]}),$=(pe="")=>({begin:ye(pe,/"/),end:ye(/"/,pe),contains:[N(pe),_(pe)]}),q={className:"string",variants:[L(),L("#"),L("##"),L("###"),$(),$("#"),$("##"),$("###")]},A=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],U={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:A},R=pe=>{const Je=ye(pe,/\//),re=ye(/\//,pe);return{begin:Je,end:re,contains:[...A,{scope:"comment",begin:`#(?!.*${re})`,end:/$/}]}},X={scope:"regexp",variants:[R("###"),R("##"),R("#"),U]},J={match:ye(/`/,jt,/`/)},I={className:"variable",match:/\$\d+/},C={className:"variable",match:`\\$${Gi}+`},z=[J,I,C],P={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:$v,contains:[...y,w,q]}]}},Q={scope:"keyword",match:ye(/@/,Ze(...Uv),mr(Ze(/\(/,/\s+/)))},x={scope:"meta",match:ye(/@/,jt)},B=[P,Q,x],D={match:mr(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:ye(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Gi,"+")},{className:"type",match:ui,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:ye(/\s+&\s+/,mr(ui)),relevance:0}]},v={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...B,p,D]};D.contains.push(v);const T={match:ye(jt,/\s*:/),keywords:"_|0",relevance:0},F={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",T,...r,X,...d,...f,...y,w,q,...z,...B,D]},V={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,D]},Y={begin:Ze(mr(ye(jt,/\s*:/)),mr(ye(jt,/\s+/,jt,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:jt}]},he={begin:/\(/,end:/\)/,keywords:u,contains:[Y,...r,...d,...y,w,q,...B,D,F],endsParent:!0,illegal:/["']/},Oe={match:[/(func|macro)/,/\s+/,Ze(J.match,jt,Us)],className:{1:"keyword",3:"title.function"},contains:[V,he,t],illegal:[/\[/,/%/]},Ne={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[V,he,t],illegal:/\[|%/},Ue={match:[/operator/,/\s+/,Us],className:{1:"keyword",3:"title"}},Re={begin:[/precedencegroup/,/\s+/,ui],className:{1:"keyword",3:"title"},contains:[D],keywords:[...Dv,...Wl],end:/}/},Ye={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},yt={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Ce={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,jt,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[V,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:ui},...d],relevance:0}]};for(const pe of q.variants){const Je=pe.contains.find(gt=>gt.label==="interpol");Je.keywords=u;const re=[...d,...f,...y,w,q,...z];Je.contains=[...re,{begin:/\(/,end:/\)/,contains:["self",...re]}]}return{name:"Swift",keywords:u,contains:[...r,Oe,Ne,Ye,yt,Ce,Ue,Re,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},X,...d,...f,...y,w,q,...z,...B,D,F]}}const Wi="[A-Za-z$_][0-9A-Za-z$_]*",Nh=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Th=["true","false","null","undefined","NaN","Infinity"],Ah=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Ch=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Oh=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],jh=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Rh=[].concat(Oh,Ah,Ch);function Fv(e){const t=e.regex,n=(P,{after:Q})=>{const x="</"+P[0].slice(1);return P.input.indexOf(x,Q)!==-1},r=Wi,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(P,Q)=>{const x=P[0].length+P.index,B=P.input[x];if(B==="<"||B===","){Q.ignoreMatch();return}B===">"&&(n(P,{after:x})||Q.ignoreMatch());let D;const v=P.input.substring(x);if(D=v.match(/^\s*=/)){Q.ignoreMatch();return}if((D=v.match(/^\s+extends\s+/))&&D.index===0){Q.ignoreMatch();return}}},l={$pattern:Wi,keyword:Nh,literal:Th,built_in:Rh,"variable.language":jh},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},y={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},k={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,y,{match:/\$\d+/},h];g.contains=w.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(w)});const N=[].concat(k,g.contains),O=N.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(N)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:O},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ah,...Ch]}},q={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},U={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(P){return t.concat("(?!",P.join("|"),")")}const X={match:t.concat(/\b/,R([...Oh,"super","import"].map(P=>`${P}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},J={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},I={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},C="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",z={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(C)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),q,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,y,k,{match:/\$\d+/},h,$,{scope:"attr",match:r+t.lookahead(":"),relevance:0},z,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,e.REGEXP_MODE,{className:"function",begin:C,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},J,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},X,U,L,I,{match:/\$[(.]/}]}}function Hv(e){const t=e.regex,n=Fv(e),r=Wi,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:Wi,keyword:Nh.concat(c),literal:Th,built_in:Rh.concat(i),"variable.language":jh},d={className:"meta",begin:"@"+r},h=(m,y,b)=>{const k=m.contains.findIndex(w=>w.label===y);if(k===-1)throw new Error("can not find mode to replace");m.contains.splice(k,1,b)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const g=n.contains.find(m=>m.scope==="attr"),f=Object.assign({},g,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,g,f]),n.contains=n.contains.concat([d,s,a,f]),h(n,"shebang",e.SHEBANG()),h(n,"use_strict",l);const p=n.contains.find(m=>m.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function qv(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,l=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(s,i),/ *#/)},{begin:t.concat(/# */,l,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(s,i),/ +/,t.either(a,l),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),g=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,h,g,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[g]}]}}function Gv(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},l={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,e.QUOTE_STRING_MODE,c,u,l]}}function Wv(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(s,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,l,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,c,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Kv(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},l=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),g={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},p={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},m={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},y=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},g,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},p,m,s,a],b=[...y];return b.pop(),b.push(l),f.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:y}}const Vv={arduino:Cx,bash:Ox,c:jx,cpp:Rx,csharp:Ix,css:Fx,diff:Hx,go:qx,graphql:Gx,ini:Wx,java:Kx,javascript:Qx,json:Zx,kotlin:tv,less:cv,lua:uv,makefile:dv,markdown:hv,objectivec:gv,perl:fv,php:pv,"php-template":mv,plaintext:bv,python:yv,"python-repl":xv,r:vv,ruby:wv,rust:_v,scss:jv,shell:Rv,sql:Iv,swift:Bv,typescript:Hv,vbnet:qv,wasm:Gv,xml:Wv,yaml:Kv};function Ih(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&Ih(n)}),e}let Vl=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Mh(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function nn(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const Yv="</span>",Yl=e=>!!e.scope,Jv=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class Xv{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Mh(t)}openNode(t){if(!Yl(t))return;const n=Jv(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){Yl(t)&&(this.buffer+=Yv)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Jl=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class fo{constructor(){this.rootNode=Jl(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Jl({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{fo._collapse(n)}))}}class Qv extends fo{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new Xv(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function jr(e){return e?typeof e=="string"?e:e.source:null}function Lh(e){return Nn("(?=",e,")")}function Zv(e){return Nn("(?:",e,")*")}function ew(e){return Nn("(?:",e,")?")}function Nn(...e){return e.map(n=>jr(n)).join("")}function tw(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function po(...e){return"("+(tw(e).capture?"":"?:")+e.map(r=>jr(r)).join("|")+")"}function Ph(e){return new RegExp(e.toString()+"|").exec("").length-1}function nw(e,t){const n=e&&e.exec(t);return n&&n.index===0}const rw=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function mo(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let s=jr(r),a="";for(;s.length>0;){const l=rw.exec(s);if(!l){a+=s;break}a+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?a+="\\"+String(Number(l[1])+i):(a+=l[0],l[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}const iw=/\b\B/,Dh="[a-zA-Z]\\w*",bo="[a-zA-Z_]\\w*",zh="\\b\\d+(\\.\\d+)?",Uh="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",$h="\\b(0b[01]+)",sw="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",aw=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Nn(t,/.*\b/,e.binary,/\b.*/)),nn({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},Rr={begin:"\\\\[\\s\\S]",relevance:0},ow={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Rr]},lw={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Rr]},cw={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ds=function(e,t,n={}){const r=nn({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=po("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Nn(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},uw=ds("//","$"),dw=ds("/\\*","\\*/"),hw=ds("#","$"),gw={scope:"number",begin:zh,relevance:0},fw={scope:"number",begin:Uh,relevance:0},pw={scope:"number",begin:$h,relevance:0},mw={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Rr,{begin:/\[/,end:/\]/,relevance:0,contains:[Rr]}]},bw={scope:"title",begin:Dh,relevance:0},yw={scope:"title",begin:bo,relevance:0},xw={begin:"\\.\\s*"+bo,relevance:0},vw=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var di=Object.freeze({__proto__:null,APOS_STRING_MODE:ow,BACKSLASH_ESCAPE:Rr,BINARY_NUMBER_MODE:pw,BINARY_NUMBER_RE:$h,COMMENT:ds,C_BLOCK_COMMENT_MODE:dw,C_LINE_COMMENT_MODE:uw,C_NUMBER_MODE:fw,C_NUMBER_RE:Uh,END_SAME_AS_BEGIN:vw,HASH_COMMENT_MODE:hw,IDENT_RE:Dh,MATCH_NOTHING_RE:iw,METHOD_GUARD:xw,NUMBER_MODE:gw,NUMBER_RE:zh,PHRASAL_WORDS_MODE:cw,QUOTE_STRING_MODE:lw,REGEXP_MODE:mw,RE_STARTERS_RE:sw,SHEBANG:aw,TITLE_MODE:bw,UNDERSCORE_IDENT_RE:bo,UNDERSCORE_TITLE_MODE:yw});function ww(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function _w(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function kw(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=ww,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Ew(e,t){Array.isArray(e.illegal)&&(e.illegal=po(...e.illegal))}function Sw(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Nw(e,t){e.relevance===void 0&&(e.relevance=1)}const Tw=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Nn(n.beforeMatch,Lh(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Aw=["of","and","for","in","not","or","if","then","parent","list","value"],Cw="keyword";function Bh(e,t,n=Cw){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(s){Object.assign(r,Bh(e[s],t,s))}),r;function i(s,a){t&&(a=a.map(l=>l.toLowerCase())),a.forEach(function(l){const c=l.split("|");r[c[0]]=[s,Ow(c[0],c[1])]})}}function Ow(e,t){return t?Number(t):jw(e)?0:1}function jw(e){return Aw.includes(e.toLowerCase())}const Xl={},_n=e=>{console.error(e)},Ql=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Ln=(e,t)=>{Xl[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Xl[`${e}/${t}`]=!0)},Ki=new Error;function Fh(e,t,{key:n}){let r=0;const i=e[n],s={},a={};for(let l=1;l<=t.length;l++)a[l+r]=i[l],s[l+r]=!0,r+=Ph(t[l-1]);e[n]=a,e[n]._emit=s,e[n]._multi=!0}function Rw(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw _n("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ki;if(typeof e.beginScope!="object"||e.beginScope===null)throw _n("beginScope must be object"),Ki;Fh(e,e.begin,{key:"beginScope"}),e.begin=mo(e.begin,{joinWith:""})}}function Iw(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw _n("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ki;if(typeof e.endScope!="object"||e.endScope===null)throw _n("endScope must be object"),Ki;Fh(e,e.end,{key:"endScope"}),e.end=mo(e.end,{joinWith:""})}}function Mw(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Lw(e){Mw(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Rw(e),Iw(e)}function Pw(e){function t(a,l){return new RegExp(jr(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,l]),this.matchAt+=Ph(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(c=>c[1]);this.matcherRe=t(mo(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(l);if(!c)return null;const u=c.findIndex((h,g)=>g>0&&h!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const c=new n;return this.rules.slice(l).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[l]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,c){this.rules.push([l,c]),c.type==="begin"&&this.count++}exec(l){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(a){const l=new r;return a.contains.forEach(c=>l.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&l.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&l.addRule(a.illegal,{type:"illegal"}),l}function s(a,l){const c=a;if(a.isCompiled)return c;[_w,Sw,Lw,Tw].forEach(d=>d(a,l)),e.compilerExtensions.forEach(d=>d(a,l)),a.__beforeBegin=null,[kw,Ew,Nw].forEach(d=>d(a,l)),a.isCompiled=!0;let u=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=Bh(a.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),l&&(a.begin||(a.begin=/\B|\b/),c.beginRe=t(c.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=t(c.end)),c.terminatorEnd=jr(c.end)||"",a.endsWithParent&&l.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+l.terminatorEnd)),a.illegal&&(c.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return Dw(d==="self"?a:d)})),a.contains.forEach(function(d){s(d,c)}),a.starts&&s(a.starts,l),c.matcher=i(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=nn(e.classNameAliases||{}),s(e)}function Hh(e){return e?e.endsWithParent||Hh(e.starts):!1}function Dw(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return nn(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Hh(e)?nn(e,{starts:e.starts?nn(e.starts):null}):Object.isFrozen(e)?nn(e):e}var zw="11.11.1";class Uw extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const $s=Mh,Zl=nn,ec=Symbol("nomatch"),$w=7,qh=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Qv};function c(C){return l.noHighlightRe.test(C)}function u(C){let z=C.className+" ";z+=C.parentNode?C.parentNode.className:"";const P=l.languageDetectRe.exec(z);if(P){const Q=$(P[1]);return Q||(Ql(s.replace("{}",P[1])),Ql("Falling back to no-highlight mode for this block.",C)),Q?P[1]:"no-highlight"}return z.split(/\s+/).find(Q=>c(Q)||$(Q))}function d(C,z,P){let Q="",x="";typeof z=="object"?(Q=C,P=z.ignoreIllegals,x=z.language):(Ln("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ln("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),x=C,Q=z),P===void 0&&(P=!0);const B={code:Q,language:x};J("before:highlight",B);const D=B.result?B.result:h(B.language,B.code,P);return D.code=B.code,J("after:highlight",D),D}function h(C,z,P,Q){const x=Object.create(null);function B(S,j){return S.keywords[j]}function D(){if(!re.keywords){ke.addText(be);return}let S=0;re.keywordPatternRe.lastIndex=0;let j=re.keywordPatternRe.exec(be),K="";for(;j;){K+=be.substring(S,j.index);const Z=Ce.case_insensitive?j[0].toLowerCase():j[0],le=B(re,Z);if(le){const[Ee,ft]=le;if(ke.addText(K),K="",x[Z]=(x[Z]||0)+1,x[Z]<=$w&&(Ut+=ft),Ee.startsWith("_"))K+=j[0];else{const qe=Ce.classNameAliases[Ee]||Ee;F(j[0],qe)}}else K+=j[0];S=re.keywordPatternRe.lastIndex,j=re.keywordPatternRe.exec(be)}K+=be.substring(S),ke.addText(K)}function v(){if(be==="")return;let S=null;if(typeof re.subLanguage=="string"){if(!t[re.subLanguage]){ke.addText(be);return}S=h(re.subLanguage,be,!0,gt[re.subLanguage]),gt[re.subLanguage]=S._top}else S=f(be,re.subLanguage.length?re.subLanguage:null);re.relevance>0&&(Ut+=S.relevance),ke.__addSublanguage(S._emitter,S.language)}function T(){re.subLanguage!=null?v():D(),be=""}function F(S,j){S!==""&&(ke.startScope(j),ke.addText(S),ke.endScope())}function V(S,j){let K=1;const Z=j.length-1;for(;K<=Z;){if(!S._emit[K]){K++;continue}const le=Ce.classNameAliases[S[K]]||S[K],Ee=j[K];le?F(Ee,le):(be=Ee,D(),be=""),K++}}function Y(S,j){return S.scope&&typeof S.scope=="string"&&ke.openNode(Ce.classNameAliases[S.scope]||S.scope),S.beginScope&&(S.beginScope._wrap?(F(be,Ce.classNameAliases[S.beginScope._wrap]||S.beginScope._wrap),be=""):S.beginScope._multi&&(V(S.beginScope,j),be="")),re=Object.create(S,{parent:{value:re}}),re}function he(S,j,K){let Z=nw(S.endRe,K);if(Z){if(S["on:end"]){const le=new Vl(S);S["on:end"](j,le),le.isMatchIgnored&&(Z=!1)}if(Z){for(;S.endsParent&&S.parent;)S=S.parent;return S}}if(S.endsWithParent)return he(S.parent,j,K)}function Oe(S){return re.matcher.regexIndex===0?(be+=S[0],1):(vt=!0,0)}function Ne(S){const j=S[0],K=S.rule,Z=new Vl(K),le=[K.__beforeBegin,K["on:begin"]];for(const Ee of le)if(Ee&&(Ee(S,Z),Z.isMatchIgnored))return Oe(j);return K.skip?be+=j:(K.excludeBegin&&(be+=j),T(),!K.returnBegin&&!K.excludeBegin&&(be=j)),Y(K,S),K.returnBegin?0:j.length}function Ue(S){const j=S[0],K=z.substring(S.index),Z=he(re,S,K);if(!Z)return ec;const le=re;re.endScope&&re.endScope._wrap?(T(),F(j,re.endScope._wrap)):re.endScope&&re.endScope._multi?(T(),V(re.endScope,S)):le.skip?be+=j:(le.returnEnd||le.excludeEnd||(be+=j),T(),le.excludeEnd&&(be=j));do re.scope&&ke.closeNode(),!re.skip&&!re.subLanguage&&(Ut+=re.relevance),re=re.parent;while(re!==Z.parent);return Z.starts&&Y(Z.starts,S),le.returnEnd?0:j.length}function Re(){const S=[];for(let j=re;j!==Ce;j=j.parent)j.scope&&S.unshift(j.scope);S.forEach(j=>ke.openNode(j))}let Ye={};function yt(S,j){const K=j&&j[0];if(be+=S,K==null)return T(),0;if(Ye.type==="begin"&&j.type==="end"&&Ye.index===j.index&&K===""){if(be+=z.slice(j.index,j.index+1),!i){const Z=new Error(`0 width match regex (${C})`);throw Z.languageName=C,Z.badRule=Ye.rule,Z}return 1}if(Ye=j,j.type==="begin")return Ne(j);if(j.type==="illegal"&&!P){const Z=new Error('Illegal lexeme "'+K+'" for mode "'+(re.scope||"<unnamed>")+'"');throw Z.mode=re,Z}else if(j.type==="end"){const Z=Ue(j);if(Z!==ec)return Z}if(j.type==="illegal"&&K==="")return be+=`
`,1;if($t>1e5&&$t>j.index*3)throw new Error("potential infinite loop, way more iterations than matches");return be+=K,K.length}const Ce=$(C);if(!Ce)throw _n(s.replace("{}",C)),new Error('Unknown language: "'+C+'"');const pe=Pw(Ce);let Je="",re=Q||pe;const gt={},ke=new l.__emitter(l);Re();let be="",Ut=0,xt=0,$t=0,vt=!1;try{if(Ce.__emitTokens)Ce.__emitTokens(z,ke);else{for(re.matcher.considerAll();;){$t++,vt?vt=!1:re.matcher.considerAll(),re.matcher.lastIndex=xt;const S=re.matcher.exec(z);if(!S)break;const j=z.substring(xt,S.index),K=yt(j,S);xt=S.index+K}yt(z.substring(xt))}return ke.finalize(),Je=ke.toHTML(),{language:C,value:Je,relevance:Ut,illegal:!1,_emitter:ke,_top:re}}catch(S){if(S.message&&S.message.includes("Illegal"))return{language:C,value:$s(z),illegal:!0,relevance:0,_illegalBy:{message:S.message,index:xt,context:z.slice(xt-100,xt+100),mode:S.mode,resultSoFar:Je},_emitter:ke};if(i)return{language:C,value:$s(z),illegal:!1,relevance:0,errorRaised:S,_emitter:ke,_top:re};throw S}}function g(C){const z={value:$s(C),illegal:!1,relevance:0,_top:a,_emitter:new l.__emitter(l)};return z._emitter.addText(C),z}function f(C,z){z=z||l.languages||Object.keys(t);const P=g(C),Q=z.filter($).filter(A).map(T=>h(T,C,!1));Q.unshift(P);const x=Q.sort((T,F)=>{if(T.relevance!==F.relevance)return F.relevance-T.relevance;if(T.language&&F.language){if($(T.language).supersetOf===F.language)return 1;if($(F.language).supersetOf===T.language)return-1}return 0}),[B,D]=x,v=B;return v.secondBest=D,v}function p(C,z,P){const Q=z&&n[z]||P;C.classList.add("hljs"),C.classList.add(`language-${Q}`)}function m(C){let z=null;const P=u(C);if(c(P))return;if(J("before:highlightElement",{el:C,language:P}),C.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",C);return}if(C.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(C)),l.throwUnescapedHTML))throw new Uw("One of your code blocks includes unescaped HTML.",C.innerHTML);z=C;const Q=z.textContent,x=P?d(Q,{language:P,ignoreIllegals:!0}):f(Q);C.innerHTML=x.value,C.dataset.highlighted="yes",p(C,P,x.language),C.result={language:x.language,re:x.relevance,relevance:x.relevance},x.secondBest&&(C.secondBest={language:x.secondBest.language,relevance:x.secondBest.relevance}),J("after:highlightElement",{el:C,result:x,text:Q})}function y(C){l=Zl(l,C)}const b=()=>{N(),Ln("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function k(){N(),Ln("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let w=!1;function N(){function C(){N()}if(document.readyState==="loading"){w||window.addEventListener("DOMContentLoaded",C,!1),w=!0;return}document.querySelectorAll(l.cssSelector).forEach(m)}function O(C,z){let P=null;try{P=z(e)}catch(Q){if(_n("Language definition for '{}' could not be registered.".replace("{}",C)),i)_n(Q);else throw Q;P=a}P.name||(P.name=C),t[C]=P,P.rawDefinition=z.bind(null,e),P.aliases&&q(P.aliases,{languageName:C})}function _(C){delete t[C];for(const z of Object.keys(n))n[z]===C&&delete n[z]}function L(){return Object.keys(t)}function $(C){return C=(C||"").toLowerCase(),t[C]||t[n[C]]}function q(C,{languageName:z}){typeof C=="string"&&(C=[C]),C.forEach(P=>{n[P.toLowerCase()]=z})}function A(C){const z=$(C);return z&&!z.disableAutodetect}function U(C){C["before:highlightBlock"]&&!C["before:highlightElement"]&&(C["before:highlightElement"]=z=>{C["before:highlightBlock"](Object.assign({block:z.el},z))}),C["after:highlightBlock"]&&!C["after:highlightElement"]&&(C["after:highlightElement"]=z=>{C["after:highlightBlock"](Object.assign({block:z.el},z))})}function R(C){U(C),r.push(C)}function X(C){const z=r.indexOf(C);z!==-1&&r.splice(z,1)}function J(C,z){const P=C;r.forEach(function(Q){Q[P]&&Q[P](z)})}function I(C){return Ln("10.7.0","highlightBlock will be removed entirely in v12.0"),Ln("10.7.0","Please use highlightElement now."),m(C)}Object.assign(e,{highlight:d,highlightAuto:f,highlightAll:N,highlightElement:m,highlightBlock:I,configure:y,initHighlighting:b,initHighlightingOnLoad:k,registerLanguage:O,unregisterLanguage:_,listLanguages:L,getLanguage:$,registerAliases:q,autoDetection:A,inherit:Zl,addPlugin:R,removePlugin:X}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=zw,e.regex={concat:Nn,lookahead:Lh,either:po,optional:ew,anyNumberOfTimes:Zv};for(const C in di)typeof di[C]=="object"&&Ih(di[C]);return Object.assign(e,di),e},Qn=qh({});Qn.newInstance=()=>qh({});var Bw=Qn;Qn.HighlightJS=Qn;Qn.default=Qn;const Fw=Sn(Bw),tc={},Hw="hljs-";function qw(e){const t=Fw.newInstance();return e&&s(e),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:l};function n(c,u,d){const h=d||tc,g=typeof h.prefix=="string"?h.prefix:Hw;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:Gw,classPrefix:g});const f=t.highlight(u,{ignoreIllegals:!0,language:c});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});const p=f._emitter.root,m=p.data;return m.language=f.language,m.relevance=f.relevance,p}function r(c,u){const h=(u||tc).subset||i();let g=-1,f=0,p;for(;++g<h.length;){const m=h[g];if(!t.getLanguage(m))continue;const y=n(m,c,u);y.data&&y.data.relevance!==void 0&&y.data.relevance>f&&(f=y.data.relevance,p=y)}return p||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return t.listLanguages()}function s(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function a(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const h=c[d];t.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function l(c){return!!t.getLanguage(c)}}class Gw{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(a,l){return l?a+"_".repeat(l):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const Ww=$r.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Pt(this.options.HTMLAttributes,e),0]}}),Kw=$r.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Pt(this.options.HTMLAttributes,e),0]}}),Vw=$r.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Pt(this.options.HTMLAttributes,e),0]}}),Yw=$r.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Pt(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Jw=/^\s*(\[([( |x])?\])\s$/,Xw=$r.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Pt(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=()=>{var d,h;l.ariaLabel=((h=(d=this.options.a11y)===null||d===void 0?void 0:d.checkboxLabel)===null||h===void 0?void 0:h.call(d,e,l.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return u(),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",d=>d.preventDefault()),l.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:h}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const f=n();if(typeof f!="number")return!1;const p=g.doc.nodeAt(f);return g.setNodeMarkup(f,void 0,{...p==null?void 0:p.attrs,checked:h}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,h)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,h])=>{i.setAttribute(d,h)}),i.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,s.append(l,a),i.append(s,c),Object.entries(t).forEach(([d,h])=>{i.setAttribute(d,h)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,l.checked=d.attrs.checked,u(),!0)}}},addInputRules(){return[gp({find:Jw,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),Qw=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Zw=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,e_=Ur.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[pp({find:Qw,type:this.type})]},addPasteRules(){return[fp({find:Zw,type:this.type})]}}),t_=qw(Vv),n_=[{name:"Inter",value:"Inter, sans-serif"},{name:"Arial",value:"Arial, sans-serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Mono",value:"monospace"},{name:"Cursive",value:"cursive"},{name:"Comic Sans",value:"Comic Sans MS, Comic Sans, cursive"}],ge=({onClick:e,isActive:t=!1,disabled:n=!1,children:r,title:i,className:s})=>o.jsx("button",{onClick:e,disabled:n,className:He("p-1.5 rounded-md transition-colors flex items-center justify-center min-w-[28px]",t?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800",n&&"opacity-30 cursor-not-allowed",s),title:i,type:"button",children:r}),Pn=()=>o.jsx("div",{className:"w-px h-5 bg-gray-300 dark:bg-gray-700 mx-1 self-center"}),r_=({editor:e,saveStatus:t})=>{const n=M.useRef(null),r=M.useRef(null),[i,s]=M.useState("16");if(!e)return null;const a=()=>{const h=e.getAttributes("link").href,g=window.prompt("URL",h);if(g!==null){if(g===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:g}).run()}},l=()=>{const h=window.prompt("Image URL");h&&e.chain().focus().setImage({src:h}).run()},c=()=>{const h=window.prompt("Enter YouTube URL");h&&e.commands.setYoutubeVideo({src:h})},u=h=>{const g=h.target.value;s(g),g&&e.chain().focus().setFontSize(`${g}px`).run()},d=h=>{var p;const g=(p=h.target.files)==null?void 0:p[0];if(!g)return;const f=new FileReader;f.onload=m=>{var y;try{const b=JSON.parse((y=m.target)==null?void 0:y.result);let k="";b.cells&&Array.isArray(b.cells)&&b.cells.forEach(w=>{if(w.cell_type==="markdown"){const N=Array.isArray(w.source)?w.source.join(""):w.source;k+=`<p>${N}</p>`}else if(w.cell_type==="code"){const N=Array.isArray(w.source)?w.source.join(""):w.source;k+=`<pre><code>${N}</code></pre>`}}),e.chain().focus().insertContent(k).run()}catch{alert("Failed to parse IPYNB file.")}},f.readAsText(g),n.current&&(n.current.value="")};return o.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 px-4 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 sticky top-0 z-20 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-0.5 mr-2",children:[o.jsx(ge,{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),title:"Undo",children:o.jsx(Sf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),title:"Redo",children:o.jsx(Nf,{size:16})})]}),o.jsx(Pn,{}),o.jsxs("div",{className:"relative group",children:[o.jsxs("select",{onChange:h=>e.chain().focus().setFontFamily(h.target.value).run(),value:e.getAttributes("textStyle").fontFamily||"",className:"h-7 pl-2 pr-6 text-xs bg-transparent hover:bg-gray-200 dark:hover:bg-gray-800 rounded focus:outline-none appearance-none cursor-pointer min-w-[80px] text-gray-700 dark:text-gray-300 border border-transparent hover:border-gray-300 dark:hover:border-gray-700",children:[o.jsx("option",{value:"",children:"Font"}),n_.map(h=>o.jsx("option",{value:h.value,children:h.name},h.name))]}),o.jsx(Oi,{size:12,className:"absolute right-1 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500"})]}),o.jsxs("div",{className:"flex items-center gap-1 mx-1",children:[o.jsx(ia,{size:14,className:"text-gray-400"}),o.jsx("input",{type:"number",min:"1",max:"100",value:parseInt(e.getAttributes("textStyle").fontSize)||i,onChange:u,className:"w-12 h-7 px-1 text-xs bg-transparent border border-gray-300 dark:border-gray-700 rounded text-center focus:outline-none focus:border-indigo-500",title:"Font Size (px)"})]}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("input",{type:"color",ref:r,onChange:h=>e.chain().focus().setColor(h.target.value).run(),value:e.getAttributes("textStyle").color||"#000000",className:"absolute opacity-0 w-full h-full cursor-pointer"}),o.jsx(ge,{onClick:()=>{var h;return(h=r.current)==null?void 0:h.click()},title:"Text Color",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(uu,{size:16}),o.jsx("div",{className:"w-4 h-1 mt-0.5 rounded-full",style:{backgroundColor:e.getAttributes("textStyle").color||"currentColor"}})]})})]}),o.jsx(Pn,{}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleBold().run(),isActive:e.isActive("bold"),title:"Bold (Cmd+B)",children:o.jsx(Ya,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleItalic().run(),isActive:e.isActive("italic"),title:"Italic (Cmd+I)",children:o.jsx(Ja,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleUnderline().run(),isActive:e.isActive("underline"),title:"Underline (Cmd+U)",children:o.jsx(Tf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleStrike().run(),isActive:e.isActive("strike"),title:"Strikethrough",children:o.jsx(Af,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleHighlight().run(),isActive:e.isActive("highlight"),title:"Highlight",children:o.jsx(Cf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().unsetAllMarks().run(),title:"Clear Formatting",children:o.jsx(Of,{size:16})}),o.jsx(Pn,{}),o.jsxs("div",{className:"relative group",children:[o.jsxs("select",{onChange:h=>{const g=h.target.value;g==="p"?e.chain().focus().setParagraph().run():e.chain().focus().toggleHeading({level:parseInt(g)}).run()},value:e.isActive("heading",{level:1})?"1":e.isActive("heading",{level:2})?"2":e.isActive("heading",{level:3})?"3":e.isActive("heading",{level:4})?"4":e.isActive("heading",{level:5})?"5":e.isActive("heading",{level:6})?"6":"p",className:"h-7 pl-2 pr-6 text-xs bg-transparent hover:bg-gray-200 dark:hover:bg-gray-800 rounded focus:outline-none appearance-none cursor-pointer min-w-[90px] text-gray-700 dark:text-gray-300 border border-transparent hover:border-gray-300 dark:hover:border-gray-700",children:[o.jsx("option",{value:"p",children:"Paragraph"}),o.jsx("option",{value:"1",children:"Heading 1"}),o.jsx("option",{value:"2",children:"Heading 2"}),o.jsx("option",{value:"3",children:"Heading 3"}),o.jsx("option",{value:"4",children:"Heading 4"}),o.jsx("option",{value:"5",children:"Heading 5"}),o.jsx("option",{value:"6",children:"Heading 6"})]}),o.jsx(Oi,{size:12,className:"absolute right-1 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500"})]}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleBulletList().run(),isActive:e.isActive("bulletList"),title:"Bullet List",children:o.jsx(Wa,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleOrderedList().run(),isActive:e.isActive("orderedList"),title:"Ordered List",children:o.jsx(jf,{size:16})}),o.jsxs("div",{className:"flex items-center gap-0.5",children:[o.jsx(ge,{onClick:()=>e.chain().focus().sinkListItem("listItem").run(),disabled:!e.can().sinkListItem("listItem"),title:"Indent",children:o.jsx(Rf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().liftListItem("listItem").run(),disabled:!e.can().liftListItem("listItem"),title:"Outdent",children:o.jsx(If,{size:16})})]}),o.jsx(Pn,{}),o.jsxs("div",{className:"flex items-center gap-0.5",children:[o.jsx(ge,{onClick:()=>e.chain().focus().setTextAlign("left").run(),isActive:e.isActive({textAlign:"left"}),title:"Align Left",children:o.jsx(Mf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().setTextAlign("center").run(),isActive:e.isActive({textAlign:"center"}),title:"Align Center",children:o.jsx(Lf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().setTextAlign("right").run(),isActive:e.isActive({textAlign:"right"}),title:"Align Right",children:o.jsx(Pf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().setTextAlign("justify").run(),isActive:e.isActive({textAlign:"justify"}),title:"Justify",children:o.jsx(nu,{size:16})})]}),o.jsxs("div",{className:"relative group ml-1 flex items-center",children:[o.jsx(Df,{size:14,className:"text-gray-400 mr-1"}),o.jsxs("select",{onChange:h=>e.chain().focus().setLineHeight(h.target.value).run(),value:e.getAttributes("paragraph").lineHeight||"1.5",className:"h-7 pl-1 pr-4 text-xs bg-transparent hover:bg-gray-200 dark:hover:bg-gray-800 rounded focus:outline-none appearance-none cursor-pointer w-[50px] text-gray-700 dark:text-gray-300 border border-transparent hover:border-gray-300",title:"Line Spacing",children:[o.jsx("option",{value:"1.0",children:"1.0"}),o.jsx("option",{value:"1.15",children:"1.15"}),o.jsx("option",{value:"1.25",children:"1.25"}),o.jsx("option",{value:"1.5",children:"1.5"}),o.jsx("option",{value:"1.75",children:"1.75"}),o.jsx("option",{value:"2.0",children:"2.0"}),o.jsx("option",{value:"2.5",children:"2.5"}),o.jsx("option",{value:"3.0",children:"3.0"})]})]}),o.jsx(Pn,{}),o.jsxs("div",{className:"flex items-center gap-0.5",children:[o.jsx(ge,{onClick:()=>e.chain().focus().toggleSubscript().run(),isActive:e.isActive("subscript"),title:"Subscript",children:o.jsx(zf,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleSuperscript().run(),isActive:e.isActive("superscript"),title:"Superscript",children:o.jsx(Uf,{size:16})})]}),o.jsx(Pn,{}),o.jsxs("div",{className:"flex items-center gap-0.5",children:[o.jsx(ge,{onClick:a,isActive:e.isActive("link"),title:"Insert/Edit Link",children:o.jsx(kn,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().unsetLink().run(),disabled:!e.isActive("link"),title:"Remove Link",children:o.jsx(au,{size:16})}),o.jsx(ge,{onClick:l,title:"Insert Image",children:o.jsx(du,{size:16})}),o.jsx(ge,{onClick:c,title:"Insert YouTube Video",children:o.jsx(cu,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleCodeBlock().run(),isActive:e.isActive("codeBlock"),title:"Code Block",children:o.jsx(Ri,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().toggleBlockquote().run(),isActive:e.isActive("blockquote"),title:"Quote",children:o.jsx(Qc,{size:16})}),o.jsx(ge,{onClick:()=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),title:"Insert Table",children:o.jsx($f,{size:16})})]}),o.jsx("div",{className:"flex-1"}),t&&o.jsxs("div",{className:"flex items-center gap-2 mr-4 text-xs font-medium",children:[t==="saving"&&o.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[o.jsx(Bf,{size:14,className:"animate-pulse"})," Saving..."]}),t==="saved"&&o.jsxs("span",{className:"text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx(Dr,{size:14})," Saved"]}),t==="unsaved"&&o.jsxs("span",{className:"text-amber-500 flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"})," Unsaved"]}),t==="error"&&o.jsx("span",{className:"text-red-500 flex items-center gap-1",children:"Error saving"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",accept:".ipynb",ref:n,onChange:d,className:"hidden"}),o.jsxs("button",{onClick:()=>{var h;return(h=n.current)==null?void 0:h.click()},className:"flex items-center gap-1 text-xs font-medium text-gray-500 hover:text-indigo-600 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:[o.jsx(Ff,{size:14})," Import"]})]})]})},i_=({content:e,onChange:t,placeholder:n="Start writing...",saveStatus:r})=>{const i=mp({extensions:[bp.configure({heading:{levels:[1,2,3,4,5,6]},codeBlock:!1}),yp.configure({lowlight:t_}),rx.configure({placeholder:n}),ix,xp.configure({openOnClick:!1,HTMLAttributes:{class:"text-indigo-600 hover:underline cursor-pointer"}}),Ky,Vy.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),Qy,Zy,tx,nx,ex,vp.configure({inline:!0,allowBase64:!0}),wp.configure({controls:!1}),Tx,Yy,Jy,_p.configure({resizable:!0}),Ww,Vw,Kw,Yw,Xw.configure({nested:!0}),e_],content:e,editorProps:{attributes:{class:"prose prose-sm sm:prose-base dark:prose-invert focus:outline-none max-w-none editor-page"}},onUpdate:({editor:s})=>{t(s.getHTML())}});return i?o.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-100 dark:bg-gray-950 overflow-hidden border border-gray-200 dark:border-gray-800 rounded-xl",children:[o.jsx(r_,{editor:i,saveStatus:r}),o.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-gray-950 p-4",children:[i&&o.jsxs(kp,{editor:i,tippyOptions:{duration:100},className:"tiptap-menu",children:[o.jsx(ge,{onClick:()=>i.chain().focus().toggleBold().run(),isActive:i.isActive("bold"),title:"Bold",children:o.jsx(Ya,{size:14})}),o.jsx(ge,{onClick:()=>i.chain().focus().toggleItalic().run(),isActive:i.isActive("italic"),title:"Italic",children:o.jsx(Ja,{size:14})}),o.jsx(ge,{onClick:()=>i.chain().focus().toggleCode().run(),isActive:i.isActive("code"),title:"Inline Code",children:o.jsx(Ri,{size:14})}),o.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),i.isActive("link")?o.jsxs(o.Fragment,{children:[o.jsx(ge,{onClick:()=>{const s=window.prompt("Edit URL",i.getAttributes("link").href);s&&i.chain().focus().extendMarkRange("link").setLink({href:s}).run()},title:"Edit Link",children:o.jsx(kn,{size:14})}),o.jsx(ge,{onClick:()=>i.chain().focus().unsetLink().run(),title:"Unlink",children:o.jsx(au,{size:14})})]}):o.jsx(ge,{onClick:()=>{const s=window.prompt("URL");s&&i.chain().focus().setLink({href:s}).run()},title:"Link",children:o.jsx(kn,{size:14})})]}),i&&o.jsxs(Ep,{editor:i,tippyOptions:{duration:100},className:"tiptap-menu",children:[o.jsx(ge,{onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),isActive:i.isActive("heading",{level:1}),title:"Heading 1",children:o.jsx(ou,{size:14})}),o.jsx(ge,{onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),isActive:i.isActive("heading",{level:2}),title:"Heading 2",children:o.jsx(lu,{size:14})}),o.jsx(ge,{onClick:()=>i.chain().focus().toggleBulletList().run(),isActive:i.isActive("bulletList"),title:"List",children:o.jsx(Wa,{size:14})}),o.jsx(ge,{onClick:()=>i.chain().focus().toggleCodeBlock().run(),isActive:i.isActive("codeBlock"),title:"Code Block",children:o.jsx(Ri,{size:14})}),o.jsx(ge,{onClick:()=>{const s=window.prompt("YouTube URL");s&&i.commands.setYoutubeVideo({src:s})},title:"YouTube",children:o.jsx(cu,{size:14})})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Sp,{editor:i,className:"w-full max-w-[850px]"})})]}),o.jsxs("div",{className:"px-4 py-1 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 text-xs text-gray-500 flex justify-between items-center",children:[o.jsx("div",{className:"flex items-center gap-2"}),o.jsxs("div",{children:[i.storage.characterCount.words()," words"]})]})]}):null},s_=e=>{const t=[],n=e.split(`
`);let r=[],i="text",s="text";const a=()=>{if(r.length>0){const l=r.join(`
`).trim();l&&t.push({type:i,value:l,language:i==="code"?s:void 0}),r=[]}};for(let l=0;l<n.length;l++){const c=n[l];if(c.startsWith("# ")||c.startsWith("## ")||c.startsWith("### ")){a(),t.push({type:"heading",value:c.replace(/^#+\s/,"")}),i="text";continue}if(c.trim().startsWith("```")){i==="code"?(a(),i="text"):(a(),i="code",s=c.trim().replace("```","")||"text");continue}if(c.trim().startsWith("> [!NOTE]")||c.trim().startsWith("> ")){i!=="note"&&(a(),i="note"),r.push(c.replace(/^>\s?(\[!NOTE\])?/,"").trim());continue}i==="note"&&!c.trim().startsWith(">")&&(a(),i="text"),r.push(c)}return a(),t},a_=e=>!e||!Array.isArray(e)?"":e.map(t=>{switch(t.type){case"heading":return`## ${t.value}
`;case"code":return`\`\`\`${t.language||""}
${t.value}
\`\`\`
`;case"note":return`> [!NOTE]
> ${t.value}
`;default:return`${t.value}
`}}).join(`
`),o_=e=>!e||!Array.isArray(e)?"":e.map(t=>{switch(t.type){case"heading":return`<h2>${t.value}</h2>`;case"code":return`<pre><code class="language-${t.language||"text"}">${t.value}</code></pre>`;case"note":return`<blockquote>${t.value}</blockquote>`;case"image":return`<img src="${t.value}" alt="Image" />`;default:return`<p>${t.value}</p>`}}).join(""),Wt=({content:e,onChange:t,label:n,minHeight:r="300px",saveStatus:i})=>{const[s,a]=M.useState("rich"),[l,c]=M.useState(""),[u,d]=M.useState(!1),h=M.useRef(null);M.useEffect(()=>{Array.isArray(e)?(a("markdown"),c(a_(e))):(a("rich"),c(typeof e=="string"?e:""))},[]);const g=()=>{if(confirm("Convert to Visual Editor? Switching back to Markdown might lose some formatting.")){const b=s_(l),k=o_(b);c(k),a("rich"),t(k)}},f=b=>{c(b),t(b)},p=(b,k="")=>{const w=h.current;if(!w)return;const N=w.selectionStart,O=w.selectionEnd,_=w.value,L=_.substring(N,O),$=_.substring(0,N)+b+L+k+_.substring(O);f($),setTimeout(()=>{w.focus();const q=N+b.length+L.length+k.length,A=L.length>0?q:N+b.length;w.setSelectionRange(A,A)},0)},m=({icon:b,label:k,onClick:w})=>o.jsx("button",{onClick:w,className:"p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:k,type:"button",children:o.jsx(b,{size:16})}),y=u?"fixed inset-0 z-[100] bg-white dark:bg-gray-900 p-6 flex flex-col":"relative flex flex-col border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-gray-900";return o.jsxs("div",{className:y,children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-950",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[n&&o.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:n}),o.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 rounded-lg p-0.5",children:[o.jsx("button",{onClick:()=>a("rich"),className:He("px-3 py-1 text-xs font-bold rounded-md transition-all",s==="rich"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"),children:"Visual"}),o.jsx("button",{onClick:()=>a("markdown"),className:He("px-3 py-1 text-xs font-bold rounded-md transition-all",s==="markdown"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"),children:"Markdown"})]}),s==="markdown"&&o.jsxs("button",{onClick:g,className:"text-xs flex items-center gap-1 text-indigo-600 hover:underline",title:"Convert Markdown to Rich Text",children:[o.jsx(Ga,{size:12})," Convert"]})]}),o.jsx("button",{onClick:()=>d(!u),className:"p-1.5 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",title:u?"Exit Full Screen":"Full Screen",type:"button",children:u?o.jsx(Zi,{size:18}):o.jsx(Pr,{size:18})})]}),o.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",style:{minHeight:u?"auto":r},children:s==="rich"?o.jsx(i_,{content:l,onChange:f,saveStatus:i}):o.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 flex-shrink-0",children:[o.jsx(m,{icon:Ya,label:"Bold",onClick:()=>p("**","**")}),o.jsx(m,{icon:Ja,label:"Italic",onClick:()=>p("*","*")}),o.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),o.jsx(m,{icon:ou,label:"Heading 1",onClick:()=>p("# ")}),o.jsx(m,{icon:lu,label:"Heading 2",onClick:()=>p("## ")}),o.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),o.jsx(m,{icon:Ri,label:"Code Block",onClick:()=>p("```\n","\n```")}),o.jsx(m,{icon:kn,label:"Link",onClick:()=>p("[","](url)")}),o.jsx(m,{icon:du,label:"Image",onClick:()=>p("![alt](",")")}),o.jsx(m,{icon:sn,label:"Note/Callout",onClick:()=>p(`> [!NOTE]
> `)})]}),o.jsx("textarea",{ref:h,value:l,onChange:b=>f(b.target.value),className:"w-full h-full flex-1 p-4 font-mono text-sm bg-white dark:bg-gray-950 focus:outline-none resize-none leading-relaxed",placeholder:"# Topic Title\\n\\nWrite your content here..."})]})}),u&&o.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 flex justify-end",children:o.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700",children:"Done"})})]})},Gh=(e,t,n=2e3)=>{const[r,i]=M.useState("saved"),[s,a]=M.useState(e),l=M.useCallback(c=>{i("saving"),t(c).then(()=>{i("saved"),a(c)}).catch(u=>{console.error("Auto-save failed:",u),i("error")})},[t]);return M.useEffect(()=>{const c=setTimeout(()=>{JSON.stringify(e)!==JSON.stringify(s)&&l(e)},n);return()=>{clearTimeout(c)}},[e,n,l,s]),M.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(s)&&i("unsaved")},[e,s]),r},l_=({subjects:e,onRefresh:t})=>{const[n,r]=M.useState(null),[i,s]=M.useState(null),[a,l]=M.useState(null),[c,u]=M.useState(""),[d,h]=M.useState(null),[g,f]=M.useState(!1),[p,m]=M.useState(!1),[y,b]=M.useState(null),[k,w]=M.useState(null),[N,O]=M.useState(""),[_,L]=M.useState(""),[$,q]=M.useState("Code2"),[A,U]=M.useState(0),R=[...e].sort((D,v)=>(D.display_order||0)-(v.display_order||0)),J=Gh(c,async D=>{if(!a||!H)return;let v="5 min";if(typeof D=="string")v=`${Math.max(1,Math.ceil(D.length/500))} min`;else if(Array.isArray(D)){const T=D.map(F=>F.value).join(" ");v=`${Math.max(1,Math.ceil(T.length/500))} min`}await H.from("topics").update({content:D,read_time:v}).eq("id",a.id)},3e3);M.useEffect(()=>{if(!H||!a)return;const D=H.channel(`topic:${a.id}`).on("presence",{event:"sync"},()=>{const v=D.presenceState();U(Object.keys(v).length)}).subscribe(async v=>{v==="SUBSCRIBED"&&await D.track({user:"admin",online_at:new Date().toISOString()})});return()=>{H.removeChannel(D)}},[a]);const I=async(D,v)=>{if(confirm("Are you sure? This action cannot be undone.")&&H){const{error:T}=await H.from(D).delete().eq("id",v);T?alert(`Error deleting item: ${T.message}`):t()}},C=async(D,v,T,F)=>{if(!H)return;const V=[...v].sort((Ne,Ue)=>(Ne.display_order||0)-(Ue.display_order||0)),Y=F==="up"?T-1:T+1;if(Y<0||Y>=V.length)return;const he=V[T];V[T]=V[Y],V[Y]=he;const Oe=V.map((Ne,Ue)=>({id:Ne.id,display_order:Ue+1}));for(const Ne of Oe)await H.from(D).update({display_order:Ne.display_order}).eq("id",Ne.id);t()},z=async()=>{if(!N.trim()||!H)return;const D=xi(N),v=Math.max(...e.map(F=>F.display_order||0),0),{error:T}=await H.from("subjects").insert({id:D,title:N,description:_||"New Subject Description",icon:$||"Code2",color:"from-gray-500 to-gray-700",level:"Beginner",display_order:v+1});T?alert(`Error creating subject: ${T.message}`):(O(""),L(""),q("Code2"),m(!1),t())},P=async()=>{if(!d||!H)return;const{error:D}=await H.from("subjects").update({title:d.title,description:d.description,icon:d.icon}).eq("id",d.id);D?alert(`Error updating subject: ${D.message}`):(h(null),t())},Q=async D=>{if(!N.trim()||!H)return;const v=xi(N),T=e.find(Y=>Y.id===D),F=Math.max(...(T==null?void 0:T.modules.map(Y=>Y.display_order||0))||[],0),{error:V}=await H.from("modules").insert({id:v,title:N,subject_id:D,description:"New module",display_order:F+1});V?alert(`Error creating module: ${V.message}`):(O(""),b(null),t())},x=async D=>{if(!N.trim()||!H)return;const v=xi(N);let T=0;e.forEach(V=>{const Y=V.modules.find(he=>he.id===D);Y&&(T=Math.max(...Y.topics.map(he=>he.display_order||0),0))});const{error:F}=await H.from("topics").insert({id:v,title:N,module_id:D,read_time:"5 min",content:"",display_order:T+1});F?alert(`Error creating topic: ${F.message}`):(O(""),w(null),t())},B=D=>{l(D),u(D.content)};return a?o.jsxs("div",{className:He("bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 flex flex-col transition-all duration-300",g?"fixed inset-0 z-50 rounded-none h-screen w-screen p-6":"p-6 h-[85vh]"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:["Editing: ",a.title]}),o.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:A>1&&o.jsxs("span",{className:"flex items-center gap-1 text-indigo-600 font-bold animate-pulse",children:[o.jsx(Xa,{size:12})," ",A," people viewing"]})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>f(!g),className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",title:g?"Exit Full Screen":"Full Screen",children:g?o.jsx(Zi,{size:20}):o.jsx(Pr,{size:20})}),o.jsx("button",{onClick:()=>{l(null),f(!1),t()},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 rounded-lg",children:"Close"})]})]}),o.jsx("div",{className:"flex-1 overflow-hidden border border-gray-200 dark:border-gray-800 rounded-xl flex flex-col shadow-inner bg-gray-50 dark:bg-gray-950/50",children:o.jsx(Wt,{content:c,onChange:u,saveStatus:J},a.id)})]}):o.jsxs("div",{className:"space-y-4",children:[p?o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 space-y-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Create New Subject"}),o.jsx("input",{type:"text",placeholder:"Subject Title (e.g., Advanced Python)",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",value:N,onChange:D=>O(D.target.value)}),o.jsx("input",{type:"text",placeholder:"Short Description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",value:_,onChange:D=>L(D.target.value)}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1",children:"Icon (Lucide Name)"}),o.jsx("input",{type:"text",placeholder:"e.g., Code2, Database, Server, Globe",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",value:$,onChange:D=>q(D.target.value)}),o.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1 font-medium",children:'Please use a valid Lucide icon name (e.g. "Code2", "Server", "Database") instead of emojis for better consistency.'})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:z,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Create Subject"})]})]}):o.jsxs("button",{onClick:()=>m(!0),className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl text-gray-500 hover:border-indigo-500 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2 font-medium",children:[o.jsx(Hf,{size:20})," Add New Subject"]}),R.map((D,v)=>o.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 dark:bg-gray-900/50",children:[(d==null?void 0:d.id)===D.id?o.jsxs("div",{className:"flex-1 flex gap-2 items-center mr-4",children:[o.jsxs("div",{className:"flex-1 grid gap-2",children:[o.jsx("input",{type:"text",value:d.title,onChange:T=>h({...d,title:T.target.value}),className:"px-3 py-1.5 rounded border border-indigo-300 dark:border-indigo-700 bg-white dark:bg-gray-800 text-sm font-bold",placeholder:"Subject Title"}),o.jsx("input",{type:"text",value:d.description,onChange:T=>h({...d,description:T.target.value}),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-xs",placeholder:"Description"}),o.jsx("input",{type:"text",value:d.icon,onChange:T=>h({...d,icon:T.target.value}),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-xs",placeholder:"Icon Name (e.g. Code2)"})]}),o.jsx("button",{onClick:P,className:"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",title:"Save",children:o.jsx(ns,{size:16})}),o.jsx("button",{onClick:()=>h(null),className:"p-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg",title:"Cancel",children:o.jsx(Lt,{size:16})})]}):o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-0.5",children:[o.jsx("button",{onClick:()=>C("subjects",R,v,"up"),disabled:v===0,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(_r,{size:14})}),o.jsx("button",{onClick:()=>C("subjects",R,v,"down"),disabled:v===R.length-1,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(kr,{size:14})})]}),o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r(n===D.id?null:D.id),children:[n===D.id?o.jsx(Oi,{size:18}):o.jsx(Yn,{size:18}),o.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${D.color} flex items-center justify-center text-white font-bold`,children:D.icon&&D.icon.length<10?D.icon:o.jsx(Ii,{size:16})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[D.title,o.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-800 rounded-full text-gray-600 dark:text-gray-400 font-normal",children:[D.modules.length," Modules"]})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:D.description})]})]})]}),!d&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>b(D.id),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Add Module",children:o.jsx(wn,{size:16})}),o.jsx("button",{onClick:()=>h(D),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Edit Subject",children:o.jsx(Tr,{size:16})}),o.jsx("button",{onClick:()=>I("subjects",D.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Subject",children:o.jsx(Kt,{size:16})})]})]}),n===D.id&&o.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-800",children:[y===D.id&&o.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/10 flex gap-2",children:[o.jsx("input",{autoFocus:!0,type:"text",placeholder:"New Module Title...",className:"flex-1 px-3 py-2 rounded-md border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-gray-900",value:N,onChange:T=>O(T.target.value)}),o.jsx("button",{onClick:()=>Q(D.id),className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm",children:"Add"}),o.jsx("button",{onClick:()=>b(null),className:"p-2 text-gray-500",children:o.jsx(Lt,{size:18})})]}),D.modules.length===0&&!y&&o.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No modules yet. Click + to add one."}),D.modules.sort((T,F)=>(T.display_order||0)-(F.display_order||0)).map((T,F,V)=>o.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col gap-0.5",children:[o.jsx("button",{onClick:()=>C("modules",V,F,"up"),disabled:F===0,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(_r,{size:12})}),o.jsx("button",{onClick:()=>C("modules",V,F,"down"),disabled:F===V.length-1,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(kr,{size:12})})]}),o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>s(i===T.id?null:T.id),children:[o.jsx(Ii,{size:14,className:"text-gray-400"}),o.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:T.title})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>w(T.id),className:"p-1.5 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded",title:"Add Topic",children:o.jsx(wn,{size:14})}),o.jsx("button",{onClick:()=>I("modules",T.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded",children:o.jsx(Kt,{size:14})})]})]}),i===T.id&&o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-950/50 pl-14 pr-4 py-2 space-y-1",children:[k===T.id&&o.jsxs("div",{className:"py-2 flex gap-2",children:[o.jsx("input",{autoFocus:!0,type:"text",placeholder:"New Topic Title...",className:"flex-1 px-3 py-1.5 text-sm rounded border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-gray-900",value:N,onChange:Y=>O(Y.target.value)}),o.jsx("button",{onClick:()=>x(T.id),className:"px-3 py-1 bg-indigo-600 text-white rounded text-xs",children:"Add"}),o.jsx("button",{onClick:()=>w(null),className:"p-1 text-gray-500",children:o.jsx(Lt,{size:14})})]}),T.topics.sort((Y,he)=>(Y.display_order||0)-(he.display_order||0)).map((Y,he,Oe)=>o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white dark:hover:bg-gray-900 border border-transparent hover:border-gray-200 dark:hover:border-gray-800 group transition-all",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>C("topics",Oe,he,"up"),disabled:he===0,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(_r,{size:10})}),o.jsx("button",{onClick:()=>C("topics",Oe,he,"down"),disabled:he===Oe.length-1,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(kr,{size:10})})]}),o.jsx(Qa,{size:12,className:"text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:Y.title})]}),o.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(_e,{to:`/learn/${D.id}/${Y.id}`,target:"_blank",className:"text-gray-400 hover:text-indigo-600 p-1",title:"View Live",children:o.jsx(hu,{size:12})}),o.jsxs("button",{onClick:()=>B(Y),className:"text-xs font-medium text-indigo-600 hover:underline flex items-center gap-1",children:[o.jsx(Tr,{size:10})," Edit"]}),o.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),o.jsx("button",{onClick:()=>I("topics",Y.id),className:"text-gray-400 hover:text-red-500",children:o.jsx(Kt,{size:12})})]})]},Y.id)),T.topics.length===0&&!k&&o.jsx("div",{className:"text-xs text-gray-400 italic py-2",children:"No topics yet."})]})]},T.id))]})]},D.id))]})},c_=({initialHome:e,initialAbout:t,initialCommunity:n,initialContribute:r,onRefresh:i})=>{var Q,x,B,D,v;const[s,a]=M.useState("about"),[l,c]=M.useState(e),[u,d]=M.useState(t),[h,g]=M.useState(n),[f,p]=M.useState(r),[m,y]=M.useState({siteName:"",logoText:""}),[b,k]=M.useState({text:"",copyright:""}),[w,N]=M.useState([]),[O,_]=M.useState([]),[L,$]=M.useState([]),[q,A]=M.useState(""),[U,R]=M.useState(""),[X,J]=M.useState(!1);M.useEffect(()=>{(async()=>{if(!H)return;const{data:F}=await H.from("site_settings").select("*");if(F){const V=F.find(Re=>Re.key==="site_branding");V&&y(V.value);const Y=F.find(Re=>Re.key==="site_footer");Y&&k(Y.value);const he=F.find(Re=>Re.key==="site_navigation");he&&N(he.value);const Oe=F.find(Re=>Re.key==="home_value_props");Oe&&_(Oe.value);const Ne=F.find(Re=>Re.key==="home_quick_nav");Ne&&$(Ne.value);const Ue=F.find(Re=>Re.key==="ai_portfolio_summary");Ue&&A(Ue.value.text)}})()},[]),M.useEffect(()=>{c(e),d(t),g(n),p(r)},[e,t,n,r]);const I=async()=>{if(H){J(!0);try{const T=[];s==="home"?(T.push(H.from("site_settings").upsert({key:"home_hero",value:l})),T.push(H.from("site_settings").upsert({key:"home_value_props",value:O})),T.push(H.from("site_settings").upsert({key:"home_quick_nav",value:L}))):s==="about"?(T.push(H.from("site_settings").upsert({key:"about_profile",value:u})),T.push(H.from("site_settings").upsert({key:"ai_portfolio_summary",value:{text:q,updated_at:new Date().toISOString()}}))):s==="community"?T.push(H.from("site_settings").upsert({key:"community_page",value:h})):s==="contribute"?T.push(H.from("site_settings").upsert({key:"contribute_page",value:f})):s==="global"&&(T.push(H.from("site_settings").upsert({key:"site_branding",value:m})),T.push(H.from("site_settings").upsert({key:"site_footer",value:b})),T.push(H.from("site_settings").upsert({key:"site_navigation",value:w}))),await Promise.all(T),i(),alert("Settings saved successfully!")}catch(T){console.error(T),alert(`Failed to save settings: ${T.message||"Unknown error"}`)}finally{J(!1)}}},C=()=>{U.trim()&&(d({...u,skills:[...u.skills||[],U.trim()]}),R(""))},z=T=>{d({...u,skills:u.skills.filter(F=>F!==T)})},P=({id:T,label:F,icon:V})=>o.jsxs("button",{onClick:()=>a(T),className:`flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 border-b-2 transition-colors ${s===T?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 border-indigo-600":"text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800 border-transparent"}`,children:[o.jsx(V,{size:18})," ",o.jsx("span",{className:"hidden md:inline",children:F})]});return o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-800 overflow-x-auto",children:[o.jsx(P,{id:"about",label:"Collaborate Page",icon:ji}),o.jsx(P,{id:"global",label:"Global & Nav",icon:qf}),o.jsx(P,{id:"home",label:"Home",icon:Mi}),o.jsx(P,{id:"community",label:"Community",icon:Ci}),o.jsx(P,{id:"contribute",label:"Contribute",icon:Gf})]}),o.jsxs("div",{className:"p-8",children:[s==="about"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-900/30 mb-6",children:[o.jsxs("h4",{className:"text-sm font-bold text-blue-800 dark:text-blue-300 mb-1 flex items-center gap-2",children:[o.jsx(ji,{size:16})," Collaborate Page Configuration"]}),o.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:`This controls the "Let's Collaborate" page. It uses a premium, two-card layout (Left: Profile, Right: Portfolio Gateway).`})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"e.g. Dr. Jane Doe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Academic Role / Field"}),o.jsx("input",{type:"text",value:u.role,onChange:T=>d({...u,role:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"e.g. PhD Candidate in CS | ML Researcher"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Academic Bio (Left Card)"}),o.jsx(Wt,{content:u.bio,onChange:T=>d({...u,bio:typeof T=="string"?T:""}),minHeight:"200px"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Write a short, formal introduction. Focus on your field of study, research interests, and ambition."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Profile Image URL"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:u.image,onChange:T=>d({...u,image:T.target.value}),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"https://..."}),u.image&&o.jsx("img",{src:u.image,alt:"Preview",className:"w-10 h-10 rounded-lg object-cover border border-gray-200"})]})]})}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(Ci,{size:16})," Right Card (Portfolio Gateway)"]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-200 dark:border-gray-700 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Card Title"}),o.jsx("input",{type:"text",value:u.portfolio_card_title||"View Portfolio",onChange:T=>d({...u,portfolio_card_title:T.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Button Text"}),o.jsx("input",{type:"text",value:u.portfolio_card_cta||"Launch",onChange:T=>d({...u,portfolio_card_cta:T.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Description"}),o.jsx("input",{type:"text",value:u.portfolio_card_desc||"Explore full case studies, research papers, and live deployments.",onChange:T=>d({...u,portfolio_card_desc:T.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Destination URL"}),o.jsx("input",{type:"text",value:u.resume_link||"",onChange:T=>d({...u,resume_link:T.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900",placeholder:"https://your-portfolio.com or https://github.com/..."}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"This is where the user will be redirected when clicking the card."})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4",children:"Social Presence"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[o.jsx(ts,{size:12})," Email (mailto:)"]}),o.jsx("input",{type:"text",value:((Q=u.socials)==null?void 0:Q.email)||"",onChange:T=>d({...u,socials:{...u.socials,email:T.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"mailto:you@example.com"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[o.jsx(Wf,{size:12})," GitHub URL"]}),o.jsx("input",{type:"text",value:((x=u.socials)==null?void 0:x.github)||"",onChange:T=>d({...u,socials:{...u.socials,github:T.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"https://github.com/username"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[o.jsx(Ka,{size:12})," LinkedIn URL"]}),o.jsx("input",{type:"text",value:((B=u.socials)==null?void 0:B.linkedin)||"",onChange:T=>d({...u,socials:{...u.socials,linkedin:T.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"https://linkedin.com/in/username"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[o.jsx(Lr,{size:12})," Google Scholar URL"]}),o.jsx("input",{type:"text",value:((D=u.socials)==null?void 0:D.scholar)||"",onChange:T=>d({...u,socials:{...u.socials,scholar:T.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"https://scholar.google.com/..."})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[o.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4",children:"Research Interests (Tags)"}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("input",{type:"text",value:U,onChange:T=>R(T.target.value),onKeyDown:T=>T.key==="Enter"&&C(),placeholder:"Add interest (e.g. Machine Learning, Computer Vision)...",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"}),o.jsx("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700",children:"Add"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[(v=u.skills)==null?void 0:v.map((T,F)=>o.jsxs("span",{className:"px-3 py-1.5 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 text-sm font-medium flex items-center gap-2 group",children:[T,o.jsx("button",{onClick:()=>z(T),className:"text-gray-400 hover:text-red-500",children:o.jsx(Lt,{size:14})})]},F)),(!u.skills||u.skills.length===0)&&o.jsx("span",{className:"text-gray-400 text-sm italic",children:"No interests added yet."})]})]})]})]}),s==="global"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Branding"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Brand Name (First Part)"}),o.jsx("input",{type:"text",value:m.siteName,onChange:T=>y({...m,siteName:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"Knowthe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logo Text (Colored Part)"}),o.jsx("input",{type:"text",value:m.logoText,onChange:T=>y({...m,logoText:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"Algo"})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(qa,{size:20})," Navigation Menu"]}),o.jsxs("button",{onClick:()=>N([...w,{label:"New Link",path:"/",visible:!0}]),className:"text-sm text-indigo-600 hover:underline flex items-center gap-1",children:[o.jsx(wn,{size:14})," Add Link"]})]}),o.jsx("div",{className:"space-y-3",children:w.map((T,F)=>o.jsxs("div",{className:"flex gap-3 items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsx("input",{type:"text",value:T.label,onChange:V=>{const Y=[...w];Y[F].label=V.target.value,N(Y)},className:"flex-1 px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"Label"}),o.jsx("input",{type:"text",value:T.path,onChange:V=>{const Y=[...w];Y[F].path=V.target.value,N(Y)},className:"flex-1 px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm font-mono",placeholder:"/path"}),o.jsx("button",{onClick:()=>{const V=[...w];V[F].visible=!V[F].visible,N(V)},className:`p-2 rounded-lg ${T.visible?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-gray-400 bg-gray-100 dark:bg-gray-800"}`,title:"Toggle Visibility",children:T.visible?o.jsx(Kf,{size:16}):o.jsx(Vf,{size:16})}),o.jsx("button",{onClick:()=>N(w.filter((V,Y)=>Y!==F)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:o.jsx(Kt,{size:16})})]},F))})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Footer"}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Main Text"}),o.jsx("input",{type:"text",value:b.text,onChange:T=>k({...b,text:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"Made with Heart by..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Copyright Notice"}),o.jsx("input",{type:"text",value:b.copyright,onChange:T=>k({...b,copyright:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"All rights reserved."})]})]})]})]}),s==="home"&&o.jsxs("div",{className:"space-y-10",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Mi,{size:20,className:"text-indigo-600"})," Hero Section"]}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Main Headline"}),o.jsx("input",{type:"text",value:l.title,onChange:T=>c({...l,title:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subtitle"}),o.jsx("textarea",{value:l.subtitle,onChange:T=>c({...l,subtitle:T.target.value}),rows:2,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Button Text"}),o.jsx("input",{type:"text",value:l.cta_text,onChange:T=>c({...l,cta_text:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Value Propositions"}),o.jsxs("button",{onClick:()=>_([...O,{icon:"Star",title:"New Feature",desc:"Description"}]),className:"text-sm text-indigo-600 hover:underline flex items-center gap-1",children:[o.jsx(wn,{size:14})," Add Item"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:O.map((T,F)=>o.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Icon (Lucide Name)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ho,{name:T.icon,size:20,className:"text-gray-400"}),o.jsx("input",{value:T.icon,onChange:V=>{const Y=[...O];Y[F].icon=V.target.value,_(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Title"}),o.jsx("input",{value:T.title,onChange:V=>{const Y=[...O];Y[F].title=V.target.value,_(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Description"}),o.jsx("input",{value:T.desc,onChange:V=>{const Y=[...O];Y[F].desc=V.target.value,_(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]})]}),o.jsx("button",{onClick:()=>_(O.filter((V,Y)=>Y!==F)),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:o.jsx(Kt,{size:16})})]},F))})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Quick Nav Cards"}),o.jsxs("button",{onClick:()=>$([...L,{icon:"Link",title:"New Link",desc:"Go somewhere",link:"/",color:"bg-gray-500"}]),className:"text-sm text-indigo-600 hover:underline flex items-center gap-1",children:[o.jsx(wn,{size:14})," Add Card"]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:L.map((T,F)=>o.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Icon"}),o.jsx("input",{value:T.icon,onChange:V=>{const Y=[...L];Y[F].icon=V.target.value,$(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Title"}),o.jsx("input",{value:T.title,onChange:V=>{const Y=[...L];Y[F].title=V.target.value,$(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Desc"}),o.jsx("input",{value:T.desc,onChange:V=>{const Y=[...L];Y[F].desc=V.target.value,$(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Link"}),o.jsx("input",{value:T.link,onChange:V=>{const Y=[...L];Y[F].link=V.target.value,$(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Color (Tailwind)"}),o.jsx("input",{value:T.color,onChange:V=>{const Y=[...L];Y[F].color=V.target.value,$(Y)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]})]}),o.jsx("button",{onClick:()=>$(L.filter((V,Y)=>Y!==F)),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:o.jsx(Kt,{size:16})})]},F))})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(sn,{size:20,className:"text-indigo-600"})," Community Section"]}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section Title"}),o.jsx("input",{type:"text",value:l.community_title||"",onChange:T=>c({...l,community_title:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),o.jsx(Wt,{content:l.community_desc||"",onChange:T=>c({...l,community_desc:typeof T=="string"?T:""}),minHeight:"150px"})]})]})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8 space-y-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Qi,{size:20,className:"text-indigo-600"})," Collaboration Section"]}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section Title"}),o.jsx("input",{type:"text",value:l.collab_title||"",onChange:T=>c({...l,collab_title:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),o.jsx(Wt,{content:l.collab_desc||"",onChange:T=>c({...l,collab_desc:typeof T=="string"?T:""}),minHeight:"150px"})]})]})]})]}),s==="community"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Community Page Header"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Page Title"}),o.jsx("input",{type:"text",value:h.title,onChange:T=>g({...h,title:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle / Description"}),o.jsx(Wt,{content:h.subtitle,onChange:T=>g({...h,subtitle:typeof T=="string"?T:""}),minHeight:"150px"})]})]}),s==="contribute"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Contribute Page Header"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Page Title"}),o.jsx("input",{type:"text",value:f.title,onChange:T=>p({...f,title:T.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle / Description"}),o.jsx(Wt,{content:f.subtitle,onChange:T=>p({...f,subtitle:typeof T=="string"?T:""}),minHeight:"150px"})]})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-800 flex justify-end",children:o.jsxs("button",{onClick:I,disabled:X,className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[o.jsx(ns,{size:18})," ",X?"Saving...":"Save Changes"]})})]})]})},u_=({categories:e,onRefresh:t})=>{const[n,r]=M.useState(!1),[i,s]=M.useState(null),[a,l]=M.useState({title:"",description:"",color:"from-blue-500 to-cyan-500"}),c=async()=>{if(!H||!a.title)return;const g=xi(a.title),{error:f}=await H.from("categories").insert([{id:g,...a}]);f?alert(`Error adding category: ${f.message}`):(l({title:"",description:"",color:"from-blue-500 to-cyan-500"}),r(!1),t())},u=async()=>{if(!H||!i)return;const{error:g}=await H.from("categories").update({title:i.title,description:i.description,color:i.color}).eq("id",i.id);g?alert(`Error updating category: ${g.message}`):(s(null),t())},d=async g=>{if(!H||!confirm("Delete this category? This might affect posts linked to it."))return;const{error:f}=await H.from("categories").delete().eq("id",g);f?alert(`Error deleting category: ${f.message}`):t()},h=[{label:"Blue/Cyan",value:"from-blue-500 to-cyan-400"},{label:"Purple/Pink",value:"from-purple-500 to-pink-500"},{label:"Emerald/Teal",value:"from-emerald-500 to-teal-400"},{label:"Orange/Red",value:"from-orange-500 to-red-500"},{label:"Indigo/Violet",value:"from-indigo-500 to-violet-500"},{label:"Rose/Amber",value:"from-rose-500 to-amber-500"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Community Categories"}),!n&&!i&&o.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:[o.jsx(wn,{size:16})," Add Category"]})]}),n&&o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 grid gap-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"New Category"}),o.jsx("input",{type:"text",placeholder:"Category Title",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:a.title,onChange:g=>l({...a,title:g.target.value})}),o.jsx("input",{type:"text",placeholder:"Description",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:a.description,onChange:g=>l({...a,description:g.target.value})}),o.jsx("select",{className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:a.color,onChange:g=>l({...a,color:g.target.value}),children:h.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:c,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium",children:"Create"})]})]}),i&&o.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 grid gap-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:["Editing: ",i.title]}),o.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Lt,{size:16})})]}),o.jsx("input",{type:"text",placeholder:"Category Title",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:i.title,onChange:g=>s({...i,title:g.target.value})}),o.jsx("input",{type:"text",placeholder:"Description",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:i.description,onChange:g=>s({...i,description:g.target.value})}),o.jsx("select",{className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:i.color,onChange:g=>s({...i,color:g.target.value}),children:h.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg",children:"Cancel"}),o.jsxs("button",{onClick:u,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[o.jsx(ns,{size:16})," Save Changes"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl group hover:border-indigo-500/30 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${g.color} flex items-center justify-center text-white shadow-sm`,children:o.jsx(Ii,{size:20})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:g.title}),o.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:g.description})]})]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>s(g),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg",title:"Edit",children:o.jsx(Tr,{size:16})}),o.jsx("button",{onClick:()=>d(g.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete",children:o.jsx(Kt,{size:16})})]})]},g.id))})]})},nc=[{id:"news",label:"News & Updates"},{id:"research",label:"Research Experience"},{id:"project",label:"Projects"},{id:"experience",label:"Work Experience"},{id:"education",label:"Education"},{id:"honor",label:"Honors & Awards"},{id:"leadership",label:"Leadership"}],d_=({items:e,onRefresh:t})=>{var p,m,y,b,k,w,N,O,_,L,$,q,A,U,R,X,J;const[n,r]=M.useState("news"),[i,s]=M.useState(null),[a,l]=M.useState(!1),c=e.filter(I=>I.section===n).sort((I,C)=>(I.display_order||0)-(C.display_order||0)),u=async()=>{if(!H||!i)return;let I=i.display_order;I===void 0&&(I=Math.max(...c.map(Q=>Q.display_order||0),0)+1);const C={section:n,title:i.title||"Untitled",subtitle:i.subtitle||"",organization:i.organization||"",period:i.period||"",description:i.description||"",details:i.details||{},display_order:I};let z;i.id?z=(await H.from("portfolio_items").update(C).eq("id",i.id)).error:z=(await H.from("portfolio_items").insert([{...C,id:Lm()}])).error,z?alert(`Error saving item: ${z.message}`):(s(null),l(!1),t())},d=async I=>{if(!H||!confirm("Delete this item?"))return;const{error:C}=await H.from("portfolio_items").delete().eq("id",I);C?alert(`Error deleting item: ${C.message}`):t()},h=async(I,C)=>{if(!H)return;const z=[...c],P=C==="up"?I-1:I+1;if(P<0||P>=z.length)return;const Q=z[I];z[I]=z[P],z[P]=Q;const x=z.map((B,D)=>({id:B.id,display_order:D+1}));for(const B of x)await H.from("portfolio_items").update({display_order:B.display_order}).eq("id",B.id);t()},g=I=>{s(I),l(!0)},f=()=>{s({section:n,details:{},display_order:c.length+1}),l(!0)};return o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 flex flex-col md:flex-row overflow-hidden min-h-[600px]",children:[o.jsxs("div",{className:"w-full md:w-64 bg-gray-50 dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 p-4",children:[o.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-2",children:"Sections"}),o.jsx("div",{className:"space-y-1",children:nc.map(I=>o.jsx("button",{onClick:()=>{r(I.id),l(!1),s(null)},className:`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===I.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:I.label},I.id))})]}),o.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Manage ",(p=nc.find(I=>I.id===n))==null?void 0:p.label]}),!a&&o.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[o.jsx(wn,{size:16})," Add Item"]})]}),a&&i?o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Title"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.title||"",onChange:I=>s({...i,title:I.target.value}),placeholder:"e.g., Project Name, Article Title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:n==="news"?"Category":n==="education"?"Degree":"Subtitle / Role"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.subtitle||"",onChange:I=>s({...i,subtitle:I.target.value})})]}),n!=="news"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Organization / Lab / School"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.organization||"",onChange:I=>s({...i,organization:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Period / Date"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.period||"",onChange:I=>s({...i,period:I.target.value})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Description"}),o.jsx(Wt,{content:i.description||"",onChange:I=>s({...i,description:typeof I=="string"?I:""}),minHeight:"200px"})]}),o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mb-4",children:[o.jsx("h4",{className:"text-sm font-bold mb-3 text-indigo-600",children:"Advanced Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==="research"||n==="experience")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Image / Logo URL"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((m=i.details)==null?void 0:m.image)||"",onChange:I=>s({...i,details:{...i.details,image:I.target.value}}),placeholder:"https://..."})]}),(n==="research"||n==="project")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Tags / Tech Stack (comma sep)"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((b=(y=i.details)==null?void 0:y.tags)==null?void 0:b.join(", "))||"",onChange:I=>s({...i,details:{...i.details,tags:I.target.value.split(",").map(C=>C.trim())}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Github Link"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((w=(k=i.details)==null?void 0:k.links)==null?void 0:w.github)||"",onChange:I=>{var C;return s({...i,details:{...i.details,links:{...(C=i.details)==null?void 0:C.links,github:I.target.value}}})}})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[o.jsx(uu,{size:12})," Color Theme"]}),o.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((N=i.details)==null?void 0:N.color)||"",onChange:I=>s({...i,details:{...i.details,color:I.target.value}}),children:[o.jsx("option",{value:"",children:"Auto (Cycle)"}),o.jsx("option",{value:"nebula",children:"Nebula (Purple/Blue)"}),o.jsx("option",{value:"ocean",children:"Ocean (Blue/Cyan)"}),o.jsx("option",{value:"sunset",children:"Sunset (Orange/Rose)"}),o.jsx("option",{value:"forest",children:"Forest (Emerald/Teal)"})]})]})]}),n==="research"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Advisor"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((O=i.details)==null?void 0:O.advisor)||"",onChange:I=>s({...i,details:{...i.details,advisor:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Team (comma sep)"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((L=(_=i.details)==null?void 0:_.team)==null?void 0:L.join(", "))||"",onChange:I=>s({...i,details:{...i.details,team:I.target.value.split(",").map(C=>C.trim())}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Status"}),o.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:(($=i.details)==null?void 0:$.status)||"ongoing",onChange:I=>s({...i,details:{...i.details,status:I.target.value}}),children:[o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Scholar Link"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((A=(q=i.details)==null?void 0:q.links)==null?void 0:A.scholar)||"",onChange:I=>{var C;return s({...i,details:{...i.details,links:{...(C=i.details)==null?void 0:C.links,scholar:I.target.value}}})}})]})]}),n==="project"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Type"}),o.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((U=i.details)==null?void 0:U.type)||"Industry",onChange:I=>s({...i,details:{...i.details,type:I.target.value}}),children:[o.jsx("option",{value:"Industry",children:"Industry / Competition"}),o.jsx("option",{value:"Course",children:"Course Project"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Demo Link"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((X=(R=i.details)==null?void 0:R.links)==null?void 0:X.demo)||"",onChange:I=>{var C;return s({...i,details:{...i.details,links:{...(C=i.details)==null?void 0:C.links,demo:I.target.value}}})}})]})]}),(n==="honor"||n==="leadership")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Icon Name (Lucide)"}),o.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((J=i.details)==null?void 0:J.icon)||"",onChange:I=>s({...i,details:{...i.details,icon:I.target.value}}),placeholder:"Award, Star, Trophy..."}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Leave empty for default icon."})]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>{l(!1),s(null)},className:"px-4 py-2 text-gray-500 hover:bg-gray-200 rounded-lg",children:"Cancel"}),o.jsxs("button",{onClick:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium flex items-center gap-2",children:[o.jsx(ns,{size:16})," Save Item"]})]})]}):o.jsxs("div",{className:"space-y-3",children:[c.length===0&&o.jsx("div",{className:"text-gray-500 text-center py-10",children:"No items in this section yet."}),c.map((I,C)=>o.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-4 rounded-xl flex justify-between items-start group hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:()=>h(C,"up"),disabled:C===0,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30 disabled:hover:text-gray-400",children:o.jsx(_r,{size:16})}),o.jsx("button",{onClick:()=>h(C,"down"),disabled:C===c.length-1,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30 disabled:hover:text-gray-400",children:o.jsx(kr,{size:16})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:I.title}),o.jsxs("p",{className:"text-sm text-gray-500",children:[I.subtitle," ",I.organization&&` ${I.organization}`]}),I.period&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:I.period})]})]}),o.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>g(I),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:o.jsx(Tr,{size:16})}),o.jsx("button",{onClick:()=>d(I.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:o.jsx(Kt,{size:16})})]})]},I.id))]})]})]})},h_=({posts:e,onRefresh:t})=>{var h;const[n,r]=M.useState(null),[i,s]=M.useState(0),a=async(g,f)=>{if(!H)return;const p=[...e],m=f==="up"?g-1:g+1;if(m<0||m>=p.length)return;const y=p[g];p[g]=p[m],p[m]=y;const b=p.map((k,w)=>({id:k.id,display_order:w+1}));for(const k of b)await H.from("community_posts").update({display_order:k.display_order}).eq("id",k.id);t()},l=async g=>{if(!confirm("Are you sure you want to delete this post?")||!H)return;const{error:f}=await H.from("community_posts").delete().eq("id",g);f?alert(f.message):t()},c=async(g,f)=>{if(!H)return;const{error:p}=await H.from("community_posts").update({status:f}).eq("id",g);p?alert(p.message):t()},u=async g=>{H&&await H.from("community_posts").update({title:g.title,content:g.content,category:g.category,tags:g.tags}).eq("id",g.id)},d=Gh(n,async g=>{g&&await u(g)},3e3);return M.useEffect(()=>{if(!H||!n)return;const g=H.channel(`post:${n.id}`).on("presence",{event:"sync"},()=>{const f=g.presenceState();s(Object.keys(f).length)}).subscribe(async f=>{f==="SUBSCRIBED"&&await g.track({user:"admin",online_at:new Date().toISOString()})});return()=>{H.removeChannel(g)}},[n]),n?o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Post"}),o.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:i>1&&o.jsxs("span",{className:"flex items-center gap-1 text-indigo-600 font-bold animate-pulse",children:[o.jsx(Xa,{size:12})," ",i," admins viewing"]})})]}),o.jsx("button",{onClick:()=>{r(null),t()},className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:o.jsx(Lt,{size:20})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:n.title,onChange:g=>r({...n,title:g.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-lg font-medium"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),o.jsx("input",{type:"text",value:n.category,onChange:g=>r({...n,category:g.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (comma sep)"}),o.jsx("input",{type:"text",value:(h=n.tags)==null?void 0:h.join(", "),onChange:g=>r({...n,tags:g.target.value.split(",").map(f=>f.trim())}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),o.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50",children:o.jsx(Wt,{content:n.content,onChange:g=>r({...n,content:typeof g=="string"?g:""}),minHeight:"500px",saveStatus:d},n.id)})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx("button",{onClick:()=>{r(null),t()},className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 flex items-center gap-2 shadow-lg shadow-indigo-500/20",children:"Done Editing"})})]})]}):o.jsxs("div",{className:"space-y-4",children:[e.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-500 bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800",children:"No posts found."}),e.map((g,f)=>o.jsxs("div",{className:He("bg-white dark:bg-gray-900 border rounded-xl p-4 flex flex-col md:flex-row gap-4 items-start md:items-center transition-all hover:shadow-md",g.status==="pending"?"border-amber-200 dark:border-amber-900/50 bg-amber-50/50 dark:bg-amber-900/10":"border-gray-200 dark:border-gray-800"),children:[o.jsxs("div",{className:"flex md:flex-col gap-1",children:[o.jsx("button",{onClick:()=>a(f,"up"),disabled:f===0,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(_r,{size:16})}),o.jsx("button",{onClick:()=>a(f,"down"),disabled:f===e.length-1,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:o.jsx(kr,{size:16})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:He("px-2 py-0.5 text-[10px] uppercase font-bold rounded-full",g.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":g.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:g.status}),o.jsx("span",{className:"text-xs text-gray-500",children:new Date(g.created_at).toLocaleDateString()})]}),o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg",children:g.title}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:g.author_name}),o.jsx("span",{children:""}),o.jsx("span",{children:g.category})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_e,{to:`/community/${g.id}`,target:"_blank",className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"View Live",children:o.jsx(hu,{size:18})}),g.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>c(g.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Approve",children:o.jsx(sa,{size:18})}),o.jsx("button",{onClick:()=>c(g.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Reject",children:o.jsx(Yf,{size:18})})]}),o.jsx("button",{onClick:()=>r(g),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg",title:"Edit Content",children:o.jsx(Tr,{size:18})}),o.jsx("button",{onClick:()=>l(g.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete",children:o.jsx(Kt,{size:18})})]})]},g.id))]})},g_=({stats:e,onChangeTab:t})=>o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Welcome back, Admin"}),o.jsxs("p",{className:"text-indigo-100 max-w-xl",children:["You have full control over the platform.",e.posts.pending>0?` There are ${e.posts.pending} community posts waiting for your review.`:" Everything is up to date."]})]}),o.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white/10 skew-x-12 transform translate-x-12"}),o.jsx("div",{className:"absolute bottom-0 right-12 w-24 h-24 bg-white/10 rounded-full blur-2xl"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(hi,{title:"Pending Posts",value:e.posts.pending,icon:gu,color:"amber",onClick:()=>t("community"),highlight:e.posts.pending>0}),o.jsx(hi,{title:"Total Topics",value:e.curriculum.topics,icon:Lr,color:"blue",onClick:()=>t("curriculum")}),o.jsx(hi,{title:"Community Posts",value:e.posts.total,icon:sn,color:"green",onClick:()=>t("community")}),o.jsx(hi,{title:"Portfolio Items",value:e.portfolio.total,icon:Qi,color:"purple",onClick:()=>t("portfolio")})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(Jf,{size:20,className:"text-indigo-500"})," Activity & Actions"]}),o.jsx("div",{className:"space-y-3",children:e.posts.pending>0?o.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50 rounded-xl flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400 rounded-lg",children:o.jsx(sn,{size:18})}),o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[e.posts.pending," New Posts"]}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Community submissions need review"})]})]}),o.jsx("button",{onClick:()=>t("community"),className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-lg transition-colors",children:"Review"})]}):o.jsxs("div",{className:"p-8 text-center text-gray-500 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx(Dr,{size:32,className:"mx-auto mb-2 text-green-500"}),o.jsx("p",{children:"All caught up! No pending actions."})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(Qa,{size:20,className:"text-indigo-500"})," Content Breakdown"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Curriculum Subjects"})]}),o.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.curriculum.subjects})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Learning Modules"})]}),o.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.curriculum.modules})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Topics"})]}),o.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.curriculum.topics})]}),o.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-800 h-px my-2"}),o.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Approved Posts"})]}),o.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.posts.approved})]})]})]})]})]}),hi=({title:e,value:t,icon:n,color:r,onClick:i,highlight:s})=>{const a={amber:"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400",blue:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",green:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",purple:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"};return o.jsxs(oe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:`bg-white dark:bg-gray-900 p-6 rounded-2xl border text-left w-full transition-all ${s?"border-amber-500/50 shadow-lg shadow-amber-500/10":"border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-lg"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${a[r]}`,children:o.jsx(n,{size:24})}),s&&o.jsxs("span",{className:"flex h-3 w-3 relative",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-amber-500"})]})]}),o.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:t}),o.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e})]})},f_=()=>{const[e,t]=M.useState(null),[n,r]=M.useState(!0),[i,s]=M.useState("login"),[a,l]=M.useState(""),[c,u]=M.useState(""),[d,h]=M.useState(null),[g,f]=M.useState(null),[p,m]=M.useState("overview"),[y,b]=M.useState(null),{subjects:k,refresh:w}=cs(),{homeSettings:N,aboutSettings:O,communitySettings:_,contributeSettings:L,categories:$,refresh:q}=Dt(),{items:A,refresh:U}=Wy(),{posts:R,refresh:X}=th();M.useEffect(()=>{if(H){H.auth.getSession().then(({data:{session:B},error:D})=>{D?(console.warn("Session error detected, signing out:",D.message),H.auth.signOut(),t(null)):t(B),r(!1)});const{data:{subscription:x}}=H.auth.onAuthStateChange((B,D)=>{t(D)});return()=>x.unsubscribe()}else r(!1)},[]);const J=async x=>{if(x.preventDefault(),h(null),!H){h("Supabase is not connected. Please connect your project.");return}const{error:B}=await H.auth.signInWithPassword({email:a,password:c});B&&h(B.message)},I=async x=>{if(x.preventDefault(),h(null),!H){h("Supabase is not connected.");return}const{error:B}=await H.auth.signUp({email:a,password:c});B?h(B.message):(f("Account created! You can now log in."),s("login"))},C=async x=>{if(x.preventDefault(),h(null),!H){h("Supabase is not connected.");return}const{error:B}=await H.auth.resetPasswordForEmail(a,{redirectTo:window.location.origin+"/admin"});B?h(B.message):(f("Reset link sent!"),s("login"))},z=async()=>{H&&await H.auth.signOut(),t(null)},P=async()=>{if(!H||!ty){b({type:"error",message:"Supabase not connected."});return}if(confirm("This will overwrite existing data with the default curriculum, categories, and portfolio items. Continue?"))try{for(const x of Ei){await H.from("subjects").upsert({id:x.id,title:x.title,description:x.description,icon:x.icon,color:x.color,level:x.level});for(const B of x.modules){await H.from("modules").upsert({id:B.id,title:B.title,description:B.description,subject_id:x.id});for(const D of B.topics)await H.from("topics").upsert({id:D.id,title:D.title,read_time:D.readTime,content:D.content,module_id:B.id})}}for(const x of ly)await H.from("categories").upsert(x);for(const x of Ni)await H.from("portfolio_items").upsert(x);b({type:"success",message:"Database successfully seeded!"}),w(),q(),U()}catch(x){console.error(x),b({type:"error",message:"Failed to seed database."})}},Q={posts:{total:R.length,pending:R.filter(x=>x.status==="pending").length,approved:R.filter(x=>x.status==="approved").length},curriculum:{subjects:k.length,modules:k.reduce((x,B)=>x+B.modules.length,0),topics:k.reduce((x,B)=>x+B.modules.reduce((D,v)=>D+v.topics.length,0),0)},portfolio:{total:A.length}};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full"})}):e?o.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 dark:bg-gray-950 py-12 pt-24",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Welcome back, ",e.user.email]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex bg-white dark:bg-gray-900 rounded-lg p-1 border border-gray-200 dark:border-gray-800 overflow-x-auto",children:[o.jsxs("button",{onClick:()=>m("overview"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="overview"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx(Qf,{size:16})," Overview"]}),o.jsxs("button",{onClick:()=>m("pages"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="pages"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx(Mi,{size:16})," Site Editor"]}),o.jsxs("button",{onClick:()=>m("portfolio"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="portfolio"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx(Qi,{size:16})," Portfolio"]}),o.jsxs("button",{onClick:()=>m("community"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="community"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx(Xa,{size:16})," Community"]}),o.jsxs("button",{onClick:()=>m("curriculum"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="curriculum"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx(Lr,{size:16})," Curriculum"]})]}),o.jsx("button",{onClick:z,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:o.jsx(Zf,{size:20})})]})]}),y&&o.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-green-50 text-green-700 border border-green-200 flex items-center gap-2",children:[o.jsx(sa,{size:18})," ",y.message]}),p==="overview"&&o.jsx(g_,{stats:Q,onChangeTab:x=>m(x)}),p==="pages"&&o.jsx(c_,{initialHome:N,initialAbout:O,initialCommunity:_,initialContribute:L,onRefresh:q}),p==="portfolio"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-900 p-4 rounded-xl border border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[o.jsx(ra,{size:18}),o.jsx("span",{className:"font-medium",children:"Quick Actions"})]}),o.jsxs("button",{onClick:P,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 flex items-center gap-2",children:[o.jsx(ep,{size:16})," Seed Demo Data"]})]}),o.jsx(d_,{items:A,onRefresh:U})]}),p==="community"&&o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:o.jsx(u_,{categories:$,onRefresh:q})}),o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:[o.jsx("h3",{className:"text-xl font-bold mb-6",children:"Manage Posts"}),o.jsx(h_,{posts:R,onRefresh:X})]})]}),p==="curriculum"&&o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Manage Courses"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:P,className:"px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 rounded-lg text-sm font-medium flex items-center gap-2 hover:bg-indigo-100 dark:hover:bg-indigo-900/50",title:"Reset/Fill Database with Default Data",children:[o.jsx(ra,{size:16})," Seed DB"]}),o.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:o.jsx(tp,{size:16})})]})]}),o.jsx("div",{className:"p-6",children:o.jsx(l_,{subjects:k,onRefresh:w})})]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950 px-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 p-8 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Xf,{className:"text-indigo-600 dark:text-indigo-400",size:32})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Access"})]}),d&&o.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm flex items-center gap-2",children:[o.jsx(gu,{size:16})," ",d]}),g&&o.jsxs("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-lg text-sm flex items-center gap-2",children:[o.jsx(sa,{size:16})," ",g]}),o.jsxs("form",{onSubmit:i==="login"?J:i==="signup"?I:C,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:a,onChange:x=>l(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",required:!0})]}),i!=="forgot"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),o.jsx("input",{type:"password",value:c,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",required:!0})]}),o.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition-colors",children:i==="login"?"Login":i==="signup"?"Sign Up":"Send Reset Link"})]}),o.jsxs("div",{className:"mt-6 text-center text-sm",children:[i==="login"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>s("forgot"),className:"text-indigo-600 hover:underline",children:"Forgot Password?"}),o.jsxs("div",{className:"mt-2 text-gray-400",children:["First time? ",o.jsx("button",{onClick:()=>s("signup"),className:"text-gray-600 dark:text-gray-300 hover:text-indigo-600 font-medium",children:"Create Account"})]})]}),i!=="login"&&o.jsx("button",{onClick:()=>s("login"),className:"text-gray-600 dark:text-gray-300 hover:text-indigo-600",children:"Back to Login"})]})]})})},p_=()=>{const{contributeSettings:e,categories:t}=Dt(),[n,r]=M.useState({title:"",subject:"",author:"",email:"",avatar:"",content:"",tags:""}),[i,s]=M.useState(!1),[a,l]=M.useState(!1);M.useEffect(()=>{t.length>0&&!n.subject&&r(u=>({...u,subject:t[0].title}))},[t]);const c=async u=>{if(u.preventDefault(),l(!0),!n.content||n.content==="<p></p>"){alert("Please write some content for your post."),l(!1);return}try{if(H){const{error:d}=await H.from("community_posts").insert([{title:n.title,category:n.subject||"General",author_name:n.author,author_email:n.email,author_avatar:n.avatar,content:n.content,tags:n.tags.split(",").map(h=>h.trim()).filter(Boolean),status:"pending"}]);if(d)throw d}setTimeout(()=>{s(!0),l(!1)},1e3)}catch(d){console.error(d),l(!1)}};return i?o.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-gray-50 dark:bg-gray-950 p-4 pt-20",children:o.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-900 rounded-2xl p-8 border border-gray-200 dark:border-gray-800 shadow-xl text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Yo,{className:"text-green-600 dark:text-green-400",size:32})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Submission Received!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Thanks for contributing. Your post has been sent to the admin for review. Once approved, it will appear in the Community section."}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx(_e,{to:"/community",className:"px-6 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"View Community"}),o.jsx("button",{onClick:()=>{s(!1),r({...n,title:"",content:""})},className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Submit Another"})]})]})}):o.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 dark:bg-gray-950 py-12 pt-24",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:e.subtitle})]}),o.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-8 border border-gray-200 dark:border-gray-800 shadow-sm",children:o.jsxs("form",{onSubmit:c,className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Post Title"}),o.jsx("input",{type:"text",required:!0,value:n.title,onChange:u=>r({...n,title:u.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",placeholder:"e.g., A Deep Dive into Distributed Caching"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),o.jsxs("select",{value:n.subject,onChange:u=>r({...n,subject:u.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",children:[t.map(u=>o.jsx("option",{value:u.title,children:u.title},u.id)),!t.length&&o.jsx("option",{value:"General",children:"General"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (comma separated)"}),o.jsx("input",{type:"text",value:n.tags,onChange:u=>r({...n,tags:u.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"react, tutorial, system-design"})]})]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-6 rounded-xl border border-gray-200 dark:border-gray-700 h-fit",children:[o.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(Mi,{size:16})," Author Details"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),o.jsx("input",{type:"text",required:!0,value:n.author,onChange:u=>r({...n,author:u.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"John Doe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:n.email,onChange:u=>r({...n,email:u.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"john@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Avatar URL"}),o.jsx("input",{type:"text",value:n.avatar,onChange:u=>r({...n,avatar:u.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"https://..."})]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[o.jsx(Qa,{size:18})," Content"]}),o.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 shadow-inner bg-gray-100 dark:bg-gray-950/50",children:o.jsx(Wt,{content:n.content,onChange:u=>r({...n,content:typeof u=="string"?u:""}),minHeight:"500px"})}),o.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[o.jsx("span",{children:"Supports Markdown shortcuts, drag & drop images, and code blocks."}),o.jsx("span",{children:"Auto-expands as you type."})]})]}),o.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800 flex justify-end",children:o.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg transition-all shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/40 transform hover:-translate-y-0.5",children:[a?"Submitting...":"Submit for Review"," ",o.jsx(Yo,{size:18})]})})]})})]})})},ja=()=>o.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:o.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-950",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),o.jsx(oe.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-indigo-500/10 rounded-full blur-[100px]"}),o.jsx(oe.div,{animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 right-1/4 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-[100px]"})]})}),m_=()=>{const[e,t]=M.useState([]),[n,r]=M.useState(!0),[i,s]=M.useState(null),[a,l]=M.useState(""),{categories:c,communitySettings:u}=Dt();M.useEffect(()=>{i&&d(i)},[i]);const d=async g=>{r(!0);try{if(H){const{data:f,error:p}=await H.from("community_posts").select("*").eq("status","approved").eq("category",g).order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(p)throw p;t(f||[])}}catch(f){console.error("Error fetching community posts:",f)}finally{r(!1)}},h=e.filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.content.toLowerCase().includes(a.toLowerCase()));return i?o.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[o.jsx(ja,{}),o.jsxs("div",{className:"container mx-auto px-4 max-w-6xl relative z-10 pt-28 pb-20",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>s(null),className:"group flex items-center text-sm font-bold text-gray-500 hover:text-indigo-600 mb-4 transition-colors uppercase tracking-wide",children:[o.jsx(np,{size:16,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),"Back to Categories"]}),o.jsxs("h2",{className:"text-4xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[i,o.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-sm font-bold align-middle",children:"Topic"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(rp,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search posts...",value:a,onChange:g=>l(g.target.value),className:"pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm text-sm focus:ring-2 focus:ring-indigo-500 outline-none w-full md:w-64 transition-all"})]}),o.jsx(_e,{to:"/contribute",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 whitespace-nowrap",children:"+ Create Post"})]})]}),n?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(g=>o.jsx("div",{className:"h-64 bg-white/50 dark:bg-gray-900/50 rounded-3xl animate-pulse border border-gray-200 dark:border-gray-800"},g))}):h.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.jsx(rn,{children:h.map((g,f)=>{var p;return o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:f*.05},children:o.jsx(_e,{to:`/community/${g.id}`,className:"block h-full group",children:o.jsxs("article",{className:"h-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-3xl p-6 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/50 transition-all hover:shadow-xl hover:-translate-y-1 flex flex-col relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-500 opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Discussion"})]}),o.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-md",children:[o.jsx(su,{size:12})," ",new Date(g.created_at).toLocaleDateString()]})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:g.title}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 line-clamp-3 flex-1 text-sm leading-relaxed",children:[g.content.replace(/<[^>]*>?/gm,"").substring(0,150),"..."]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:(p=g.tags)==null?void 0:p.slice(0,2).map(m=>o.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs font-medium flex items-center gap-1",children:[o.jsx(Zc,{size:10})," ",m]},m))}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800 mt-auto",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g.author_avatar?o.jsx("img",{src:g.author_avatar,alt:g.author_name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-900"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold ring-2 ring-white dark:ring-gray-900",children:g.author_name.charAt(0)}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:g.author_name}),o.jsx("span",{className:"text-[10px] text-gray-500",children:"Author"})]})]}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:o.jsx(Vt,{size:14})})]})]})})},g.id)})})}):o.jsxs("div",{className:"text-center py-24 bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-3xl border border-gray-200 dark:border-gray-800 border-dashed",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:o.jsx(sn,{size:24})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No posts found"}),o.jsx("p",{className:"text-gray-500 mb-8 max-w-sm mx-auto",children:a?`No results for "${a}"`:`Be the first to write about ${i}!`}),o.jsx(_e,{to:"/contribute",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors",children:"Start a Discussion"})]})]})]}):o.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[o.jsx(ja,{}),o.jsxs("div",{className:"container mx-auto px-4 max-w-5xl relative z-10 pt-32 pb-20",children:[o.jsx("div",{className:"text-center mb-16",children:o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border border-gray-200 dark:border-gray-800 text-indigo-600 dark:text-indigo-400 text-xs font-bold mb-6 shadow-sm",children:[o.jsx(Ga,{size:12}),o.jsx("span",{className:"uppercase tracking-wide",children:"Knowledge Hub"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-4 tracking-tight",children:u.title}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-xl mx-auto mb-8 leading-relaxed",children:u.subtitle}),o.jsxs(_e,{to:"/contribute",className:"inline-flex items-center gap-2 px-6 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-bold hover:scale-105 transition-transform shadow-lg shadow-indigo-500/10 text-sm",children:[o.jsx(sn,{size:16})," Start a Discussion"]})]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:c.map((g,f)=>o.jsxs(oe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},onClick:()=>s(g.title),className:"group relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-xl p-5 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 text-left transition-all hover:shadow-lg hover:-translate-y-0.5 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${g.color} flex items-center justify-center text-white shadow-sm`,children:o.jsx(Ii,{size:18})}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400",children:o.jsx(Vt,{size:16})})]}),o.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:g.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed",children:g.description})]},g.id))})]})]})};function b_(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const y_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,x_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,v_={};function rc(e,t){return(v_.jsx?x_:y_).test(e)}const w_=/[ \t\n\f\r]/g;function __(e){return typeof e=="object"?e.type==="text"?ic(e.value):!1:ic(e)}function ic(e){return e.replace(w_,"")===""}class Hr{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Hr.prototype.normal={};Hr.prototype.property={};Hr.prototype.space=void 0;function Wh(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Hr(n,r,t)}function Ra(e){return e.toLowerCase()}class lt{constructor(t,n){this.attribute=n,this.property=t}}lt.prototype.attribute="";lt.prototype.booleanish=!1;lt.prototype.boolean=!1;lt.prototype.commaOrSpaceSeparated=!1;lt.prototype.commaSeparated=!1;lt.prototype.defined=!1;lt.prototype.mustUseProperty=!1;lt.prototype.number=!1;lt.prototype.overloadedBoolean=!1;lt.prototype.property="";lt.prototype.spaceSeparated=!1;lt.prototype.space=void 0;let k_=0;const ue=Tn(),Pe=Tn(),Ia=Tn(),G=Tn(),we=Tn(),Vn=Tn(),ut=Tn();function Tn(){return 2**++k_}const Ma=Object.freeze(Object.defineProperty({__proto__:null,boolean:ue,booleanish:Pe,commaOrSpaceSeparated:ut,commaSeparated:Vn,number:G,overloadedBoolean:Ia,spaceSeparated:we},Symbol.toStringTag,{value:"Module"})),Bs=Object.keys(Ma);class yo extends lt{constructor(t,n,r,i){let s=-1;if(super(t,n),sc(this,"space",i),typeof r=="number")for(;++s<Bs.length;){const a=Bs[s];sc(this,Bs[s],(r&Ma[a])===Ma[a])}}}yo.prototype.defined=!0;function sc(e,t,n){n&&(e[t]=n)}function ir(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new yo(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Ra(r)]=r,n[Ra(s.attribute)]=r}return new Hr(t,n,e.space)}const Kh=ir({properties:{ariaActiveDescendant:null,ariaAtomic:Pe,ariaAutoComplete:null,ariaBusy:Pe,ariaChecked:Pe,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:we,ariaCurrent:null,ariaDescribedBy:we,ariaDetails:null,ariaDisabled:Pe,ariaDropEffect:we,ariaErrorMessage:null,ariaExpanded:Pe,ariaFlowTo:we,ariaGrabbed:Pe,ariaHasPopup:null,ariaHidden:Pe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:we,ariaLevel:G,ariaLive:null,ariaModal:Pe,ariaMultiLine:Pe,ariaMultiSelectable:Pe,ariaOrientation:null,ariaOwns:we,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Pe,ariaReadOnly:Pe,ariaRelevant:null,ariaRequired:Pe,ariaRoleDescription:we,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Pe,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Vh(e,t){return t in e?e[t]:t}function Yh(e,t){return Vh(e,t.toLowerCase())}const E_=ir({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vn,acceptCharset:we,accessKey:we,action:null,allow:null,allowFullScreen:ue,allowPaymentRequest:ue,allowUserMedia:ue,alt:null,as:null,async:ue,autoCapitalize:null,autoComplete:we,autoFocus:ue,autoPlay:ue,blocking:we,capture:null,charSet:null,checked:ue,cite:null,className:we,cols:G,colSpan:null,content:null,contentEditable:Pe,controls:ue,controlsList:we,coords:G|Vn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ue,defer:ue,dir:null,dirName:null,disabled:ue,download:Ia,draggable:Pe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ue,formTarget:null,headers:we,height:G,hidden:Ia,high:G,href:null,hrefLang:null,htmlFor:we,httpEquiv:we,id:null,imageSizes:null,imageSrcSet:null,inert:ue,inputMode:null,integrity:null,is:null,isMap:ue,itemId:null,itemProp:we,itemRef:we,itemScope:ue,itemType:we,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ue,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:ue,muted:ue,name:null,nonce:null,noModule:ue,noValidate:ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ue,optimum:G,pattern:null,ping:we,placeholder:null,playsInline:ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ue,referrerPolicy:null,rel:we,required:ue,reversed:ue,rows:G,rowSpan:G,sandbox:we,scope:null,scoped:ue,seamless:ue,selected:ue,shadowRootClonable:ue,shadowRootDelegatesFocus:ue,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Pe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:ue,useMap:null,value:Pe,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:we,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ue,declare:ue,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:ue,noHref:ue,noShade:ue,noWrap:ue,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Pe,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ue,disableRemotePlayback:ue,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:Yh}),S_=ir({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ut,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:we,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vn,g2:Vn,glyphName:Vn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:ut,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:we,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ut,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ut,rev:ut,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ut,requiredFeatures:ut,requiredFonts:ut,requiredFormats:ut,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:ut,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ut,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ut,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vh}),Jh=ir({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Xh=ir({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yh}),Qh=ir({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),N_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},T_=/[A-Z]/g,ac=/-[a-z]/g,A_=/^data[-\w.:]+$/i;function C_(e,t){const n=Ra(t);let r=t,i=lt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&A_.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(ac,j_);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!ac.test(s)){let a=s.replace(T_,O_);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=yo}return new i(r,t)}function O_(e){return"-"+e.toLowerCase()}function j_(e){return e.charAt(1).toUpperCase()}const R_=Wh([Kh,E_,Jh,Xh,Qh],"html"),xo=Wh([Kh,S_,Jh,Xh,Qh],"svg");function I_(e){return e.join(" ").trim()}var vo={},oc=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,M_=/\n/g,L_=/^\s*/,P_=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,D_=/^:\s*/,z_=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,U_=/^[;\s]*/,$_=/^\s+|\s+$/g,B_=`
`,lc="/",cc="*",yn="",F_="comment",H_="declaration";function q_(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(M_);m&&(n+=m.length);var y=p.lastIndexOf(B_);r=~y?p.length-y:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new a(p),u(),m}}function a(p){this.start=p,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(p){var m=p.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function u(){c(L_)}function d(p){var m;for(p=p||[];m=h();)m!==!1&&p.push(m);return p}function h(){var p=s();if(!(lc!=e.charAt(0)||cc!=e.charAt(1))){for(var m=2;yn!=e.charAt(m)&&(cc!=e.charAt(m)||lc!=e.charAt(m+1));)++m;if(m+=2,yn===e.charAt(m-1))return l("End of comment missing");var y=e.slice(2,m-2);return r+=2,i(y),e=e.slice(m),r+=2,p({type:F_,comment:y})}}function g(){var p=s(),m=c(P_);if(m){if(h(),!c(D_))return l("property missing ':'");var y=c(z_),b=p({type:H_,property:uc(m[0].replace(oc,yn)),value:y?uc(y[0].replace(oc,yn)):yn});return c(U_),b}}function f(){var p=[];d(p);for(var m;m=g();)m!==!1&&(p.push(m),d(p));return p}return u(),f()}function uc(e){return e?e.replace($_,yn):yn}var G_=q_,W_=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vo,"__esModule",{value:!0});vo.default=V_;const K_=W_(G_);function V_(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,K_.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:l}=s;i?t(a,l,s):l&&(n=n||{},n[a]=l)}),n}var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.camelCase=void 0;var Y_=/^--[a-zA-Z0-9_-]+$/,J_=/-([a-z])/g,X_=/^[^-]+$/,Q_=/^-(webkit|moz|ms|o|khtml)-/,Z_=/^-(ms)-/,ek=function(e){return!e||X_.test(e)||Y_.test(e)},tk=function(e,t){return t.toUpperCase()},dc=function(e,t){return"".concat(t,"-")},nk=function(e,t){return t===void 0&&(t={}),ek(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Z_,dc):e=e.replace(Q_,dc),e.replace(J_,tk))};hs.camelCase=nk;var rk=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ik=rk(vo),sk=hs;function La(e,t){var n={};return!e||typeof e!="string"||(0,ik.default)(e,function(r,i){r&&i&&(n[(0,sk.camelCase)(r,t)]=i)}),n}La.default=La;var ak=La;const ok=Sn(ak),Zh=eg("end"),wo=eg("start");function eg(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function lk(e){const t=wo(e),n=Zh(e);if(t&&n)return{start:t,end:n}}function Er(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hc(e.position):"start"in e||"end"in e?hc(e):"line"in e||"column"in e?Pa(e):""}function Pa(e){return gc(e&&e.line)+":"+gc(e&&e.column)}function hc(e){return Pa(e&&e.start)+"-"+Pa(e&&e.end)}function gc(e){return e&&typeof e=="number"?e:1}class Ve extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Er(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ve.prototype.file="";Ve.prototype.name="";Ve.prototype.reason="";Ve.prototype.message="";Ve.prototype.stack="";Ve.prototype.column=void 0;Ve.prototype.line=void 0;Ve.prototype.ancestors=void 0;Ve.prototype.cause=void 0;Ve.prototype.fatal=void 0;Ve.prototype.place=void 0;Ve.prototype.ruleId=void 0;Ve.prototype.source=void 0;const _o={}.hasOwnProperty,ck=new Map,uk=/[A-Z]/g,dk=new Set(["table","tbody","thead","tfoot","tr"]),hk=new Set(["td","th"]),tg="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gk(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=wk(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vk(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xo:R_,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=ng(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function ng(e,t,n){if(t.type==="element")return fk(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return pk(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bk(e,t,n);if(t.type==="mdxjsEsm")return mk(e,t);if(t.type==="root")return yk(e,t,n);if(t.type==="text")return xk(e,t)}function fk(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=xo,e.schema=i),e.ancestors.push(t);const s=ig(e,t.tagName,!1),a=_k(e,t);let l=Eo(e,t);return dk.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!__(c):!0})),rg(e,a,s,t),ko(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function pk(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ir(e,t.position)}function mk(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ir(e,t.position)}function bk(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=xo,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:ig(e,t.name,!0),a=kk(e,t),l=Eo(e,t);return rg(e,a,s,t),ko(a,l),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function yk(e,t,n){const r={};return ko(r,Eo(e,t)),e.create(t,e.Fragment,r,n)}function xk(e,t){return t.value}function rg(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ko(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function vk(e,t,n){return r;function r(i,s,a,l){const u=Array.isArray(a.children)?n:t;return l?u(s,a,l):u(s,a)}}function wk(e,t){return n;function n(r,i,s,a){const l=Array.isArray(s.children),c=wo(r);return t(i,s,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function _k(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&_o.call(t.properties,i)){const s=Ek(e,i,t.properties[i]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&hk.has(t.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kk(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Ir(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else Ir(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Eo(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:ck;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const l=ng(e,s,a);l!==void 0&&n.push(l)}return n}function Ek(e,t,n){const r=C_(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?b_(n):I_(n)),r.property==="style"){let i=typeof n=="object"?n:Sk(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Nk(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?N_[r.property]||r.property:r.attribute,n]}}function Sk(e,t){try{return ok(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ve("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=tg+"#cannot-parse-style-attribute",i}}function ig(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const l=rc(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=rc(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return _o.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ir(e)}function Ir(e,t){const n=new Ve("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=tg+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Nk(e){const t={};let n;for(n in e)_o.call(e,n)&&(t[Tk(n)]=e[n]);return t}function Tk(e){let t=e.replace(uk,Ak);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Ak(e){return"-"+e.toLowerCase()}const Fs={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ck={};function So(e,t){const n=Ck,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return sg(e,r,i)}function sg(e,t,n){if(Ok(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return fc(e.children,t,n)}return Array.isArray(e)?fc(e,t,n):""}function fc(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=sg(e[i],t,n);return r.join("")}function Ok(e){return!!(e&&typeof e=="object")}const pc=document.createElement("i");function No(e){const t="&"+e+";";pc.innerHTML=t;const n=pc.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ht(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function mt(e,t){return e.length>0?(ht(e,e.length,0,t),e):t}const mc={}.hasOwnProperty;function ag(e){const t={};let n=-1;for(;++n<e.length;)jk(t,e[n]);return t}function jk(e,t){let n;for(n in t){const i=(mc.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){mc.call(i,a)||(i[a]=[]);const l=s[a];Rk(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Rk(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ht(e,0,0,r)}function og(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Nt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const et=ln(/[A-Za-z]/),Ke=ln(/[\dA-Za-z]/),Ik=ln(/[#-'*+\--9=?A-Z^-~]/);function Vi(e){return e!==null&&(e<32||e===127)}const Da=ln(/\d/),Mk=ln(/[\dA-Fa-f]/),Lk=ln(/[!-/:-@[-`{-~]/);function se(e){return e!==null&&e<-2}function xe(e){return e!==null&&(e<0||e===32)}function fe(e){return e===-2||e===-1||e===32}const gs=ln(new RegExp("\\p{P}|\\p{S}","u")),En=ln(/\s/);function ln(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Ke(e.charCodeAt(n+1))&&Ke(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function me(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return fe(c)?(e.enter(n),l(c)):t(c)}function l(c){return fe(c)&&s++<i?(e.consume(c),l):(e.exit(n),t(c))}}const Pk={tokenize:Dk};function Dk(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),me(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return se(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const zk={tokenize:Uk},bc={tokenize:$k};function Uk(e){const t=this,n=[];let r=0,i,s,a;return l;function l(w){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const N=t.events.length;let O=N,_;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){_=t.events[O][1].end;break}b(r);let L=N;for(;L<t.events.length;)t.events[L][1].end={..._},L++;return ht(t.events,O+1,0,t.events.slice(N)),t.events.length=L,u(w)}return l(w)}function u(w){if(r===n.length){if(!i)return g(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(bc,d,h)(w)}function d(w){return i&&k(),b(r),g(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(w)}function g(w){return t.containerState={},e.attempt(bc,f,p)(w)}function f(w){return r++,n.push([t.currentConstruct,t.containerState]),g(w)}function p(w){if(w===null){i&&k(),b(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(w)}function m(w){if(w===null){y(e.exit("chunkFlow"),!0),b(0),e.consume(w);return}return se(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),m)}function y(w,N){const O=t.sliceStream(w);if(N&&O.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(O),t.parser.lazy[w.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const L=t.events.length;let $=L,q,A;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){if(q){A=t.events[$][1].end;break}q=!0}for(b(r),_=L;_<t.events.length;)t.events[_][1].end={...A},_++;ht(t.events,$+1,0,t.events.slice(L)),t.events.length=_}}function b(w){let N=n.length;for(;N-- >w;){const O=n[N];t.containerState=O[1],O[0].exit.call(t,e)}n.length=w}function k(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function $k(e,t,n){return me(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zn(e){if(e===null||xe(e)||En(e))return 1;if(gs(e))return 2}function fs(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const za={name:"attention",resolveAll:Bk,tokenize:Fk};function Bk(e,t){let n=-1,r,i,s,a,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};yc(h,-c),yc(g,c),a={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=mt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=mt(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=mt(u,fs(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=mt(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=mt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ht(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Fk(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Zn(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===s)return e.consume(c),l;const u=e.exit("attentionSequence"),d=Zn(c),h=!d||d===2&&i||n.includes(c),g=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?h:h&&(i||!g)),u._close=!!(s===42?g:g&&(d||!h)),t(c)}}function yc(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Hk={name:"autolink",tokenize:qk};function qk(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return et(f)?(e.consume(f),a):f===64?n(f):u(f)}function a(f){return f===43||f===45||f===46||Ke(f)?(r=1,l(f)):u(f)}function l(f){return f===58?(e.consume(f),r=0,c):(f===43||f===45||f===46||Ke(f))&&r++<32?(e.consume(f),l):(r=0,u(f))}function c(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Vi(f)?n(f):(e.consume(f),c)}function u(f){return f===64?(e.consume(f),d):Ik(f)?(e.consume(f),u):n(f)}function d(f){return Ke(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):g(f)}function g(f){if((f===45||Ke(f))&&r++<63){const p=f===45?g:h;return e.consume(f),p}return n(f)}}const qr={partial:!0,tokenize:Gk};function Gk(e,t,n){return r;function r(s){return fe(s)?me(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||se(s)?t(s):n(s)}}const lg={continuation:{tokenize:Kk},exit:Vk,name:"blockQuote",tokenize:Wk};function Wk(e,t,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return fe(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function Kk(e,t,n){const r=this;return i;function i(a){return fe(a)?me(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(lg,t,n)(a)}}function Vk(e){e.exit("blockQuote")}const cg={name:"characterEscape",tokenize:Yk};function Yk(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Lk(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const ug={name:"characterReference",tokenize:Jk};function Jk(e,t,n){const r=this;let i=0,s,a;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Ke,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Mk,d):(e.enter("characterReferenceValue"),s=7,a=Da,d(h))}function d(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return a===Ke&&!No(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<s?(e.consume(h),d):n(h)}}const xc={partial:!0,tokenize:Qk},vc={concrete:!0,name:"codeFenced",tokenize:Xk};function Xk(e,t,n){const r=this,i={partial:!0,tokenize:O};let s=0,a=0,l;return c;function c(_){return u(_)}function u(_){const L=r.events[r.events.length-1];return s=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===l?(a++,e.consume(_),d):a<3?n(_):(e.exit("codeFencedFenceSequence"),fe(_)?me(e,h,"whitespace")(_):h(_))}function h(_){return _===null||se(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(xc,m,N)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===null||se(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(_)):fe(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),me(e,f,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),g)}function f(_){return _===null||se(_)?h(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===null||se(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(_)):_===96&&_===l?n(_):(e.consume(_),p)}function m(_){return e.attempt(i,N,y)(_)}function y(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),b}function b(_){return s>0&&fe(_)?me(e,k,"linePrefix",s+1)(_):k(_)}function k(_){return _===null||se(_)?e.check(xc,m,N)(_):(e.enter("codeFlowValue"),w(_))}function w(_){return _===null||se(_)?(e.exit("codeFlowValue"),k(_)):(e.consume(_),w)}function N(_){return e.exit("codeFenced"),t(_)}function O(_,L,$){let q=0;return A;function A(I){return _.enter("lineEnding"),_.consume(I),_.exit("lineEnding"),U}function U(I){return _.enter("codeFencedFence"),fe(I)?me(_,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):R(I)}function R(I){return I===l?(_.enter("codeFencedFenceSequence"),X(I)):$(I)}function X(I){return I===l?(q++,_.consume(I),X):q>=a?(_.exit("codeFencedFenceSequence"),fe(I)?me(_,J,"whitespace")(I):J(I)):$(I)}function J(I){return I===null||se(I)?(_.exit("codeFencedFence"),L(I)):$(I)}}}function Qk(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Hs={name:"codeIndented",tokenize:eE},Zk={partial:!0,tokenize:tE};function eE(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),me(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):se(u)?e.attempt(Zk,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||se(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function tE(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):se(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):me(e,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):se(a)?i(a):n(a)}}const nE={name:"codeText",previous:iE,resolve:rE,tokenize:sE};function rE(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function iE(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sE(e,t,n){let r=0,i,s;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):se(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||se(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class aE{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&br(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),br(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),br(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);br(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);br(this.left,n.reverse())}}}function br(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function dg(e){const t={};let n=-1,r,i,s,a,l,c,u;const d=new aE(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,oE(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return ht(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function oE(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let d,h,g=-1,f=n,p=0,m=0;const y=[m];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(m=g+1,y.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),g=y.length;g--;){const b=l.slice(y[g],y[g+1]),k=s.pop();c.push([k,k+b.length-1]),e.splice(k,2,b)}for(c.reverse(),g=-1;++g<c.length;)u[p+c[g][0]]=p+c[g][1],p+=c[g][1]-c[g][0]-1;return u}const lE={resolve:uE,tokenize:dE},cE={partial:!0,tokenize:hE};function uE(e){return dg(e),e}function dE(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):se(l)?e.check(cE,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hE(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),me(e,s,"linePrefix")}function s(a){if(a===null||se(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function hg(e,t,n,r,i,s,a,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(b){return b===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(b),e.exit(s),g):b===null||b===32||b===41||Vi(b)?n(b):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),m(b))}function g(b){return b===62?(e.enter(s),e.consume(b),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===62?(e.exit("chunkString"),e.exit(l),g(b)):b===null||b===60||se(b)?n(b):(e.consume(b),b===92?p:f)}function p(b){return b===60||b===62||b===92?(e.consume(b),f):f(b)}function m(b){return!d&&(b===null||b===41||xe(b))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(b)):d<u&&b===40?(e.consume(b),d++,m):b===41?(e.consume(b),d--,m):b===null||b===32||b===40||Vi(b)?n(b):(e.consume(b),b===92?y:m)}function y(b){return b===40||b===41||b===92?(e.consume(b),m):m(b)}}function gg(e,t,n,r,i,s){const a=this;let l=0,c;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return l>999||f===null||f===91||f===93&&!c||f===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):se(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||se(f)||l++>999?(e.exit("chunkString"),d(f)):(e.consume(f),c||(c=!fe(f)),f===92?g:h)}function g(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function fg(e,t,n,r,i,s){let a;return l;function l(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),a=g===40?41:g,c):n(g)}function c(g){return g===a?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),u(g))}function u(g){return g===a?(e.exit(s),c(a)):g===null?n(g):se(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),me(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===a||g===null||se(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?h:d)}function h(g){return g===a||g===92?(e.consume(g),d):d(g)}}function Sr(e,t){let n;return r;function r(i){return se(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):fe(i)?me(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const gE={name:"definition",tokenize:pE},fE={partial:!0,tokenize:mE};function pE(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return gg.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=Nt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),c):n(f)}function c(f){return xe(f)?Sr(e,u)(f):u(f)}function u(f){return hg(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(fE,h,h)(f)}function h(f){return fe(f)?me(e,g,"whitespace")(f):g(f)}function g(f){return f===null||se(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function mE(e,t,n){return r;function r(l){return xe(l)?Sr(e,i)(l):n(l)}function i(l){return fg(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return fe(l)?me(e,a,"whitespace")(l):a(l)}function a(l){return l===null||se(l)?t(l):n(l)}}const bE={name:"hardBreakEscape",tokenize:yE};function yE(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return se(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const xE={name:"headingAtx",resolve:vE,tokenize:wE};function vE(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ht(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function wE(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||xe(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||se(d)?(e.exit("atxHeading"),t(d)):fe(d)?me(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||xe(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const _E=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wc=["pre","script","style","textarea"],kE={concrete:!0,name:"htmlFlow",resolveTo:NE,tokenize:TE},EE={partial:!0,tokenize:CE},SE={partial:!0,tokenize:AE};function NE(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function TE(e,t,n){const r=this;let i,s,a,l,c;return u;function u(v){return d(v)}function d(v){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(v),h}function h(v){return v===33?(e.consume(v),g):v===47?(e.consume(v),s=!0,m):v===63?(e.consume(v),i=3,r.interrupt?t:x):et(v)?(e.consume(v),a=String.fromCharCode(v),y):n(v)}function g(v){return v===45?(e.consume(v),i=2,f):v===91?(e.consume(v),i=5,l=0,p):et(v)?(e.consume(v),i=4,r.interrupt?t:x):n(v)}function f(v){return v===45?(e.consume(v),r.interrupt?t:x):n(v)}function p(v){const T="CDATA[";return v===T.charCodeAt(l++)?(e.consume(v),l===T.length?r.interrupt?t:R:p):n(v)}function m(v){return et(v)?(e.consume(v),a=String.fromCharCode(v),y):n(v)}function y(v){if(v===null||v===47||v===62||xe(v)){const T=v===47,F=a.toLowerCase();return!T&&!s&&wc.includes(F)?(i=1,r.interrupt?t(v):R(v)):_E.includes(a.toLowerCase())?(i=6,T?(e.consume(v),b):r.interrupt?t(v):R(v)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(v):s?k(v):w(v))}return v===45||Ke(v)?(e.consume(v),a+=String.fromCharCode(v),y):n(v)}function b(v){return v===62?(e.consume(v),r.interrupt?t:R):n(v)}function k(v){return fe(v)?(e.consume(v),k):A(v)}function w(v){return v===47?(e.consume(v),A):v===58||v===95||et(v)?(e.consume(v),N):fe(v)?(e.consume(v),w):A(v)}function N(v){return v===45||v===46||v===58||v===95||Ke(v)?(e.consume(v),N):O(v)}function O(v){return v===61?(e.consume(v),_):fe(v)?(e.consume(v),O):w(v)}function _(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(e.consume(v),c=v,L):fe(v)?(e.consume(v),_):$(v)}function L(v){return v===c?(e.consume(v),c=null,q):v===null||se(v)?n(v):(e.consume(v),L)}function $(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||xe(v)?O(v):(e.consume(v),$)}function q(v){return v===47||v===62||fe(v)?w(v):n(v)}function A(v){return v===62?(e.consume(v),U):n(v)}function U(v){return v===null||se(v)?R(v):fe(v)?(e.consume(v),U):n(v)}function R(v){return v===45&&i===2?(e.consume(v),C):v===60&&i===1?(e.consume(v),z):v===62&&i===4?(e.consume(v),B):v===63&&i===3?(e.consume(v),x):v===93&&i===5?(e.consume(v),Q):se(v)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(EE,D,X)(v)):v===null||se(v)?(e.exit("htmlFlowData"),X(v)):(e.consume(v),R)}function X(v){return e.check(SE,J,D)(v)}function J(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),I}function I(v){return v===null||se(v)?X(v):(e.enter("htmlFlowData"),R(v))}function C(v){return v===45?(e.consume(v),x):R(v)}function z(v){return v===47?(e.consume(v),a="",P):R(v)}function P(v){if(v===62){const T=a.toLowerCase();return wc.includes(T)?(e.consume(v),B):R(v)}return et(v)&&a.length<8?(e.consume(v),a+=String.fromCharCode(v),P):R(v)}function Q(v){return v===93?(e.consume(v),x):R(v)}function x(v){return v===62?(e.consume(v),B):v===45&&i===2?(e.consume(v),x):R(v)}function B(v){return v===null||se(v)?(e.exit("htmlFlowData"),D(v)):(e.consume(v),B)}function D(v){return e.exit("htmlFlow"),t(v)}}function AE(e,t,n){const r=this;return i;function i(a){return se(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function CE(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(qr,t,n)}}const OE={name:"htmlText",tokenize:jE};function jE(e,t,n){const r=this;let i,s,a;return l;function l(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),c}function c(x){return x===33?(e.consume(x),u):x===47?(e.consume(x),O):x===63?(e.consume(x),w):et(x)?(e.consume(x),$):n(x)}function u(x){return x===45?(e.consume(x),d):x===91?(e.consume(x),s=0,p):et(x)?(e.consume(x),k):n(x)}function d(x){return x===45?(e.consume(x),f):n(x)}function h(x){return x===null?n(x):x===45?(e.consume(x),g):se(x)?(a=h,z(x)):(e.consume(x),h)}function g(x){return x===45?(e.consume(x),f):h(x)}function f(x){return x===62?C(x):x===45?g(x):h(x)}function p(x){const B="CDATA[";return x===B.charCodeAt(s++)?(e.consume(x),s===B.length?m:p):n(x)}function m(x){return x===null?n(x):x===93?(e.consume(x),y):se(x)?(a=m,z(x)):(e.consume(x),m)}function y(x){return x===93?(e.consume(x),b):m(x)}function b(x){return x===62?C(x):x===93?(e.consume(x),b):m(x)}function k(x){return x===null||x===62?C(x):se(x)?(a=k,z(x)):(e.consume(x),k)}function w(x){return x===null?n(x):x===63?(e.consume(x),N):se(x)?(a=w,z(x)):(e.consume(x),w)}function N(x){return x===62?C(x):w(x)}function O(x){return et(x)?(e.consume(x),_):n(x)}function _(x){return x===45||Ke(x)?(e.consume(x),_):L(x)}function L(x){return se(x)?(a=L,z(x)):fe(x)?(e.consume(x),L):C(x)}function $(x){return x===45||Ke(x)?(e.consume(x),$):x===47||x===62||xe(x)?q(x):n(x)}function q(x){return x===47?(e.consume(x),C):x===58||x===95||et(x)?(e.consume(x),A):se(x)?(a=q,z(x)):fe(x)?(e.consume(x),q):C(x)}function A(x){return x===45||x===46||x===58||x===95||Ke(x)?(e.consume(x),A):U(x)}function U(x){return x===61?(e.consume(x),R):se(x)?(a=U,z(x)):fe(x)?(e.consume(x),U):q(x)}function R(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),i=x,X):se(x)?(a=R,z(x)):fe(x)?(e.consume(x),R):(e.consume(x),J)}function X(x){return x===i?(e.consume(x),i=void 0,I):x===null?n(x):se(x)?(a=X,z(x)):(e.consume(x),X)}function J(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===47||x===62||xe(x)?q(x):(e.consume(x),J)}function I(x){return x===47||x===62||xe(x)?q(x):n(x)}function C(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}function z(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),P}function P(x){return fe(x)?me(e,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):Q(x)}function Q(x){return e.enter("htmlTextData"),a(x)}}const To={name:"labelEnd",resolveAll:LE,resolveTo:PE,tokenize:DE},RE={tokenize:zE},IE={tokenize:UE},ME={tokenize:$E};function LE(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ht(e,0,e.length,n),e}function PE(e,t){let n=e.length,r=0,i,s,a,l;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=mt(l,e.slice(s+1,s+r+3)),l=mt(l,[["enter",d,t]]),l=mt(l,fs(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),l=mt(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=mt(l,e.slice(a+1)),l=mt(l,[["exit",c,t]]),ht(e,s,e.length,l),e}function DE(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(g){return s?s._inactive?h(g):(a=r.parser.defined.includes(Nt(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),c):n(g)}function c(g){return g===40?e.attempt(RE,d,a?d:h)(g):g===91?e.attempt(IE,d,a?u:h)(g):a?d(g):h(g)}function u(g){return e.attempt(ME,d,h)(g)}function d(g){return t(g)}function h(g){return s._balanced=!0,n(g)}}function zE(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return xe(h)?Sr(e,s)(h):s(h)}function s(h){return h===41?d(h):hg(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return xe(h)?Sr(e,c)(h):d(h)}function l(h){return n(h)}function c(h){return h===34||h===39||h===40?fg(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return xe(h)?Sr(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function UE(e,t,n){const r=this;return i;function i(l){return gg.call(r,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Nt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function $E(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const BE={name:"labelStartImage",resolveAll:To.resolveAll,tokenize:FE};function FE(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const HE={name:"labelStartLink",resolveAll:To.resolveAll,tokenize:qE};function qE(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const qs={name:"lineEnding",tokenize:GE};function GE(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),me(e,t,"linePrefix")}}const Ti={name:"thematicBreak",tokenize:WE};function WE(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||se(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),fe(u)?me(e,l,"whitespace")(u):l(u))}}const it={continuation:{tokenize:JE},exit:QE,name:"list",tokenize:YE},KE={partial:!0,tokenize:ZE},VE={partial:!0,tokenize:XE};function YE(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Da(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Ti,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(f)}return n(f)}function c(f){return Da(f)&&++a<10?(e.consume(f),c):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(qr,r.interrupt?n:d,e.attempt(KE,g,h))}function d(f){return r.containerState.initialBlankLine=!0,s++,g(f)}function h(f){return fe(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),g):n(f)}function g(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function JE(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(qr,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,me(e,t,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!fe(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(VE,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,me(e,e.attempt(it,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function XE(e,t,n){const r=this;return me(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function QE(e){e.exit(this.containerState.type)}function ZE(e,t,n){const r=this;return me(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!fe(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const _c={name:"setextUnderline",resolveTo:eS,tokenize:tS};function eS(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function tS(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),fe(u)?me(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||se(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const nS={tokenize:rS};function rS(e){const t=this,n=e.attempt(qr,r,e.attempt(this.parser.constructs.flowInitial,i,me(e,e.attempt(this.parser.constructs.flow,i,e.attempt(lE,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const iS={resolveAll:mg()},sS=pg("string"),aS=pg("text");function pg(e){return{resolveAll:mg(e==="text"?oS:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,l);return a;function a(d){return u(d)?s(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=i[d];let g=-1;if(h)for(;++g<h.length;){const f=h[g];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function mg(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function oS(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,l=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const lS={42:it,43:it,45:it,48:it,49:it,50:it,51:it,52:it,53:it,54:it,55:it,56:it,57:it,62:lg},cS={91:gE},uS={[-2]:Hs,[-1]:Hs,32:Hs},dS={35:xE,42:Ti,45:[_c,Ti],60:kE,61:_c,95:Ti,96:vc,126:vc},hS={38:ug,92:cg},gS={[-5]:qs,[-4]:qs,[-3]:qs,33:BE,38:ug,42:za,60:[Hk,OE],91:HE,92:[bE,cg],93:To,95:za,96:nE},fS={null:[za,iS]},pS={null:[42,95]},mS={null:[]},bS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pS,contentInitial:cS,disable:mS,document:lS,flow:dS,flowInitial:uS,insideSpan:fS,string:hS,text:gS},Symbol.toStringTag,{value:"Module"}));function yS(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const c={attempt:L(O),check:L(_),consume:k,enter:w,exit:N,interrupt:L(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:g,sliceStream:f,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function h(U){return a=mt(a,U),y(),a[a.length-1]!==null?[]:($(t,0),u.events=fs(s,u.events,u),u.events)}function g(U,R){return vS(f(U),R)}function f(U){return xS(a,U)}function p(){const{_bufferIndex:U,_index:R,line:X,column:J,offset:I}=r;return{_bufferIndex:U,_index:R,line:X,column:J,offset:I}}function m(U){i[U.line]=U.column,A()}function y(){let U;for(;r._index<a.length;){const R=a[r._index];if(typeof R=="string")for(U=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===U&&r._bufferIndex<R.length;)b(R.charCodeAt(r._bufferIndex));else b(R)}}function b(U){d=d(U)}function k(U){se(U)?(r.line++,r.column=1,r.offset+=U===-3?2:1,A()):U!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=U}function w(U,R){const X=R||{};return X.type=U,X.start=p(),u.events.push(["enter",X,u]),l.push(X),X}function N(U){const R=l.pop();return R.end=p(),u.events.push(["exit",R,u]),R}function O(U,R){$(U,R.from)}function _(U,R){R.restore()}function L(U,R){return X;function X(J,I,C){let z,P,Q,x;return Array.isArray(J)?D(J):"tokenize"in J?D([J]):B(J);function B(V){return Y;function Y(he){const Oe=he!==null&&V[he],Ne=he!==null&&V.null,Ue=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return D(Ue)(he)}}function D(V){return z=V,P=0,V.length===0?C:v(V[P])}function v(V){return Y;function Y(he){return x=q(),Q=V,V.partial||(u.currentConstruct=V),V.name&&u.parser.constructs.disable.null.includes(V.name)?F():V.tokenize.call(R?Object.assign(Object.create(u),R):u,c,T,F)(he)}}function T(V){return U(Q,x),I}function F(V){return x.restore(),++P<z.length?v(z[P]):C}}}function $(U,R){U.resolveAll&&!s.includes(U)&&s.push(U),U.resolve&&ht(u.events,R,u.events.length-R,U.resolve(u.events.slice(R),u)),U.resolveTo&&(u.events=U.resolveTo(u.events,u))}function q(){const U=p(),R=u.previous,X=u.currentConstruct,J=u.events.length,I=Array.from(l);return{from:J,restore:C};function C(){r=U,u.previous=R,u.currentConstruct=X,u.events.length=J,l=I,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function xS(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function vS(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function wS(e){const r={constructs:ag([bS,...(e||{}).extensions||[]]),content:i(Pk),defined:[],document:i(zk),flow:i(nS),lazy:{},string:i(sS),text:i(aS)};return r;function i(s){return a;function a(l){return yS(r,s,l)}}}function _S(e){for(;!dg(e););return e}const kc=/[\0\t\n\r]/g;function kS(){let e=1,t="",n=!0,r;return i;function i(s,a,l){const c=[];let u,d,h,g,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(kc.lastIndex=h,u=kc.exec(s),g=u&&u.index!==void 0?u.index:s.length,f=s.charCodeAt(g),!u){t=s.slice(h);break}if(f===10&&h===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<g&&(c.push(s.slice(h,g)),e+=g-h),f){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const ES=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SS(e){return e.replace(ES,NS)}function NS(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return og(n.slice(s?2:1),s?16:10)}return No(n)||e}const bg={}.hasOwnProperty;function TS(e,t,n){return typeof t!="string"&&(n=t,t=void 0),AS(n)(_S(wS(n).document().write(kS()(e,t,!0))))}function AS(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gt),autolinkProtocol:q,autolinkEmail:q,atxHeading:s(Ce),blockQuote:s(Ne),characterEscape:q,characterReference:q,codeFenced:s(Ue),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Ue,a),codeText:s(Re,a),codeTextData:q,data:q,codeFlowValue:q,definition:s(Ye),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(yt),hardBreakEscape:s(pe),hardBreakTrailing:s(pe),htmlFlow:s(Je,a),htmlFlowData:q,htmlText:s(Je,a),htmlTextData:q,image:s(re),label:a,link:s(gt),listItem:s(be),listItemValue:g,listOrdered:s(ke,h),listUnordered:s(ke),paragraph:s(Ut),reference:v,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ce),strong:s(xt),thematicBreak:s(vt)},exit:{atxHeading:c(),atxHeadingSequence:O,autolink:c(),autolinkEmail:Oe,autolinkProtocol:he,blockQuote:c(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:F,characterReferenceMarkerNumeric:F,characterReferenceValue:V,characterReference:Y,codeFenced:c(y),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:A,codeIndented:c(b),codeText:c(I),codeTextData:A,data:A,definition:c(),definitionDestinationString:N,definitionLabelString:k,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(R),hardBreakTrailing:c(R),htmlFlow:c(X),htmlFlowData:A,htmlText:c(J),htmlTextData:A,image:c(z),label:Q,labelText:P,lineEnding:U,link:c(C),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:T,resourceDestinationString:x,resourceTitleString:B,resource:D,setextHeading:c($),setextHeadingLineSequence:L,setextHeadingText:_,strong:c(),thematicBreak:c()}};yg(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(S){let j={type:"root",children:[]};const K={stack:[j],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:n},Z=[];let le=-1;for(;++le<S.length;)if(S[le][1].type==="listOrdered"||S[le][1].type==="listUnordered")if(S[le][0]==="enter")Z.push(le);else{const Ee=Z.pop();le=i(S,Ee,le)}for(le=-1;++le<S.length;){const Ee=t[S[le][0]];bg.call(Ee,S[le][1].type)&&Ee[S[le][1].type].call(Object.assign({sliceSerialize:S[le][2].sliceSerialize},K),S[le][1])}if(K.tokenStack.length>0){const Ee=K.tokenStack[K.tokenStack.length-1];(Ee[1]||Ec).call(K,void 0,Ee[0])}for(j.position={start:Zt(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:Zt(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<t.transforms.length;)j=t.transforms[le](j)||j;return j}function i(S,j,K){let Z=j-1,le=-1,Ee=!1,ft,qe,Tt,Xe;for(;++Z<=K;){const Ie=S[Z];switch(Ie[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ie[0]==="enter"?le++:le--,Xe=void 0;break}case"lineEndingBlank":{Ie[0]==="enter"&&(ft&&!Xe&&!le&&!Tt&&(Tt=Z),Xe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xe=void 0}if(!le&&Ie[0]==="enter"&&Ie[1].type==="listItemPrefix"||le===-1&&Ie[0]==="exit"&&(Ie[1].type==="listUnordered"||Ie[1].type==="listOrdered")){if(ft){let At=Z;for(qe=void 0;At--;){const ct=S[At];if(ct[1].type==="lineEnding"||ct[1].type==="lineEndingBlank"){if(ct[0]==="exit")continue;qe&&(S[qe][1].type="lineEndingBlank",Ee=!0),ct[1].type="lineEnding",qe=At}else if(!(ct[1].type==="linePrefix"||ct[1].type==="blockQuotePrefix"||ct[1].type==="blockQuotePrefixWhitespace"||ct[1].type==="blockQuoteMarker"||ct[1].type==="listItemIndent"))break}Tt&&(!qe||Tt<qe)&&(ft._spread=!0),ft.end=Object.assign({},qe?S[qe][1].start:Ie[1].end),S.splice(qe||Z,0,["exit",ft,Ie[2]]),Z++,K++}if(Ie[1].type==="listItemPrefix"){const At={type:"listItem",_spread:!1,start:Object.assign({},Ie[1].start),end:void 0};ft=At,S.splice(Z,0,["enter",At,Ie[2]]),Z++,K++,Tt=void 0,Xe=!0}}}return S[j][1]._spread=Ee,K}function s(S,j){return K;function K(Z){l.call(this,S(Z),Z),j&&j.call(this,Z)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(S,j,K){this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([j,K||void 0]),S.position={start:Zt(j.start),end:void 0}}function c(S){return j;function j(K){S&&S.call(this,K),u.call(this,K)}}function u(S,j){const K=this.stack.pop(),Z=this.tokenStack.pop();if(Z)Z[0].type!==S.type&&(j?j.call(this,S,Z[0]):(Z[1]||Ec).call(this,S,Z[0]));else throw new Error("Cannot close `"+S.type+"` ("+Er({start:S.start,end:S.end})+"): its not open");K.position.end=Zt(S.end)}function d(){return So(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(S){if(this.data.expectingFirstListItemValue){const j=this.stack[this.stack.length-2];j.start=Number.parseInt(this.sliceSerialize(S),10),this.data.expectingFirstListItemValue=void 0}}function f(){const S=this.resume(),j=this.stack[this.stack.length-1];j.lang=S}function p(){const S=this.resume(),j=this.stack[this.stack.length-1];j.meta=S}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const S=this.resume(),j=this.stack[this.stack.length-1];j.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const S=this.resume(),j=this.stack[this.stack.length-1];j.value=S.replace(/(\r?\n|\r)$/g,"")}function k(S){const j=this.resume(),K=this.stack[this.stack.length-1];K.label=j,K.identifier=Nt(this.sliceSerialize(S)).toLowerCase()}function w(){const S=this.resume(),j=this.stack[this.stack.length-1];j.title=S}function N(){const S=this.resume(),j=this.stack[this.stack.length-1];j.url=S}function O(S){const j=this.stack[this.stack.length-1];if(!j.depth){const K=this.sliceSerialize(S).length;j.depth=K}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function L(S){const j=this.stack[this.stack.length-1];j.depth=this.sliceSerialize(S).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function q(S){const K=this.stack[this.stack.length-1].children;let Z=K[K.length-1];(!Z||Z.type!=="text")&&(Z=$t(),Z.position={start:Zt(S.start),end:void 0},K.push(Z)),this.stack.push(Z)}function A(S){const j=this.stack.pop();j.value+=this.sliceSerialize(S),j.position.end=Zt(S.end)}function U(S){const j=this.stack[this.stack.length-1];if(this.data.atHardBreak){const K=j.children[j.children.length-1];K.position.end=Zt(S.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(j.type)&&(q.call(this,S),A.call(this,S))}function R(){this.data.atHardBreak=!0}function X(){const S=this.resume(),j=this.stack[this.stack.length-1];j.value=S}function J(){const S=this.resume(),j=this.stack[this.stack.length-1];j.value=S}function I(){const S=this.resume(),j=this.stack[this.stack.length-1];j.value=S}function C(){const S=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=j,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function z(){const S=this.stack[this.stack.length-1];if(this.data.inReference){const j=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=j,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function P(S){const j=this.sliceSerialize(S),K=this.stack[this.stack.length-2];K.label=SS(j),K.identifier=Nt(j).toLowerCase()}function Q(){const S=this.stack[this.stack.length-1],j=this.resume(),K=this.stack[this.stack.length-1];if(this.data.inReference=!0,K.type==="link"){const Z=S.children;K.children=Z}else K.alt=j}function x(){const S=this.resume(),j=this.stack[this.stack.length-1];j.url=S}function B(){const S=this.resume(),j=this.stack[this.stack.length-1];j.title=S}function D(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function T(S){const j=this.resume(),K=this.stack[this.stack.length-1];K.label=j,K.identifier=Nt(this.sliceSerialize(S)).toLowerCase(),this.data.referenceType="full"}function F(S){this.data.characterReferenceType=S.type}function V(S){const j=this.sliceSerialize(S),K=this.data.characterReferenceType;let Z;K?(Z=og(j,K==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Z=No(j);const le=this.stack[this.stack.length-1];le.value+=Z}function Y(S){const j=this.stack.pop();j.position.end=Zt(S.end)}function he(S){A.call(this,S);const j=this.stack[this.stack.length-1];j.url=this.sliceSerialize(S)}function Oe(S){A.call(this,S);const j=this.stack[this.stack.length-1];j.url="mailto:"+this.sliceSerialize(S)}function Ne(){return{type:"blockquote",children:[]}}function Ue(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function yt(){return{type:"emphasis",children:[]}}function Ce(){return{type:"heading",depth:0,children:[]}}function pe(){return{type:"break"}}function Je(){return{type:"html",value:""}}function re(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function ke(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function be(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function Ut(){return{type:"paragraph",children:[]}}function xt(){return{type:"strong",children:[]}}function $t(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function Zt(e){return{line:e.line,column:e.column,offset:e.offset}}function yg(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?yg(e,r):CS(e,r)}}function CS(e,t){let n;for(n in t)if(bg.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Ec(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Er({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Er({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Er({start:t.start,end:t.end})+") is still open")}function OS(e){const t=this;t.parser=n;function n(r){return TS(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function jS(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function RS(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function IS(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function MS(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LS(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PS(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function DS(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zS(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function xg(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function US(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return xg(e,t);const i={src:sr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function $S(e,t){const n={src:sr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function BS(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function FS(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return xg(e,t);const i={href:sr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function HS(e,t){const n={href:sr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qS(e,t,n){const r=e.all(t),i=n?GS(n):vg(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function GS(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=vg(n[r])}return t}function vg(e){const t=e.spread;return t??e.children.length>1}function WS(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function KS(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VS(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function YS(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function JS(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=wo(t.children[1]),c=Zh(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function XS(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const h=t.children[c],g={},f=a?a[c]:void 0;f&&(g.align=f);let p={type:"element",tagName:s,properties:g,children:[]};h&&(p.children=e.all(h),e.patch(h,p),p=e.applyData(h,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function QS(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Sc=9,Nc=32;function ZS(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(Tc(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(Tc(t.slice(i),i>0,!1)),s.join("")}function Tc(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Sc||s===Nc;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Sc||s===Nc;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function eN(e,t){const n={type:"text",value:ZS(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function tN(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const nN={blockquote:jS,break:RS,code:IS,delete:MS,emphasis:LS,footnoteReference:PS,heading:DS,html:zS,imageReference:US,image:$S,inlineCode:BS,linkReference:FS,link:HS,listItem:qS,list:WS,paragraph:KS,root:VS,strong:YS,table:JS,tableCell:QS,tableRow:XS,text:eN,thematicBreak:tN,toml:gi,yaml:gi,definition:gi,footnoteDefinition:gi};function gi(){}const wg=-1,ps=0,Nr=1,Yi=2,Ao=3,Co=4,Oo=5,jo=6,_g=7,kg=8,Ac=typeof self=="object"?self:globalThis,rN=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case ps:case wg:return n(a,i);case Nr:{const l=n([],i);for(const c of a)l.push(r(c));return l}case Yi:{const l=n({},i);for(const[c,u]of a)l[r(c)]=r(u);return l}case Ao:return n(new Date(a),i);case Co:{const{source:l,flags:c}=a;return n(new RegExp(l,c),i)}case Oo:{const l=n(new Map,i);for(const[c,u]of a)l.set(r(c),r(u));return l}case jo:{const l=n(new Set,i);for(const c of a)l.add(r(c));return l}case _g:{const{name:l,message:c}=a;return n(new Ac[l](c),i)}case kg:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new Ac[s](a),i)};return r},Cc=e=>rN(new Map,e)(0),Dn="",{toString:iN}={},{keys:sN}=Object,yr=e=>{const t=typeof e;if(t!=="object"||!e)return[ps,t];const n=iN.call(e).slice(8,-1);switch(n){case"Array":return[Nr,Dn];case"Object":return[Yi,Dn];case"Date":return[Ao,Dn];case"RegExp":return[Co,Dn];case"Map":return[Oo,Dn];case"Set":return[jo,Dn];case"DataView":return[Nr,n]}return n.includes("Array")?[Nr,n]:n.includes("Error")?[_g,n]:[Yi,n]},fi=([e,t])=>e===ps&&(t==="function"||t==="symbol"),aN=(e,t,n,r)=>{const i=(a,l)=>{const c=r.push(a)-1;return n.set(l,c),c},s=a=>{if(n.has(a))return n.get(a);let[l,c]=yr(a);switch(l){case ps:{let d=a;switch(c){case"bigint":l=kg,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([wg],a)}return i([l,d],a)}case Nr:{if(c){let g=a;return c==="DataView"?g=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(a)),i([c,[...g]],a)}const d=[],h=i([l,d],a);for(const g of a)d.push(s(g));return h}case Yi:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],h=i([l,d],a);for(const g of sN(a))(e||!fi(yr(a[g])))&&d.push([s(g),s(a[g])]);return h}case Ao:return i([l,a.toISOString()],a);case Co:{const{source:d,flags:h}=a;return i([l,{source:d,flags:h}],a)}case Oo:{const d=[],h=i([l,d],a);for(const[g,f]of a)(e||!(fi(yr(g))||fi(yr(f))))&&d.push([s(g),s(f)]);return h}case jo:{const d=[],h=i([l,d],a);for(const g of a)(e||!fi(yr(g)))&&d.push(s(g));return h}}const{message:u}=a;return i([l,{name:c,message:u}],a)};return s},Oc=(e,{json:t,lossy:n}={})=>{const r=[];return aN(!(t||n),!!t,new Map,r)(e),r},Ji=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Cc(Oc(e,t)):structuredClone(e):(e,t)=>Cc(Oc(e,t));function oN(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function lN(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function cN(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||oN,r=e.options.footnoteBackLabel||lN,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),g=sr(h.toLowerCase());let f=0;const p=[],m=e.footnoteCounts.get(h);for(;m!==void 0&&++f<=m;){p.length>0&&p.push({type:"text",value:" "});let k=typeof n=="string"?n:n(c,f);typeof k=="string"&&(k={type:"text",value:k}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,f),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const k=y.children[y.children.length-1];k&&k.type==="text"?k.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(u,b),l.push(b)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Ji(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const ms=function(e){if(e==null)return gN;if(typeof e=="function")return bs(e);if(typeof e=="object")return Array.isArray(e)?uN(e):dN(e);if(typeof e=="string")return hN(e);throw new Error("Expected function, string, or object as test")};function uN(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ms(e[n]);return bs(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function dN(e){const t=e;return bs(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function hN(e){return bs(t);function t(n){return n&&n.type===e}}function bs(e){return t;function t(n,r,i){return!!(fN(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function gN(){return!0}function fN(e){return e!==null&&typeof e=="object"&&"type"in e}const Eg=[],pN=!0,Ua=!1,mN="skip";function Sg(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=ms(i),a=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})}return g;function g(){let f=Eg,p,m,y;if((!t||s(c,u,d[d.length-1]||void 0))&&(f=bN(n(c,d)),f[0]===Ua))return f;if("children"in c&&c.children){const b=c;if(b.children&&f[0]!==mN)for(m=(r?b.children.length:-1)+a,y=d.concat(b);m>-1&&m<b.children.length;){const k=b.children[m];if(p=l(k,m,y)(),p[0]===Ua)return p;m=typeof p[1]=="number"?p[1]:m+a}}return f}}}function bN(e){return Array.isArray(e)?e:typeof e=="number"?[pN,e]:e==null?Eg:[e]}function Ro(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),Sg(e,s,l,i);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return a(c,h,d)}}const $a={}.hasOwnProperty,yN={};function xN(e,t){const n=t||yN,r=new Map,i=new Map,s=new Map,a={...nN,...n.handlers},l={all:u,applyData:wN,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:vN,wrap:kN};return Ro(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();h.has(g)||h.set(g,d)}}),l;function c(d,h){const g=d.type,f=l.handlers[g];if($a.call(l.handlers,g)&&f)return f(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(g)){if("children"in d){const{children:m,...y}=d,b=Ji(y);return b.children=l.all(d),b}return Ji(d)}return(l.options.unknownHandler||_N)(l,d,h)}function u(d){const h=[];if("children"in d){const g=d.children;let f=-1;for(;++f<g.length;){const p=l.one(g[f],d);if(p){if(f&&g[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=jc(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=jc(m.value))}Array.isArray(p)?h.push(...p):h.push(p)}}}return h}}function vN(e,t){e.position&&(t.position=lk(e))}function wN(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Ji(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function _N(e,t){const n=t.data||{},r="value"in t&&!($a.call(n,"hProperties")||$a.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function kN(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function jc(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Rc(e,t){const n=xN(e,t),r=n.one(e,void 0),i=cN(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function EN(e,t){return e&&"run"in e?async function(n,r){const i=Rc(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Rc(n,{file:r,...e||t})}}function Ic(e){if(e)throw e}var Ai=Object.prototype.hasOwnProperty,Ng=Object.prototype.toString,Mc=Object.defineProperty,Lc=Object.getOwnPropertyDescriptor,Pc=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Ng.call(t)==="[object Array]"},Dc=function(t){if(!t||Ng.call(t)!=="[object Object]")return!1;var n=Ai.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Ai.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Ai.call(t,i)},zc=function(t,n){Mc&&n.name==="__proto__"?Mc(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Uc=function(t,n){if(n==="__proto__")if(Ai.call(t,n)){if(Lc)return Lc(t,n).value}else return;return t[n]},SN=function e(){var t,n,r,i,s,a,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=Uc(l,n),i=Uc(t,n),l!==i&&(d&&i&&(Dc(i)||(s=Pc(i)))?(s?(s=!1,a=r&&Pc(r)?r:[]):a=r&&Dc(r)?r:{},zc(l,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&zc(l,{name:n,newValue:i}));return l};const Gs=Sn(SN);function Ba(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function NN(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(c,...u){const d=e[++s];let h=-1;if(c){a(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?TN(d,l)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function TN(e,t){let n;return r;function r(...a){const l=e.length>a.length;let c;l&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...l){n||(n=!0,t(a,...l))}function s(a){i(null,a)}}const Rt={basename:AN,dirname:CN,extname:ON,join:jN,sep:"/"};function AN(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Gr(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function CN(e){if(Gr(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ON(e){Gr(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function jN(...e){let t=-1,n;for(;++t<e.length;)Gr(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":RN(n)}function RN(e){Gr(e);const t=e.codePointAt(0)===47;let n=IN(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function IN(e,t){let n="",r=0,i=-1,s=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function Gr(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const MN={cwd:LN};function LN(){return"/"}function Fa(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function PN(e){if(typeof e=="string")e=new URL(e);else if(!Fa(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return DN(e)}function DN(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ws=["history","path","basename","stem","extname","dirname"];class Tg{constructor(t){let n;t?Fa(t)?n={path:t}:typeof t=="string"||zN(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":MN.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ws.length;){const s=Ws[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Ws.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rt.basename(this.path):void 0}set basename(t){Vs(t,"basename"),Ks(t,"basename"),this.path=Rt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rt.dirname(this.path):void 0}set dirname(t){$c(this.basename,"dirname"),this.path=Rt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rt.extname(this.path):void 0}set extname(t){if(Ks(t,"extname"),$c(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Fa(t)&&(t=PN(t)),Vs(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rt.basename(this.path,this.extname):void 0}set stem(t){Vs(t,"stem"),Ks(t,"stem"),this.path=Rt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ve(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ks(e,t){if(e&&e.includes(Rt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rt.sep+"`")}function Vs(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function $c(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const UN=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},$N={}.hasOwnProperty;class Io extends UN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=NN()}copy(){const t=new Io;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Gs(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Xs("data",this.frozen),this.namespace[t]=n,this):$N.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Xs("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=pi(t),r=this.parser||this.Parser;return Ys("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ys("process",this.parser||this.Parser),Js("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=pi(t),c=r.parse(l);r.run(c,l,function(d,h,g){if(d||!h||!g)return u(d);const f=h,p=r.stringify(f,g);HN(p)?g.value=p:g.result=p,u(d,g)});function u(d,h){d||!h?a(d):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Ys("processSync",this.parser||this.Parser),Js("processSync",this.compiler||this.Compiler),this.process(t,i),Fc("processSync","process",n),r;function i(s,a){n=!0,Ic(s),r=a}}run(t,n,r){Bc(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const c=pi(n);i.run(t,c,u);function u(d,h,g){const f=h||t;d?l(d):a?a(f):r(void 0,f,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),Fc("runSync","run",r),i;function s(a,l){Ic(a),i=l,r=!0}}stringify(t,n){this.freeze();const r=pi(n),i=this.compiler||this.Compiler;return Js("stringify",i),Bc(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Xs("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=Gs(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===u){g=h;break}if(g===-1)r.push([u,...d]);else if(d.length>0){let[f,...p]=d;const m=r[g][1];Ba(m)&&Ba(f)&&(f=Gs(!0,m,f)),r[g]=[u,f,...p]}}}}const BN=new Io().freeze();function Ys(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Js(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Xs(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bc(e){if(!Ba(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Fc(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function pi(e){return FN(e)?e:new Tg(e)}function FN(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function HN(e){return typeof e=="string"||qN(e)}function qN(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Hc=[],qc={allowDangerousHtml:!0},WN=/^(https?|ircs?|mailto|xmpp)$/i,KN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function VN(e){const t=YN(e),n=JN(e);return XN(t.runSync(t.parse(n),n),e)}function YN(e){const t=e.rehypePlugins||Hc,n=e.remarkPlugins||Hc,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...qc}:qc;return BN().use(OS).use(n).use(EN,r).use(t)}function JN(e){const t=e.children||"",n=new Tg;return typeof t=="string"&&(n.value=t),n}function XN(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||QN;for(const d of KN)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+GN+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Ro(e,u),gk(e,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,h,g){if(d.type==="raw"&&g&&typeof h=="number")return a?g.children.splice(h,1):g.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let f;for(f in Fs)if(Object.hasOwn(Fs,f)&&Object.hasOwn(d.properties,f)){const p=d.properties[f],m=Fs[f];(m===null||m.includes(d.tagName))&&(d.properties[f]=c(String(p||""),f,d))}}if(d.type==="element"){let f=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!f&&r&&typeof h=="number"&&(f=!r(d,h,g)),f&&g&&typeof h=="number")return l&&d.children?g.children.splice(h,1,...d.children):g.children.splice(h,1),h}}}function QN(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||WN.test(e.slice(0,t))?e:""}function Gc(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function ZN(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function eT(e,t,n){const i=ms((n||{}).ignore||[]),s=tT(t);let a=-1;for(;++a<s.length;)Sg(e,"text",l);function l(u,d){let h=-1,g;for(;++h<d.length;){const f=d[h],p=g?g.children:void 0;if(i(f,p?p.indexOf(f):void 0,g))return;g=f}if(g)return c(u,d)}function c(u,d){const h=d[d.length-1],g=s[a][0],f=s[a][1];let p=0;const y=h.children.indexOf(u);let b=!1,k=[];g.lastIndex=0;let w=g.exec(u.value);for(;w;){const N=w.index,O={index:w.index,input:w.input,stack:[...d,u]};let _=f(...w,O);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?g.lastIndex=N+1:(p!==N&&k.push({type:"text",value:u.value.slice(p,N)}),Array.isArray(_)?k.push(..._):_&&k.push(_),p=N+w[0].length,b=!0),!g.global)break;w=g.exec(u.value)}return b?(p<u.value.length&&k.push({type:"text",value:u.value.slice(p)}),h.children.splice(y,1,...k)):k=[u],y+k.length}}function tT(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([nT(i[0]),rT(i[1])])}return t}function nT(e){return typeof e=="string"?new RegExp(ZN(e),"g"):e}function rT(e){return typeof e=="function"?e:function(){return e}}const Qs="phrasing",Zs=["autolink","link","image","label"];function iT(){return{transforms:[dT],enter:{literalAutolink:aT,literalAutolinkEmail:ea,literalAutolinkHttp:ea,literalAutolinkWww:ea},exit:{literalAutolink:uT,literalAutolinkEmail:cT,literalAutolinkHttp:oT,literalAutolinkWww:lT}}}function sT(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Qs,notInConstruct:Zs},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Qs,notInConstruct:Zs},{character:":",before:"[ps]",after:"\\/",inConstruct:Qs,notInConstruct:Zs}]}}function aT(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ea(e){this.config.enter.autolinkProtocol.call(this,e)}function oT(e){this.config.exit.autolinkProtocol.call(this,e)}function lT(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function cT(e){this.config.exit.autolinkEmail.call(this,e)}function uT(e){this.exit(e)}function dT(e){eT(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hT],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),gT]],{ignore:["link","linkReference"]})}function hT(e,t,n,r,i){let s="";if(!Ag(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!fT(n)))return!1;const a=pT(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function gT(e,t,n,r){return!Ag(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function fT(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function pT(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Gc(e,"(");let s=Gc(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function Ag(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||En(n)||gs(n))&&(!t||n!==47)}Cg.peek=ET;function mT(){this.buffer()}function bT(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function yT(){this.buffer()}function xT(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function vT(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Nt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wT(e){this.exit(e)}function _T(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Nt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kT(e){this.exit(e)}function ET(){return"["}function Cg(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function ST(){return{enter:{gfmFootnoteCallString:mT,gfmFootnoteCall:bT,gfmFootnoteDefinitionLabelString:yT,gfmFootnoteDefinition:xT},exit:{gfmFootnoteCallString:vT,gfmFootnoteCall:wT,gfmFootnoteDefinitionLabelString:_T,gfmFootnoteDefinition:kT}}}function NT(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:Cg},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const l=s.createTracker(a);let c=l.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=l.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),t?Og:TT))),u(),c}}function TT(e,t,n){return t===0?e:Og(e,t,n)}function Og(e,t,n){return(n?"":"    ")+e}const AT=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jg.peek=IT;function CT(){return{canContainEols:["delete"],enter:{strikethrough:jT},exit:{strikethrough:RT}}}function OT(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:AT}],handlers:{delete:jg}}}function jT(e){this.enter({type:"delete",children:[]},e)}function RT(e){this.exit(e)}function jg(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function IT(){return"~"}function MT(e){return e.length}function LT(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||MT,s=[],a=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const m=[],y=[];let b=-1;for(e[d].length>u&&(u=e[d].length);++b<e[d].length;){const k=PT(e[d][b]);if(n.alignDelimiters!==!1){const w=i(k);y[b]=w,(c[b]===void 0||w>c[b])&&(c[b]=w)}m.push(k)}a[d]=m,l[d]=y}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=Wc(r[h]);else{const m=Wc(r);for(;++h<u;)s[h]=m}h=-1;const g=[],f=[];for(;++h<u;){const m=s[h];let y="",b="";m===99?(y=":",b=":"):m===108?y=":":m===114&&(b=":");let k=n.alignDelimiters===!1?1:Math.max(1,c[h]-y.length-b.length);const w=y+"-".repeat(k)+b;n.alignDelimiters!==!1&&(k=y.length+k+b.length,k>c[h]&&(c[h]=k),f[h]=k),g[h]=w}a.splice(1,0,g),l.splice(1,0,f),d=-1;const p=[];for(;++d<a.length;){const m=a[d],y=l[d];h=-1;const b=[];for(;++h<u;){const k=m[h]||"";let w="",N="";if(n.alignDelimiters!==!1){const O=c[h]-(y[h]||0),_=s[h];_===114?w=" ".repeat(O):_===99?O%2?(w=" ".repeat(O/2+.5),N=" ".repeat(O/2-.5)):(w=" ".repeat(O/2),N=w):N=" ".repeat(O)}n.delimiterStart!==!1&&!h&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&k==="")&&(n.delimiterStart!==!1||h)&&b.push(" "),n.alignDelimiters!==!1&&b.push(w),b.push(k),n.alignDelimiters!==!1&&b.push(N),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&b.push("|")}p.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return p.join(`
`)}function PT(e){return e==null?"":String(e)}function Wc(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function DT(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),zT);return i(),a}function zT(e,t,n){return">"+(n?"":" ")+e}function UT(e,t){return Kc(e,t.inConstruct,!0)&&!Kc(e,t.notInConstruct,!1)}function Kc(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Vc(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&UT(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $T(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function BT(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function FT(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function HT(e,t,n,r){const i=FT(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(BT(e,n)){const h=n.enter("codeIndented"),g=n.indentLines(s,qT);return h(),g}const l=n.createTracker(r),c=i.repeat(Math.max($T(s,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const h=n.enter(`codeFencedLang${a}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),h()}return d+=l.move(`
`),s&&(d+=l.move(s+`
`)),d+=l.move(c),u(),d}function qT(e,t,n){return(n?"":"    ")+e}function Mo(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function GT(e,t,n,r){const i=Mo(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),a(),u}function WT(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Mr(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Xi(e,t,n){const r=Zn(e),i=Zn(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Rg.peek=KT;function Rg(e,t,n,r){const i=WT(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),d=Xi(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Mr(u)+c.slice(1));const h=c.charCodeAt(c.length-1),g=Xi(r.after.charCodeAt(0),h,i);g.inside&&(c=c.slice(0,-1)+Mr(h));const f=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},l+c+f}function KT(e,t,n){return n.options.emphasis||"*"}function VT(e,t){let n=!1;return Ro(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ua}),!!((!e.depth||e.depth<3)&&So(e)&&(t.options.setext||n))}function YT(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(VT(e,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),d(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Mr(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),l(),u}Ig.peek=JT;function Ig(e){return e.value||""}function JT(){return"<"}Mg.peek=XT;function Mg(e,t,n,r){const i=Mo(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),a(),u}function XT(){return"!"}Lg.peek=QT;function Lg(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function QT(){return"!"}Pg.peek=ZT;function Pg(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],l=n.compilePattern(a);let c;if(a.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function ZT(){return"`"}function Dg(e,t){const n=So(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}zg.peek=eA;function zg(e,t,n,r){const i=Mo(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,c;if(Dg(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),l(),n.stack=d,h}l=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),l(),u}function eA(e,t,n){return Dg(e,n)?"<":"["}Ug.peek=tA;function Ug(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==h?c+=l.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function tA(){return"["}function Lo(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function nA(e){const t=Lo(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rA(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function $g(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function iA(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?rA(n):Lo(n);const l=e.ordered?a==="."?")":".":nA(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),$g(n)===a&&d){let h=-1;for(;++h<e.children.length;){const g=e.children[h];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=l),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function sA(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function aA(e,t,n,r){const i=sA(n);let s=n.bulletCurrent||Lo(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(h,g,f){return g?(f?"":" ".repeat(a))+h:(f?s:s+" ".repeat(a-s.length))+h}}function oA(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const lA=ms(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cA(e,t,n,r){return(e.children.some(function(a){return lA(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function uA(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Bg.peek=dA;function Bg(e,t,n,r){const i=uA(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=c.charCodeAt(0),d=Xi(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Mr(u)+c.slice(1));const h=c.charCodeAt(c.length-1),g=Xi(r.after.charCodeAt(0),h,i);g.inside&&(c=c.slice(0,-1)+Mr(h));const f=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},l+c+f}function dA(e,t,n){return n.options.strong||"*"}function hA(e,t,n,r){return n.safe(e.value,r)}function gA(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function fA(e,t,n){const r=($g(n)+(n.options.ruleSpaces?" ":"")).repeat(gA(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Fg={blockquote:DT,break:Vc,code:HT,definition:GT,emphasis:Rg,hardBreak:Vc,heading:YT,html:Ig,image:Mg,imageReference:Lg,inlineCode:Pg,link:zg,linkReference:Ug,list:iA,listItem:aA,paragraph:oA,root:cA,strong:Bg,text:hA,thematicBreak:fA};function pA(){return{enter:{table:mA,tableData:Yc,tableHeader:Yc,tableRow:yA},exit:{codeText:xA,table:bA,tableData:ta,tableHeader:ta,tableRow:ta}}}function mA(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function bA(e){this.exit(e),this.data.inTable=void 0}function yA(e){this.enter({type:"tableRow",children:[]},e)}function ta(e){this.exit(e)}function Yc(e){this.enter({type:"tableCell",children:[]},e)}function xA(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,vA));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function vA(e,t){return t==="|"?t:e}function wA(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:c,tableRow:l}};function a(f,p,m,y){return u(d(f,m,y),f.align)}function l(f,p,m,y){const b=h(f,m,y),k=u([b]);return k.slice(0,k.indexOf(`
`))}function c(f,p,m,y){const b=m.enter("tableCell"),k=m.enter("phrasing"),w=m.containerPhrasing(f,{...y,before:s,after:s});return k(),b(),w}function u(f,p){return LT(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(f,p,m){const y=f.children;let b=-1;const k=[],w=p.enter("table");for(;++b<y.length;)k[b]=h(y[b],p,m);return w(),k}function h(f,p,m){const y=f.children;let b=-1;const k=[],w=p.enter("tableRow");for(;++b<y.length;)k[b]=c(y[b],f,p,m);return w(),k}function g(f,p,m){let y=Fg.inlineCode(f,p,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function _A(){return{exit:{taskListCheckValueChecked:Jc,taskListCheckValueUnchecked:Jc,paragraph:EA}}}function kA(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:SA}}}function Jc(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function EA(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function SA(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(a);let c=Fg.listItem(e,t,n,{...r,...l.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function NA(){return[iT(),ST(),CT(),pA(),_A()]}function TA(e){return{extensions:[sT(),NT(e),OT(),wA(e),kA()]}}const AA={tokenize:MA,partial:!0},Hg={tokenize:LA,partial:!0},qg={tokenize:PA,partial:!0},Gg={tokenize:DA,partial:!0},CA={tokenize:zA,partial:!0},Wg={name:"wwwAutolink",tokenize:RA,previous:Vg},Kg={name:"protocolAutolink",tokenize:IA,previous:Yg},Jt={name:"emailAutolink",tokenize:jA,previous:Jg},zt={};function OA(){return{text:zt}}let hn=48;for(;hn<123;)zt[hn]=Jt,hn++,hn===58?hn=65:hn===91&&(hn=97);zt[43]=Jt;zt[45]=Jt;zt[46]=Jt;zt[95]=Jt;zt[72]=[Jt,Kg];zt[104]=[Jt,Kg];zt[87]=[Jt,Wg];zt[119]=[Jt,Wg];function jA(e,t,n){const r=this;let i,s;return a;function a(h){return!Ha(h)||!Jg.call(r,r.previous)||Po(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return Ha(h)?(e.consume(h),l):h===64?(e.consume(h),c):n(h)}function c(h){return h===46?e.check(CA,d,u)(h):h===45||h===95||Ke(h)?(s=!0,e.consume(h),c):d(h)}function u(h){return e.consume(h),i=!0,c}function d(h){return s&&i&&et(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function RA(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!Vg.call(r,r.previous)||Po(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(AA,e.attempt(Hg,e.attempt(qg,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function IA(e,t,n){const r=this;let i="",s=!1;return a;function a(h){return(h===72||h===104)&&Yg.call(r,r.previous)&&!Po(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),l):n(h)}function l(h){if(et(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(h),c}return n(h)}function c(h){return h===47?(e.consume(h),s?u:(s=!0,c)):n(h)}function u(h){return h===null||Vi(h)||xe(h)||En(h)||gs(h)?n(h):e.attempt(Hg,e.attempt(qg,d),n)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function MA(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function LA(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(Gg,c,l)(u):u===null||xe(u)||En(u)||u!==45&&gs(u)?c(u):(s=!0,e.consume(u),a)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function PA(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(Gg,t,s)(a):a===null||xe(a)||En(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function DA(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||xe(l)||En(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||xe(l)||En(l)?t(l):r(l)}function s(l){return et(l)?a(l):n(l)}function a(l){return l===59?(e.consume(l),r):et(l)?(e.consume(l),a):n(l)}}function zA(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Ke(s)?n(s):t(s)}}function Vg(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||xe(e)}function Yg(e){return!et(e)}function Jg(e){return!(e===47||Ha(e))}function Ha(e){return e===43||e===45||e===46||e===95||Ke(e)}function Po(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const UA={tokenize:KA,partial:!0};function $A(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:qA,continuation:{tokenize:GA},exit:WA}},text:{91:{name:"gfmFootnoteCall",tokenize:HA},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:BA,resolveTo:FA}}}}function BA(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!a||!a._balanced)return n(c);const u=Nt(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function FA(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function HA(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!a||h===null||h===91||xe(h))return n(h);if(h===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(Nt(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return xe(h)||(a=!0),s++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,u):u(h)}}function qA(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,l;return c;function c(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(a>999||p===93&&!l||p===null||p===91||xe(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=Nt(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return xe(p)||(l=!0),a++,e.consume(p),p===92?h:d}function h(p){return p===91||p===92||p===93?(e.consume(p),a++,d):d(p)}function g(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),me(e,f,"gfmFootnoteDefinitionWhitespace")):n(p)}function f(p){return t(p)}}function GA(e,t,n){return e.check(qr,t,e.attempt(UA,t,n))}function WA(e){e.exit("gfmFootnoteDefinition")}function KA(e,t,n){const r=this;return me(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function VA(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},g=[["enter",d,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",h,l]],f=l.parser.constructs.insideSpan.null;f&&ht(g,g.length,0,fs(f,a.slice(u+1,c),l)),ht(g,g.length,0,[["exit",h,l],["enter",a[c][1],l],["exit",a[c][1],l],["exit",d,l]]),ht(a,u-1,c-u+3,g),c=u+g.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,l,c){const u=this.previous,d=this.events;let h=0;return g;function g(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(p):(a.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const m=Zn(u);if(p===126)return h>1?c(p):(a.consume(p),h++,f);if(h<2&&!n)return c(p);const y=a.exit("strikethroughSequenceTemporary"),b=Zn(p);return y._open=!b||b===2&&!!m,y._close=!m||m===2&&!!b,l(p)}}}class YA{constructor(){this.map=[]}add(t,n,r){JA(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function JA(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function XA(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function QA(){return{flow:{null:{name:"table",tokenize:ZA,resolveAll:eC}}}}function ZA(e,t,n){const r=this;let i=0,s=0,a;return l;function l(A){let U=r.events.length-1;for(;U>-1;){const J=r.events[U][1].type;if(J==="lineEnding"||J==="linePrefix")U--;else break}const R=U>-1?r.events[U][1].type:null,X=R==="tableHead"||R==="tableRow"?_:c;return X===_&&r.parser.lazy[r.now().line]?n(A):X(A)}function c(A){return e.enter("tableHead"),e.enter("tableRow"),u(A)}function u(A){return A===124||(a=!0,s+=1),d(A)}function d(A){return A===null?n(A):se(A)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),f):n(A):fe(A)?me(e,d,"whitespace")(A):(s+=1,a&&(a=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),h(A)))}function h(A){return A===null||A===124||xe(A)?(e.exit("data"),d(A)):(e.consume(A),A===92?g:h)}function g(A){return A===92||A===124?(e.consume(A),h):h(A)}function f(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),a=!1,fe(A)?me(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):p(A))}function p(A){return A===45||A===58?y(A):A===124?(a=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),m):O(A)}function m(A){return fe(A)?me(e,y,"whitespace")(A):y(A)}function y(A){return A===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),b):A===45?(s+=1,b(A)):A===null||se(A)?N(A):O(A)}function b(A){return A===45?(e.enter("tableDelimiterFiller"),k(A)):O(A)}function k(A){return A===45?(e.consume(A),k):A===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(A))}function w(A){return fe(A)?me(e,N,"whitespace")(A):N(A)}function N(A){return A===124?p(A):A===null||se(A)?!a||i!==s?O(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):O(A)}function O(A){return n(A)}function _(A){return e.enter("tableRow"),L(A)}function L(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),L):A===null||se(A)?(e.exit("tableRow"),t(A)):fe(A)?me(e,L,"whitespace")(A):(e.enter("data"),$(A))}function $(A){return A===null||A===124||xe(A)?(e.exit("data"),L(A)):(e.consume(A),A===92?q:$)}function q(A){return A===92||A===124?(e.consume(A),$):$(A)}}function eC(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,c=0,u,d,h;const g=new YA;for(;++n<e.length;){const f=e[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(l=!1,c!==0&&(Xc(g,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},g.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},g.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],h=mi(g,t,s,i,void 0,h),s=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],h=mi(g,t,s,i,void 0,h)),s=a,a=[s[1],n,0,0])):p.type==="tableHead"?(l=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],h=mi(g,t,s,i,n,h)):a[1]!==0&&(h=mi(g,t,a,i,n,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&Xc(g,t,c,u,d),g.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=XA(t.events,n))}return e}function mi(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},Fn(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=Fn(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=Fn(t.events,n[2]),d=Fn(t.events,n[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const g=t.events[n[2]],f=t.events[n[3]];if(g[1].end=Object.assign({},f[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},Fn(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function Xc(e,t,n,r,i){const s=[],a=Fn(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function Fn(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const tC={name:"tasklistCheck",tokenize:rC};function nC(){return{text:{91:tC}}}function rC(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return xe(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return se(c)?t(c):fe(c)?e.check({tokenize:iC},t,n)(c):n(c)}}function iC(e,t,n){return me(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function sC(e){return ag([OA(),$A(),VA(e),QA(),nC()])}const aC={};function oC(e){const t=this,n=e||aC,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(sC(n)),s.push(NA()),a.push(TA(n))}const lC=()=>o.jsx(ah,{children:o.jsx(cC,{})}),cC=()=>{var N;const{postId:e}=pu(),[t,n]=M.useState(null),[r,i]=M.useState(!0),{fontSize:s,lineHeight:a}=us(),[l,c]=M.useState(!1),[u,d]=M.useState(!1);M.useEffect(()=>{e&&h(e)},[e]);const h=async O=>{try{if(H){const{data:_,error:L}=await H.from("community_posts").select("*").eq("id",O).single();if(L)throw L;n(_)}}catch(_){console.error("Error fetching post:",_)}finally{i(!1)}},g=async()=>{await Ar(window.location.href)&&(d(!0),setTimeout(()=>d(!1),2e3))};if(r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full"})});if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"Post not found"});const f=t.content.trim().startsWith("<"),p=window.location.href,m=t.title,y=[{icon:ru,label:"Twitter",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(m)}&url=${encodeURIComponent(p)}`,color:"text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:iu,label:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(p)}`,color:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:Ka,label:"LinkedIn",href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(p)}`,color:"text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20"}],k={sm:"prose-sm",base:"prose-base",lg:"prose-lg",xl:"prose-xl"}[s],w={normal:"[&_*]:!leading-normal",relaxed:"[&_*]:!leading-relaxed",loose:"[&_*]:!leading-loose"}[a];return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 pt-24 pb-20 transition-colors duration-300",children:[o.jsx(ih,{}),o.jsx(oh,{}),o.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[o.jsxs(_e,{to:"/community",className:"inline-flex items-center text-gray-500 hover:text-indigo-600 mb-8 transition-colors",children:[o.jsx(Va,{size:16,className:"mr-2"})," Back to Community"]}),o.jsxs("article",{children:[o.jsxs(oe.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:o.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-sm font-bold uppercase tracking-wide",children:t.category})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-8 leading-tight",children:t.title}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-900/50 px-5 py-3 rounded-2xl border border-gray-100 dark:border-gray-800",children:[t.author_avatar?o.jsx("img",{src:t.author_avatar,alt:t.author_name,className:"w-10 h-10 rounded-full object-cover ring-2 ring-white dark:ring-gray-800"}):o.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-400 ring-2 ring-white dark:ring-gray-800",children:o.jsx(ji,{size:18})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight mb-0.5",children:t.author_name}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[o.jsx("span",{children:new Date(t.created_at).toLocaleDateString()}),t.author_email&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-700"}),o.jsxs("a",{href:`mailto:${t.author_email}`,className:"flex items-center gap-1 hover:text-indigo-600 transition-colors",children:[o.jsx(ts,{size:10}),t.author_email]})]})]})]})]})})]}),o.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"max-w-none",children:f?o.jsx("div",{className:He("prose dark:prose-invert max-w-none transition-all duration-300 text-gray-900 dark:text-gray-100",k,w,a==="loose"&&"[&_p]:mb-8",a==="relaxed"&&"[&_p]:mb-6","[&_*]:dark:text-gray-100 [&_strong]:dark:text-white [&_h1]:dark:text-white [&_h2]:dark:text-white [&_h3]:dark:text-white [&_h4]:dark:text-white [&_code]:dark:text-gray-200"),children:o.jsx("div",{dangerouslySetInnerHTML:{__html:ph.sanitize(t.content)}})}):o.jsx(VN,{remarkPlugins:[oC],components:{code({node:O,inline:_,className:L,children:$,...q}){const A=/language-(\w+)/.exec(L||"");return!_&&A?o.jsx(rh,{code:String($).replace(/\n$/,""),language:A[1]}):o.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm font-mono text-indigo-600 dark:text-indigo-400",...q,children:$})},h1:({node:O,..._})=>o.jsx("h1",{className:"text-3xl font-bold mt-12 mb-6 text-gray-900 dark:text-white",..._}),h2:({node:O,..._})=>o.jsxs("h2",{className:"text-2xl font-bold mt-12 mb-6 border-b border-gray-100 dark:border-gray-800 pb-2 flex items-center gap-3 text-gray-900 dark:text-white",..._,children:[o.jsx("span",{className:"w-1.5 h-6 bg-indigo-500 rounded-full"}),_.children]}),blockquote:({node:O,..._})=>o.jsx("div",{className:"border-l-4 border-indigo-500 pl-4 py-2 my-6 bg-gray-50 dark:bg-gray-900/50 italic text-gray-600 dark:text-gray-300 rounded-r-lg",..._}),p:({node:O,..._})=>o.jsx(lh,{..._}),img:({node:O,..._})=>o.jsx(ch,{src:_.src||"",alt:_.alt||"",caption:_.title}),hr:({node:O,..._})=>o.jsx(uh,{})},children:t.content})}),o.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-10",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:(N=t.tags)==null?void 0:N.map(O=>o.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 text-sm font-medium",children:["#",O]},O))}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-50 dark:bg-gray-900 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all",children:[o.jsx(ip,{size:18})," ",o.jsx("span",{className:"text-sm font-bold",children:"Like"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-50 dark:bg-gray-900 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all",children:[o.jsx(sp,{size:18})," ",o.jsx("span",{className:"text-sm font-bold",children:"Share"})]}),o.jsx(rn,{children:l&&o.jsxs(oe.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 bottom-full mb-2 p-2 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-800 flex gap-1 min-w-[180px]",children:[y.map(O=>o.jsx("a",{href:O.href,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-lg transition-colors ${O.color}`,title:`Share on ${O.label}`,children:o.jsx(O.icon,{size:18})},O.label)),o.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-gray-800 mx-1"}),o.jsx("button",{onClick:g,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white transition-colors",title:"Copy Link",children:u?o.jsx(es,{size:18,className:"text-green-500"}):o.jsx(kn,{size:18})})]})})]})]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-2xl p-8 border border-gray-100 dark:border-gray-800",children:[o.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2 text-lg",children:[o.jsx(sn,{size:20})," Discussion"]}),o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{className:"mb-4",children:"No comments yet. Be the first to start the conversation!"}),o.jsx("button",{className:"px-6 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white rounded-xl font-bold text-sm hover:shadow-md transition-all",children:"Sign in to Comment"})]})]})]})]})]})]})},uC=()=>{const{subjects:e,loading:t}=cs();return o.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[o.jsx(ja,{}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-20",children:[o.jsxs("div",{className:"max-w-6xl mx-auto mb-12",children:[o.jsxs(_e,{to:"/",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-indigo-600 mb-8 transition-colors group",children:[o.jsx(Va,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back to Home"]}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold mb-2 uppercase tracking-wider text-xs",children:[o.jsx(Lr,{size:14})," Full Curriculum"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"All Courses"})]}),o.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 max-w-md",children:"Explore our complete catalog of engineering topics and learning paths."})]})]}),t?o.jsx("div",{className:"flex justify-center py-20",children:o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:e.map((n,r)=>o.jsx(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:r*.05},children:o.jsx(_e,{to:`/learn/${n.id}`,className:"group block h-full relative",children:o.jsxs("div",{className:"h-full bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-2xl p-5 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsxs("div",{className:"relative z-10 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx(nh,{icon:n.icon,color:n.color}),o.jsx("span",{className:"px-2 py-0.5 rounded-md bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 text-[10px] font-bold uppercase tracking-wide text-gray-500",children:n.level})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:n.title}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed line-clamp-2",children:n.description})]}),o.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"text-xs font-medium text-gray-500",children:[n.modules.length," Modules"]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-indigo-600 dark:text-indigo-400 group-hover:gap-2 transition-all",children:["Start Path ",o.jsx(Yn,{size:14})]})]})]})})},n.id))})]})]})};function dC(){return o.jsxs(lp,{children:[o.jsx(oy,{}),o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 font-sans text-gray-900 dark:text-gray-100 selection:bg-indigo-100 dark:selection:bg-indigo-900/30 flex flex-col",children:[o.jsx(sy,{}),o.jsx("main",{className:"flex-grow",children:o.jsxs(cp,{children:[o.jsx(qt,{path:"/",element:o.jsx(my,{})}),o.jsx(qt,{path:"/collaborate",element:o.jsx(xy,{})}),o.jsx(qt,{path:"/courses",element:o.jsx(uC,{})}),o.jsx(qt,{path:"/learn/:subjectId",element:o.jsx(Fl,{})}),o.jsx(qt,{path:"/learn/:subjectId/:topicId",element:o.jsx(Fl,{})}),o.jsx(qt,{path:"/admin",element:o.jsx(f_,{})}),o.jsx(qt,{path:"/contribute",element:o.jsx(p_,{})}),o.jsx(qt,{path:"/community",element:o.jsx(m_,{})}),o.jsx(qt,{path:"/community/:postId",element:o.jsx(lC,{})})]})}),o.jsx(ay,{})]})]})}yu(document.getElementById("root")).render(o.jsx(M.StrictMode,{children:o.jsx(Su,{children:o.jsx(dC,{})})}));
