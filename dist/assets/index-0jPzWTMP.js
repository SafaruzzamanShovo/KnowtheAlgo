var qp=Object.defineProperty;var Wp=(e,t,n)=>t in e?qp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Jt=(e,t,n)=>Wp(e,typeof t!="symbol"?t+"":t,n);import{j as l,B as Kp,S as Vp,X as Ht,M as Po,A as bn,m as ue,H as Yp,a as Do,b as rn,C as gr,c as Jp,L as Xp,d as oi,e as Zp,D as Ua,G as ls,f as Qp,g as em,h as yn,Q as md,i as bd,k as js,l as tm,T as yd,n as nm,o as Is,p as li,q as Ms,r as xd,F as rm,s as ci,t as im,I as sm,u as am,v as om,w as Fa,x as wd,y as lm,z as cm,E as $o,J as Dn,K as vd,N as _d,O as zo,P as Ls,R as Bo,U as um,V as cs,W as us,Y as kd,Z as Uo,_ as Fo,$ as ds,a0 as Ed,a1 as Sd,a2 as Nd,a3 as Td,a4 as dm,a5 as hm,a6 as Cd,a7 as gm,a8 as fm,a9 as pm,aa as mm,ab as bm,ac as ym,ad as xm,ae as wm,af as vm,ag as _m,ah as km,ai as Em,aj as Sm,ak as Ad,al as Nm,am as Tm,an as Cm,ao as Ho,ap as Am,aq as Ps,ar as Hr,as as Gr,at as hs,au as Mn,av as Vr,aw as nn,ax as Go,ay as Od,az as Om,aA as gs,aB as Rm,aC as jm,aD as Im,aE as Mm,aF as Ha,aG as Lm,aH as Rd,aI as Pm,aJ as Dm,aK as $m,aL as zm,aM as Bm,aN as Um,aO as Gl,aP as Fm,aQ as Hm,aR as Gm,aS as qm}from"./ui-libs-BvCu58J0.js";import{b as Wm,g as Bn,r as $,R as bt,c as ui,d as Ft,u as jd,L as Ce,e as Id,f as Km,B as Vm,h as Ym,i as Xt}from"./react-vendor-DEpP8OlW.js";import{M as di,m as Ct,E as xn,P as hi,a as xr,i as Jm,D as Yr,b as Jr,N as Un,n as Xm,t as De,C as Zm,f as Ga,S as en,k as Qm,T as gn,c as eb,F as Gt,d as fn,e as tb,g as nb,h as rb,j as ib,l as sb,w as ab,o as ob,p as lb,u as cb,q as ub,L as db,I as hb,B as gb,r as fb,s as pb}from"./editor-libs-CKjZSW4Q.js";function mb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Md,ql=Wm;Md=ql.createRoot,ql.hydrateRoot;var bb=typeof Element<"u",yb=typeof Map=="function",xb=typeof Set=="function",wb=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Vi(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Vi(e[r],t[r]))return!1;return!0}var s;if(yb&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Vi(r.value[1],t.get(r.value[0])))return!1;return!0}if(xb&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(wb&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(bb&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Vi(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var vb=function(t,n){try{return Vi(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const _b=Bn(vb);var kb=function(e,t,n,r,i,s,a,o){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,a,o],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},Eb=kb;const Wl=Bn(Eb);var Sb=function(t,n,r,i){var s=r?r.call(i,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var d=a[u];if(!c(d))return!1;var h=t[d],g=n[d];if(s=r?r.call(i,h,g,d):void 0,s===!1||s===void 0&&h!==g)return!1}return!0};const Nb=Bn(Sb);var Ld=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Ld||{}),ra={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Kl=Object.values(Ld),qo={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Tb=Object.entries(qo).reduce((e,[t,n])=>(e[n]=t,e),{}),It="data-rh",or={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},lr=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Cb=e=>{let t=lr(e,"title");const n=lr(e,or.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=lr(e,or.DEFAULT_TITLE);return t||r||void 0},Ab=e=>lr(e,or.ON_CHANGE_CLIENT_STATE)||(()=>{}),ia=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),Ob=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const o=i[s].toLowerCase();if(e.indexOf(o)!==-1&&r[o])return n.concat(r)}}return n},[]),Rb=e=>console&&typeof console.warn=="function"&&console.warn(e),Cr=(e,t,n)=>{const r={};return n.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&Rb(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,s)=>{const a={};s.filter(c=>{let u;const d=Object.keys(c);for(let g=0;g<d.length;g+=1){const f=d[g],p=f.toLowerCase();t.indexOf(p)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(p==="rel"&&c[p].toLowerCase()==="stylesheet")&&(u=p),t.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(u=f)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return r[u]||(r[u]={}),a[u]||(a[u]={}),r[u][h]?!1:(a[u][h]=!0,!0)}).reverse().forEach(c=>i.push(c));const o=Object.keys(a);for(let c=0;c<o.length;c+=1){const u=o[c],d={...r[u],...a[u]};r[u]=d}return i},[]).reverse()},jb=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},Ib=e=>({baseTag:Ob(["href"],e),bodyAttributes:ia("bodyAttributes",e),defer:lr(e,or.DEFER),encode:lr(e,or.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ia("htmlAttributes",e),linkTags:Cr("link",["rel","href"],e),metaTags:Cr("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Cr("noscript",["innerHTML"],e),onChangeClientState:Ab(e),scriptTags:Cr("script",["src","innerHTML"],e),styleTags:Cr("style",["cssText"],e),title:Cb(e),titleAttributes:ia("titleAttributes",e),prioritizeSeoTags:jb(e,or.PRIORITIZE_SEO_TAGS)}),Pd=e=>Array.isArray(e)?e.join(""):e,Mb=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},sa=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>(Mb(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},Vl=(e,t)=>({...e,[t]:void 0}),Lb=["noscript","script","style"],qa=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Dd=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),Pb=(e,t,n,r)=>{const i=Dd(n),s=Pd(t);return i?`<${e} ${It}="true" ${i}>${qa(s,r)}</${e}>`:`<${e} ${It}="true">${qa(s,r)}</${e}>`},Db=(e,t,n=!0)=>t.reduce((r,i)=>{const s=i,a=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof s[d]>"u"?d:`${d}="${qa(s[d],n)}"`;return u?`${u} ${h}`:h},""),o=s.innerHTML||s.cssText||"",c=Lb.indexOf(e)===-1;return`${r}<${e} ${It}="true" ${a}${c?"/>":`>${o}</${e}>`}`},""),$d=(e,t={})=>Object.keys(e).reduce((n,r)=>{const i=qo[r];return n[i||r]=e[r],n},t),$b=(e,t,n)=>{const r={key:t,[It]:!0},i=$d(n,r);return[bt.createElement("title",i,t)]},Yi=(e,t)=>t.map((n,r)=>{const i={key:r,[It]:!0};return Object.keys(n).forEach(s=>{const o=qo[s]||s;if(o==="innerHTML"||o==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[o]=n[s]}),bt.createElement(e,i)}),St=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>$b(e,t.title,t.titleAttributes),toString:()=>Pb(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>$d(t),toString:()=>Dd(t)};default:return{toComponent:()=>Yi(e,t),toString:()=>Db(e,t,n)}}},zb=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=sa(e,ra.meta),s=sa(t,ra.link),a=sa(n,ra.script);return{priorityMethods:{toComponent:()=>[...Yi("meta",i.priority),...Yi("link",s.priority),...Yi("script",a.priority)],toString:()=>`${St("meta",i.priority,r)} ${St("link",s.priority,r)} ${St("script",a.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:a.default}},Bb=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:a,title:o="",titleAttributes:c,prioritizeSeoTags:u}=e;let{linkTags:d,metaTags:h,scriptTags:g}=e,f={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:f,linkTags:d,metaTags:h,scriptTags:g}=zb(e)),{priority:f,base:St("base",t,r),bodyAttributes:St("bodyAttributes",n,r),htmlAttributes:St("htmlAttributes",i,r),link:St("link",d,r),meta:St("meta",h,r),noscript:St("noscript",s,r),script:St("script",g,r),style:St("style",a,r),title:St("title",{title:o,titleAttributes:c},r)}},Wa=Bb,wi=[],zd=!!(typeof window<"u"&&window.document&&window.document.createElement),Ka=class{constructor(e,t){Jt(this,"instances",[]);Jt(this,"canUseDOM",zd);Jt(this,"context");Jt(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?wi:this.instances,add:e=>{(this.canUseDOM?wi:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?wi:this.instances).indexOf(e);(this.canUseDOM?wi:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Wa({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Ub={},Bd=bt.createContext(Ub),In,Ud=(In=class extends $.Component{constructor(n){super(n);Jt(this,"helmetData");this.helmetData=new Ka(this.props.context||{},In.canUseDOM)}render(){return bt.createElement(Bd.Provider,{value:this.helmetData.value},this.props.children)}},Jt(In,"canUseDOM",zd),In),Kn=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${It}]`),i=[].slice.call(r),s=[];let a;return t&&t.length&&t.forEach(o=>{const c=document.createElement(e);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u))if(u==="innerHTML")c.innerHTML=o.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=o.cssText:c.appendChild(document.createTextNode(o.cssText));else{const d=u,h=typeof o[d]>"u"?"":o[d];c.setAttribute(u,h)}c.setAttribute(It,"true"),i.some((u,d)=>(a=d,c.isEqualNode(u)))?i.splice(a,1):s.push(c)}),i.forEach(o=>{var c;return(c=o.parentNode)==null?void 0:c.removeChild(o)}),s.forEach(o=>n.appendChild(o)),{oldTags:i,newTags:s}},Va=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(It),i=r?r.split(","):[],s=[...i],a=Object.keys(t);for(const o of a){const c=t[o]||"";n.getAttribute(o)!==c&&n.setAttribute(o,c),i.indexOf(o)===-1&&i.push(o);const u=s.indexOf(o);u!==-1&&s.splice(u,1)}for(let o=s.length-1;o>=0;o-=1)n.removeAttribute(s[o]);i.length===s.length?n.removeAttribute(It):n.getAttribute(It)!==a.join(",")&&n.setAttribute(It,a.join(","))},Fb=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=Pd(e)),Va("title",t)},Yl=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:a,noscriptTags:o,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:g}=e;Va("body",r),Va("html",i),Fb(h,g);const f={baseTag:Kn("base",n),linkTags:Kn("link",s),metaTags:Kn("meta",a),noscriptTags:Kn("noscript",o),scriptTags:Kn("script",u),styleTags:Kn("style",d)},p={},m={};Object.keys(f).forEach(b=>{const{newTags:y,oldTags:_}=f[b];y.length&&(p[b]=y),_.length&&(m[b]=f[b].oldTags)}),t&&t(),c(e,p,m)},Ar=null,Hb=e=>{Ar&&cancelAnimationFrame(Ar),e.defer?Ar=requestAnimationFrame(()=>{Yl(e,()=>{Ar=null})}):(Yl(e),Ar=null)},Gb=Hb,Jl=class extends $.Component{constructor(){super(...arguments);Jt(this,"rendered",!1)}shouldComponentUpdate(t){return!Nb(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const i=Ib(t.get().map(s=>{const a={...s.props};return delete a.context,a}));Ud.canUseDOM?Gb(i):Wa&&(r=Wa(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ba,qb=(Ba=class extends $.Component{shouldComponentUpdate(e){return!_b(Vl(this.props,"helmetData"),Vl(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return Wl(Kl.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Kl.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Wl(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return bt.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,a=Object.keys(s).reduce((c,u)=>(c[Tb[u]||u]=s[u],c),{});let{type:o}=r;switch(typeof o=="symbol"?o=o.toString():this.warnOnInvalidChildren(r,i),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,a,i);break;default:t=this.mapObjectTypeChildren(r,t,a,i);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Ka)){const i=r;r=new Ka(i.context,!0),delete n.helmetData}return r?bt.createElement(Jl,{...n,context:r.value}):bt.createElement(Bd.Consumer,null,i=>bt.createElement(Jl,{...n,context:i}))}},Jt(Ba,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ba);function Fd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Fd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wb(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Fd(e))&&(r&&(r+=" "),r+=t);return r}const Wo="-",Kb=e=>{const t=Yb(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Wo);return o[0]===""&&o.length!==1&&o.shift(),Hd(o,t)||Vb(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},Hd=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Hd(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Wo);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Xl=/^\[(.+)\]$/,Vb=e=>{if(Xl.test(e)){const t=Xl.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Yb=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Xb(Object.entries(e.classGroups),n).forEach(([s,a])=>{Ya(a,r,s,t)}),r},Ya=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:Zl(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Jb(i)){Ya(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Ya(a,Zl(t,s),n,r)})})},Zl=(e,t)=>{let n=e;return t.split(Wo).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Jb=e=>e.isThemeGetter,Xb=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,Zb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Gd="!",Qb=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const c=[];let u=0,d=0,h;for(let b=0;b<o.length;b++){let y=o[b];if(u===0){if(y===i&&(r||o.slice(b,b+s)===t)){c.push(o.slice(d,b)),d=b+s;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const g=c.length===0?o:o.substring(d),f=g.startsWith(Gd),p=f?g.substring(1):g,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}};return n?o=>n({className:o,parseClassName:a}):a},e0=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},t0=e=>({cache:Zb(e.cacheSize),parseClassName:Qb(e),...Kb(e)}),n0=/\s+/,r0=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(n0);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:f}=n(u);let p=!!f,m=r(p?g.substring(0,f):g);if(!m){if(!p){o=u+(o.length>0?" "+o:o);continue}if(m=r(g),!m){o=u+(o.length>0?" "+o:o);continue}p=!1}const b=e0(d).join(":"),y=h?b+Gd:b,_=y+m;if(s.includes(_))continue;s.push(_);const v=i(m,p);for(let S=0;S<v.length;++S){const I=v[S];s.push(y+I)}o=u+(o.length>0?" "+o:o)}return o};function i0(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qd(t))&&(r&&(r+=" "),r+=n);return r}const qd=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qd(e[r]))&&(n&&(n+=" "),n+=t);return n};function s0(e,...t){let n,r,i,s=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=t0(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const d=r0(c,n);return i(c,d),d}return function(){return s(i0.apply(null,arguments))}}const Re=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Wd=/^\[(?:([a-z-]+):)?(.+)\]$/i,a0=/^\d+\/\d+$/,o0=new Set(["px","full","screen"]),l0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zt=e=>cr(e)||o0.has(e)||a0.test(e),on=e=>wr(e,"length",w0),cr=e=>!!e&&!Number.isNaN(Number(e)),aa=e=>wr(e,"number",cr),Or=e=>!!e&&Number.isInteger(Number(e)),g0=e=>e.endsWith("%")&&cr(e.slice(0,-1)),ge=e=>Wd.test(e),ln=e=>l0.test(e),f0=new Set(["length","size","percentage"]),p0=e=>wr(e,f0,Kd),m0=e=>wr(e,"position",Kd),b0=new Set(["image","url"]),y0=e=>wr(e,b0,_0),x0=e=>wr(e,"",v0),Rr=()=>!0,wr=(e,t,n)=>{const r=Wd.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},w0=e=>c0.test(e)&&!u0.test(e),Kd=()=>!1,v0=e=>d0.test(e),_0=e=>h0.test(e),k0=()=>{const e=Re("colors"),t=Re("spacing"),n=Re("blur"),r=Re("brightness"),i=Re("borderColor"),s=Re("borderRadius"),a=Re("borderSpacing"),o=Re("borderWidth"),c=Re("contrast"),u=Re("grayscale"),d=Re("hueRotate"),h=Re("invert"),g=Re("gap"),f=Re("gradientColorStops"),p=Re("gradientColorStopPositions"),m=Re("inset"),b=Re("margin"),y=Re("opacity"),_=Re("padding"),v=Re("saturate"),S=Re("scale"),I=Re("sepia"),k=Re("skew"),D=Re("space"),z=Re("translate"),W=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",ge,t],M=()=>[ge,t],ee=()=>["",Zt,on],Q=()=>["auto",cr,ge],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],C=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",ge],x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[cr,ge];return{cacheSize:500,separator:":",theme:{colors:[Rr],spacing:[Zt,on],blur:["none","",ln,ge],brightness:U(),borderColor:[e],borderRadius:["none","","full",ln,ge],borderSpacing:M(),borderWidth:ee(),contrast:U(),grayscale:q(),hueRotate:U(),invert:q(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[g0,on],inset:G(),margin:G(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:q(),skew:U(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[ln]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),ge]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Or,ge]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Or,ge]}],"grid-cols":[{"grid-cols":[Rr]}],"col-start-end":[{col:["auto",{span:["full",Or,ge]},ge]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Rr]}],"row-start-end":[{row:["auto",{span:[Or,ge]},ge]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,t]}],"min-w":[{"min-w":[ge,t,"min","max","fit"]}],"max-w":[{"max-w":[ge,t,"none","full","min","max","fit","prose",{screen:[ln]},ln]}],h:[{h:[ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ln,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",aa]}],"font-family":[{font:[Rr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",cr,aa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zt,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zt,on]}],"underline-offset":[{"underline-offset":["auto",Zt,ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),m0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p0]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y0]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Zt,ge]}],"outline-w":[{outline:[Zt,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Zt,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ln,x0]}],"shadow-color":[{shadow:[Rr]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...C(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":C()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ln,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Or,ge]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zt,on,aa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E0=s0(k0);function Ze(...e){return E0(Wb(e))}function Ji(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function S0(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2)}async function Xr(e){try{return await navigator.clipboard.writeText(e),!0}catch{try{const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-9999px",n.style.top="0",document.body.appendChild(n),n.focus(),n.select();const r=document.execCommand("copy");return document.body.removeChild(n),r}catch(n){return console.error("Copy failed",n),!1}}}var Ko={},fs={},Ja=function(e,t){return Ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ja(e,t)};function Vd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ja(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ps=function(){return ps=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ps.apply(this,arguments)};function vr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Yd(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(i<3?a(s):i>3?a(t,n,s):a(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Jd(e,t){return function(n,r){t(n,r,e)}}function Xd(e,t,n,r,i,s){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h,g=!1,f=n.length-1;f>=0;f--){var p={};for(var m in r)p[m]=m==="access"?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(y){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(y||null))};var b=(0,n[f])(o==="accessor"?{get:d.get,set:d.set}:d[c],p);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=a(b.get))&&(d.get=h),(h=a(b.set))&&(d.set=h),(h=a(b.init))&&i.unshift(h)}else(h=a(b))&&(o==="field"?i.unshift(h):d[c]=h)}u&&Object.defineProperty(u,r.name,d),g=!0}function Zd(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Qd(e){return typeof e=="symbol"?e:"".concat(e)}function eh(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function th(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function te(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function nh(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ds=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function rh(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ds(t,e,n)}function ms(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function ih(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Vo(arguments[t]));return e}function sh(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function ah(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function fr(e){return this instanceof fr?(this.v=e,this):new fr(e)}function oh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(f){return function(p){return Promise.resolve(p).then(f,h)}}function o(f,p){r[f]&&(i[f]=function(m){return new Promise(function(b,y){s.push([f,m,b,y])>1||c(f,m)})},p&&(i[f]=p(i[f])))}function c(f,p){try{u(r[f](p))}catch(m){g(s[0][3],m)}}function u(f){f.value instanceof fr?Promise.resolve(f.value.v).then(d,h):g(s[0][2],f)}function d(f){c("next",f)}function h(f){c("throw",f)}function g(f,p){f(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function lh(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(a){return(n=!n)?{value:fr(e[i](a)),done:!1}:s?s(a):a}:s}}function ch(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ms=="function"?ms(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(a){return new Promise(function(o,c){a=e[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},a)}}function uh(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var N0=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Xa=function(e){return Xa=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Xa(e)};function dh(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Xa(e),r=0;r<n.length;r++)n[r]!=="default"&&Ds(t,e,n[r]);return N0(t,e),t}function hh(e){return e&&e.__esModule?e:{default:e}}function gh(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function fh(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function ph(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function mh(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var T0=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function bh(e){function t(s){e.error=e.hasError?new T0(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return t(a),i()})}else r|=1}catch(a){t(a)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function yh(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?t?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):e}const C0={__extends:Vd,__assign:ps,__rest:vr,__decorate:Yd,__param:Jd,__esDecorate:Xd,__runInitializers:Zd,__propKey:Qd,__setFunctionName:eh,__metadata:th,__awaiter:te,__generator:nh,__createBinding:Ds,__exportStar:rh,__values:ms,__read:Vo,__spread:ih,__spreadArrays:sh,__spreadArray:ah,__await:fr,__asyncGenerator:oh,__asyncDelegator:lh,__asyncValues:ch,__makeTemplateObject:uh,__importStar:dh,__importDefault:hh,__classPrivateFieldGet:gh,__classPrivateFieldSet:fh,__classPrivateFieldIn:ph,__addDisposableResource:mh,__disposeResources:bh,__rewriteRelativeImportExtension:yh},A0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mh,get __assign(){return ps},__asyncDelegator:lh,__asyncGenerator:oh,__asyncValues:ch,__await:fr,__awaiter:te,__classPrivateFieldGet:gh,__classPrivateFieldIn:ph,__classPrivateFieldSet:fh,__createBinding:Ds,__decorate:Yd,__disposeResources:bh,__esDecorate:Xd,__exportStar:rh,__extends:Vd,__generator:nh,__importDefault:hh,__importStar:dh,__makeTemplateObject:uh,__metadata:th,__param:Jd,__propKey:Qd,__read:Vo,__rest:vr,__rewriteRelativeImportExtension:yh,__runInitializers:Zd,__setFunctionName:eh,__spread:ih,__spreadArray:ah,__spreadArrays:sh,__values:ms,default:C0},Symbol.toStringTag,{value:"Module"})),O0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let $s=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},xh=class extends $s{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Za=class extends $s{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Qa=class extends $s{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var bs;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bs||(bs={}));class R0{constructor(t,{headers:n={},customFetch:r,region:i=bs.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=O0(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return te(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=r;let g={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(g["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(g["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(g["Content-Type"]="application/json",m=JSON.stringify(u)):m=u;let b=d;h&&(a=new AbortController,s=setTimeout(()=>a.abort(),h),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:m,signal:b}).catch(I=>{throw new xh(I)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new Za(y);if(!y.ok)throw new Qa(y);let v=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield y.json():v==="application/octet-stream"||v==="application/pdf"?S=yield y.blob():v==="text/event-stream"?S=y:v==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Qa||o instanceof Za?o.context:void 0}}finally{s&&clearTimeout(s)}})}}const j0=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return bs},FunctionsClient:R0,FunctionsError:$s,FunctionsFetchError:xh,FunctionsHttpError:Qa,FunctionsRelayError:Za},Symbol.toStringTag,{value:"Module"})),wh=ui(j0);var nt={};const _r=ui(A0);var vi={},_i={},ki={},Ei={},Si={},Ni={},Ql;function vh(){if(Ql)return Ni;Ql=1,Object.defineProperty(Ni,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ni.default=e,Ni}var ec;function _h(){if(ec)return Si;ec=1,Object.defineProperty(Si,"__esModule",{value:!0});const t=_r.__importDefault(vh());let n=class{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,g;let f=null,p=null,m=null,b=c.status,y=c.statusText;if(c.ok){if(this.method!=="HEAD"){const I=await c.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?p=I:p=JSON.parse(I))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,b=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const v=await c.text();try{f=JSON.parse(v),Array.isArray(f)&&c.status===404&&(p=[],f=null,b=200,y="OK")}catch{c.status===404&&v===""?(b=204,y="No Content"):f={message:v}}if(f&&this.isMaybeSingle&&(!((g=f==null?void 0:f.details)===null||g===void 0)&&g.includes("0 rows"))&&(f=null,b=200,y="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:p,count:m,status:b,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var u,d,h,g,f,p;let m="";const b=c==null?void 0:c.cause;if(b){const y=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",_=(d=b==null?void 0:b.code)!==null&&d!==void 0?d:"";m=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(g=b==null?void 0:b.name)!==null&&g!==void 0?g:"Error"}: ${y}`,_&&(m+=` (${_})`),b!=null&&b.stack&&(m+=`
${b.stack}`)}else m=(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}};return Si.default=n,Si}var tc;function kh(){if(tc)return Ei;tc=1,Object.defineProperty(Ei,"__esModule",{value:!0});const t=_r.__importDefault(_h());let n=class extends t.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const h=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Ei.default=n,Ei}var nc;function Yo(){if(nc)return ki;nc=1,Object.defineProperty(ki,"__esModule",{value:!0});const t=_r.__importDefault(kh()),n=new RegExp("[,()]");let r=class extends t.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}};return ki.default=r,ki}var rc;function Eh(){if(rc)return _i;rc=1,Object.defineProperty(_i,"__esModule",{value:!0});const t=_r.__importDefault(Yo());let n=class{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},c=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,f)=>g.concat(Object.keys(f)),[]);if(h.length>0){const g=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return _i.default=n,_i}var ic;function I0(){if(ic)return vi;ic=1,Object.defineProperty(vi,"__esModule",{value:!0});const e=_r,t=e.__importDefault(Eh()),n=e.__importDefault(Yo());let r=class Sh{constructor(s,{headers:a={},schema:o,fetch:c}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Sh(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:c=!1,count:u}={}){var d;let h;const g=new URL(`${this.url}/rpc/${s}`);let f;o||c?(h=o?"HEAD":"GET",Object.entries(a).filter(([m,b])=>b!==void 0).map(([m,b])=>[m,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([m,b])=>{g.searchParams.append(m,b)})):(h="POST",f=a);const p=new Headers(this.headers);return u&&p.set("Prefer",`count=${u}`),new n.default({method:h,url:g,headers:p,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return vi.default=r,vi}Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const kr=_r,Nh=kr.__importDefault(I0());nt.PostgrestClient=Nh.default;const Th=kr.__importDefault(Eh());nt.PostgrestQueryBuilder=Th.default;const Ch=kr.__importDefault(Yo());nt.PostgrestFilterBuilder=Ch.default;const Ah=kr.__importDefault(kh());nt.PostgrestTransformBuilder=Ah.default;const Oh=kr.__importDefault(_h());nt.PostgrestBuilder=Oh.default;const Rh=kr.__importDefault(vh());nt.PostgrestError=Rh.default;nt.default={PostgrestClient:Nh.default,PostgrestQueryBuilder:Th.default,PostgrestFilterBuilder:Ch.default,PostgrestTransformBuilder:Ah.default,PostgrestBuilder:Oh.default,PostgrestError:Rh.default};class jh{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M0="2.87.1",L0=`realtime-js/${M0}`,Ih="1.0.0",P0="2.0.0",sc=Ih,eo=1e4,D0=1e3,$0=100;var An;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(An||(An={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jt||(jt={}));var to;(function(e){e.websocket="websocket"})(to||(to={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class z0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,s;const a=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+g);let p=new DataView(f),m=0;p.setUint8(m++,this.KINDS.userBroadcastPush),p.setUint8(m++,c.length),p.setUint8(m++,o.length),p.setUint8(m++,a.length),p.setUint8(m++,u.length),p.setUint8(m++,h.length),p.setUint8(m++,n),Array.from(c,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(o,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(u,y=>p.setUint8(m++,y.charCodeAt(0))),Array.from(h,y=>p.setUint8(m++,y.charCodeAt(0)));var b=new Uint8Array(f.byteLength+r.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(r),f.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,a,o,c]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+i));c=c+i;const d=r.decode(t.slice(c,c+s));c=c+s;const h=r.decode(t.slice(c,c+a));c=c+a;const g=t.slice(c,t.byteLength),f=o===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,p={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Mh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ne||(Ne={}));const ac=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=B0(a,e,t,i),s),{}):{}},B0=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?Lh(s,a):no(a)},Lh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return G0(t,n)}switch(e){case Ne.bool:return U0(t);case Ne.float4:case Ne.float8:case Ne.int2:case Ne.int4:case Ne.int8:case Ne.numeric:case Ne.oid:return F0(t);case Ne.json:case Ne.jsonb:return H0(t);case Ne.timestamp:return q0(t);case Ne.abstime:case Ne.date:case Ne.daterange:case Ne.int4range:case Ne.int8range:case Ne.money:case Ne.reltime:case Ne.text:case Ne.time:case Ne.timestamptz:case Ne.timetz:case Ne.tsrange:case Ne.tstzrange:return no(t);default:return no(t)}},no=e=>e,U0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},G0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Lh(t,o))}return e},q0=e=>typeof e=="string"?e.replace(" ","T"):e,Ph=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class oa{constructor(t,n,r={},i=eo){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ro;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ro||(ro={}));let Dh=class Xi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Xi.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xi.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=s[u];if(h){const g=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),p=d.filter(b=>f.indexOf(b.presence_ref)<0),m=h.filter(b=>g.indexOf(b.presence_ref)<0);p.length>0&&(o[u]=p),m.length>0&&(c[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(f=>f.presence_ref),g=d.filter(f=>h.indexOf(f.presence_ref)<0);t[o].unshift(...g)}r(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var io;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(io||(io={}));var ur;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ur||(ur={}));var Ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));const W0=Ue;let $h=class Br{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new oa(this,jt.join,this.params,this.timeout),this.rejoinTimer=new Mh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Dh(this),this.broadcastEndpointURL=Ph(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[ur.PRESENCE]&&this.bindings[ur.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Ut.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ut.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Ut.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,b=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,y=[];for(let _=0;_<b;_++){const v=m[_],{filter:{event:S,schema:I,table:k,filter:D}}=v,z=f&&f[_];if(z&&z.event===S&&Br.isFilterValueEqual(z.schema,I)&&Br.isFilterValueEqual(z.table,k)&&Br.isFilterValueEqual(z.filter,D))y.push(Object.assign(Object.assign({},v),{id:z.id}));else{this.unsubscribe(),this.state=Ue.errored,t==null||t(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ut.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ue.errored,t==null||t(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ue.joined&&t===ur.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new oa(this,jt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new oa(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=jt;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,m,b;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(m=f.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(f=>f.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var p,m,b,y,_,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const S=f.id,I=(p=f.filter)===null||p===void 0?void 0:p.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(_=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof g=="object"&&"ids"in g){const p=g.data,{schema:m,table:b,commit_timestamp:y,type:_,errors:v}=p;g=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:_,new:{},old:{},errors:v}),this._getPayloadRecords(p))}f.callback(g,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Br.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jt.close,{},t)}_onError(t){this._on(jt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ac(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ac(t.columns,t.old_record)),n}};const la=()=>{},Ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K0=[1e3,2e3,5e3,1e4],V0=1e4,Y0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let J0=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eo,this.transport=null,this.heartbeatIntervalMs=Ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=la,this.ref=0,this.reconnectTimer=null,this.vsn=sc,this.logger=la,this.conn=null,this.sendBuffer=[],this.serializer=new z0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${to.websocket}`,this.httpEndpoint=Ph(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jh.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return On.Connecting;case An.open:return On.Open;case An.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new $h(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===An.open||this.conn.readyState===An.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Y0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:L0};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(jt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Mh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,o,c,u,d,h,g,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:eo,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ti.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:la,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:sc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>K0[p-1]||V0,this.vsn){case Ih:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,m)=>m(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(p,m)=>m(JSON.parse(p));break;case P0:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const X0=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:W0,get REALTIME_LISTEN_TYPES(){return ur},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return io},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ro},get REALTIME_SUBSCRIBE_STATES(){return Ut},RealtimeChannel:$h,RealtimeClient:J0,RealtimePresence:Dh,WebSocketFactory:jh},Symbol.toStringTag,{value:"Module"})),zh=ui(X0);class gi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Bh extends gi{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ys extends gi{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Jo=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Z0=()=>Response,so=e=>{if(Array.isArray(e))return e.map(n=>so(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=so(r)}),t},Q0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ey=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),ca=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ty=(e,t,n)=>te(void 0,void 0,void 0,function*(){const r=yield Z0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Bh(ca(i),s,a))}).catch(i=>{t(new ys(ca(i),i))}):t(new ys(ca(e),e))}),ny=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Q0(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function fi(e,t,n,r,i,s){return te(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,ny(t,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>ty(c,o,r))})})}function Zr(e,t,n,r){return te(this,void 0,void 0,function*(){return fi(e,"GET",t,n,r)})}function Rt(e,t,n,r,i){return te(this,void 0,void 0,function*(){return fi(e,"POST",t,r,i,n)})}function ao(e,t,n,r,i){return te(this,void 0,void 0,function*(){return fi(e,"PUT",t,r,i,n)})}function ry(e,t,n,r){return te(this,void 0,void 0,function*(){return fi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Xo(e,t,n,r,i){return te(this,void 0,void 0,function*(){return fi(e,"DELETE",t,r,i,n)})}class iy{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}}var Uh;class sy{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Uh]="BlobDownloadBuilder",this.promise=null}asStream(){return new iy(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ie(t))return{data:null,error:t};throw t}})}}Uh=Symbol.toStringTag;const ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oy{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Jo(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return te(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},oc),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?ao:Rt)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ie(s))return{data:null,error:s};throw s}})}upload(t,n,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return te(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:oc.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield ao(this.fetch,o.toString(),c,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ie(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new gi("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}update(t,n,r){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return te(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}copy(t,n,r){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return te(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Rt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return te(this,void 0,void 0,function*(){try{const i=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(t),c=()=>Zr(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new sy(c,this.shouldThrowOnError)}info(t){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Zr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:so(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}exists(t){return te(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ry(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r)&&r instanceof ys){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return te(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}list(t,n,r){return te(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ay),n),{prefix:t||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}listV2(t,n){return te(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Fh="2.87.1",Hh={"X-Client-Info":`storage-js/${Fh}`};class ly{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),n),this.fetch=Jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return te(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Zr(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}createBucket(t){return te(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return te(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ie(r))return{data:null,error:r};throw r}})}emptyBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Qr=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cy(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function uy(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dy(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=cy(e.baseUrl,r,i),c=await uy(e.auth),u=await t(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...c,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),g=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?g:void 0,p=f==null?void 0:f.error;throw new Qr((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:f})}return{status:u.status,headers:u.headers,data:g}}}}function Ci(e){return e.join("")}var hy=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ci(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ci(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ci(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ci(e.namespace)}`}),!0}catch(t){if(t instanceof Qr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Qr&&n.status===409)return;throw n}}};function Vn(e){return e.join("")}var gy=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Qr&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Qr&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},fy=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dy({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new hy(this.client,t),this.tableOps=new gy(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class Gh{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hh),n),this.fetch=Jo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}listBuckets(t){return te(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Zr(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}})}from(t){if(!ey(t))throw new gi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new fy({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>te(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const o=s[a];return typeof o!="function"?o:(...c)=>te(this,void 0,void 0,function*(){try{return{data:yield o.apply(s,c),error:null}}catch(u){if(r)throw u;return{data:null,error:u}}})}})}}const Zo={"X-Client-Info":`storage-js/${Fh}`,"Content-Type":"application/json"};class Qo extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zi extends Qo{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qh extends Qo{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var oo;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oo||(oo={}));const zs=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),py=()=>Response,Wh=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},my=e=>Array.from(new Float32Array(e)),by=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},lc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yy=(e,t,n)=>te(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Zi(lc(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new Zi(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;t(new Zi(o,i,a))}}else t(new qh(lc(e),e))}),xy=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(Wh(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function wy(e,t,n,r,i,s){return te(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,xy(t,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>yy(c,o,r))})})}function vt(e,t,n,r,i){return te(this,void 0,void 0,function*(){return wy(e,"POST",t,r,i,n)})}class Kh{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zo),n),this.fetch=zs(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return te(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getIndex(t,n){return te(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}listIndexes(t){return te(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return te(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mt(r))return{data:null,error:r};throw r}})}}class Vh{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zo),n),this.fetch=zs(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return te(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listVectors(t){return te(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield vt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}queryVectors(t){return te(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteVectors(t){return te(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class Yh{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Zo),n),this.fetch=zs(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}getBucket(t){return te(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}listBuckets(){return te(this,arguments,void 0,function*(t={}){try{return{data:yield vt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return te(this,void 0,void 0,function*(){try{return{data:(yield vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}})}}class Jh extends Yh{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new Xh(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return te(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return te(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return te(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return te(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class Xh extends Kh{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Zh(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Zh extends Vh{constructor(t,n,r,i,s){super(t,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class vy extends ly{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new oy(this.url,this.headers,t,this.fetch)}get vectors(){return new Jh(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gh(this.url+"/iceberg",this.headers,this.fetch)}}const _y=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Gh,StorageApiError:Bh,StorageClient:vy,StorageError:gi,StorageUnknownError:ys,StorageVectorsApiError:Zi,StorageVectorsClient:Jh,StorageVectorsError:Qo,get StorageVectorsErrorCode(){return oo},StorageVectorsUnknownError:qh,VectorBucketApi:Yh,VectorBucketScope:Xh,VectorDataApi:Vh,VectorIndexApi:Kh,VectorIndexScope:Zh,isPlainObject:Wh,isStorageError:Ie,isStorageVectorsError:mt,normalizeToFloat32:my,resolveFetch:zs,resolveResponse:py,validateVectorDimension:by},Symbol.toStringTag,{value:"Module"})),ky=ui(_y);var Qh={},Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.version=void 0;Bs.version="2.87.1";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Bs;let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Qh);var eg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);e.resolveFetch=t;const n=()=>Headers;e.resolveHeadersConstructor=n;const r=(i,s,a)=>{const o=(0,e.resolveFetch)(a),c=(0,e.resolveHeadersConstructor)();return async(u,d)=>{var h;const g=(h=await s())!==null&&h!==void 0?h:i;let f=new c(d==null?void 0:d.headers);return f.has("apikey")||f.set("apikey",i),f.has("Authorization")||f.set("Authorization",`Bearer ${g}`),o(u,Object.assign(Object.assign({},d),{headers:f}))}};e.fetchWithAuth=r})(eg);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.isBrowser=void 0;wn.uuid=Ey;wn.ensureTrailingSlash=tg;wn.applySettingDefaults=Ny;wn.validateSupabaseUrl=Ty;function Ey(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}function tg(e){return e.endsWith("/")?e:e+"/"}const Sy=()=>typeof window<"u";wn.isBrowser=Sy;function Ny(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Ty(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tg(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Us={};const ng="2.87.1",nr=30*1e3,lo=3,ua=lo*nr,Cy="http://localhost:9999",Ay="supabase.auth.token",Oy={"X-Client-Info":`gotrue-js/${ng}`},co="X-Supabase-Api-Version",rg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ry=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jy=10*60*1e3;let pr=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let ig=class extends pr{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function sg(e){return ie(e)&&e.name==="AuthApiError"}let un=class extends pr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},sn=class extends pr{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},pt=class extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ag(e){return ie(e)&&e.name==="AuthSessionMissingError"}let Nn=class extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ur=class extends sn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Fr=class extends sn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function og(e){return ie(e)&&e.name==="AuthImplicitGrantRedirectError"}let uo=class extends sn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},xs=class extends sn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Qi(e){return ie(e)&&e.name==="AuthRetryableFetchError"}let ho=class extends sn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function Iy(e){return ie(e)&&e.name==="AuthWeakPasswordError"}let ws=class extends sn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cc=` 	
\r=`.split(""),My=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cc.length;t+=1)e[cc[t].charCodeAt(0)]=-2;for(let t=0;t<vs.length;t+=1)e[vs[t].charCodeAt(0)]=t;return e})();function uc(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vs[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vs[r]),t.queuedBits-=6}}function lg(e,t,n){const r=My[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dc(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Dy(a,r,n)};for(let a=0;a<e.length;a+=1)lg(e.charCodeAt(a),i,s);return t.join("")}function Ly(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Py(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Ly(r,t)}}function Dy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dr(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)lg(e.charCodeAt(i),n,r);return new Uint8Array(t)}function $y(e){const t=[];return Py(e,n=>t.push(n)),new Uint8Array(t)}function jn(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>uc(i,n,r)),uc(null,n,r),t.join("")}function zy(e){return Math.round(Date.now()/1e3)+e}function By(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",kn={tested:!1,writable:!1},cg=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kn.tested)return kn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kn.tested=!0,kn.writable=!0}catch{kn.tested=!0,kn.writable=!1}return kn.writable};function Uy(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const ug=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},En=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Je=async(e,t)=>{await e.removeItem(t)};class Fs{constructor(){this.promise=new Fs.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fs.promiseConstructor=Promise;function da(e){const t=e.split(".");if(t.length!==3)throw new ws("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ry.test(t[r]))throw new ws("JWT not in base64url format");return{header:JSON.parse(dc(t[0])),payload:JSON.parse(dc(t[1])),signature:dr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Hy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gy(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function qy(e){return("0"+e.toString(16)).substr(-2)}function Wy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,qy).join("")}async function Ky(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Vy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Ky(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yn(e,t,n=!1){const r=Wy();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await rr(e,`${t}-code-verifier`,i);const s=await Vy(r);return[s,r===s?"plain":"s256"]}const Yy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jy(e){const t=e.headers.get(co);if(!t||!t.match(Yy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Xy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Zy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(e){if(!Qy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ha(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ex(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function hc(e){return JSON.parse(JSON.stringify(e))}const Tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tx=[502,503,504];async function gc(e){var t;if(!Fy(e))throw new xs(Tn(e),0);if(tx.includes(e.status))throw new xs(Tn(e),e.status);let n;try{n=await e.json()}catch(s){throw new un(Tn(s),s)}let r;const i=Jy(e);if(i&&i.getTime()>=rg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ho(Tn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new ho(Tn(n),e.status,n.weak_password.reasons);throw new ig(Tn(n),e.status||500,r)}const nx=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function le(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[co]||(s[co]=rg["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await rx(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function rx(e,t,n,r,i,s){const a=nx(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new xs(Tn(c),0)}if(o.ok||await gc(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await gc(c)}}function At(e){var t;let n=null;ax(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=zy(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fc(e){const t=At(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ix(e){return{data:e,error:null}}function sx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=vr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function pc(e){return e}function ax(e){return e.access_token&&e.refresh_token&&e.expires_in}const es=["global","local","others"];let el=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ug(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=es[0]){if(es.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${es.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=vr(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:pc});if(d.error)throw d.error;const h=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Jn(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Jn(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:dn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Jn(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:dn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Jn(t.userId);try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Jn(t.userId),Jn(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:pc});if(d.error)throw d.error;const h=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=m}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}};function mc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Cn={debug:!!(globalThis&&cg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let dg=class extends tl{};class ox extends tl{}async function hg(e,t,n){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const bc={};async function lx(e,t,n){var r;const i=(r=bc[e])!==null&&r!==void 0?r:Promise.resolve(),s=Promise.race([i.catch(()=>null),t>=0?new Promise((a,o)=>{setTimeout(()=>{o(new ox(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(a=>a)).catch(a=>{if(a&&a.isAcquireTimeout)throw a;return null}).then(async()=>await n());return bc[e]=s.catch(async a=>{if(a&&a.isAcquireTimeout)return await i,null;throw a}),await s}function cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ux(e){return parseInt(e,16)}function dx(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function hx(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=gg(e.address),p=d?`${d}://${r}`:r,m=e.statement?`${e.statement}
`:"",b=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`;let y=`URI: ${h}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let _=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);_+=`
- ${v}`}y+=_}return`${b}
${y}`}class He extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class _s extends He{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function gx({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new He({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(fg(a)){if(s.rp.id!==a)return new He({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fx({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new He({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(fg(r)){if(n.rpId!==r)return new He({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class px{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mx=new px;function bx(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=vr(e,["challenge","user","excludeCredentials"]),s=dr(t).buffer,a=Object.assign(Object.assign({},n),{id:dr(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:dr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function yx(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=vr(e,["challenge","allowCredentials"]),i=dr(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:dr(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function xx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:jn(new Uint8Array(e.response.attestationObject)),clientDataJSON:jn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jn(new Uint8Array(i.authenticatorData)),clientDataJSON:jn(new Uint8Array(i.clientDataJSON)),signature:jn(new Uint8Array(i.signature)),userHandle:i.userHandle?jn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fg(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yc(){var e,t;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function vx(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _s("Browser returned unexpected credential type",t)}:{data:null,error:new _s("Empty credential response",t)}}catch(t){return{data:null,error:gx({error:t,options:e})}}}async function _x(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _s("Browser returned unexpected credential type",t)}:{data:null,error:new _s("Empty credential response",t)}}catch(t){return{data:null,error:fx({error:t,options:e})}}}const kx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ex={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ks(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(t(a)){const o=r[s];t(o)?r[s]=ks(o,a):r[s]=ks(a)}else r[s]=a}return r}function Sx(e,t){return ks(kx,e,t||{})}function Nx(e,t){return ks(Ex,e,t||{})}class Tx{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:o};const c=i??mx.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Sx(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await vx({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Nx(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await _x(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new pr("rpId is required for WebAuthn authentication")};try{if(!yc())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new pr("rpId is required for WebAuthn registration")};try{if(!yc())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new un("Unexpected error in register",a)}}}}cx();const Cx={url:Cy,storageKey:Ay,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xc(e,t,n){return await n()}const Xn={};let nl=class go{get jwks(){var t,n;return(n=(t=Xn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Cx),t);if(this.storageKey=s.storageKey,this.instanceID=(n=go.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,go.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Xe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new el({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ug(s.fetch),this.lock=s.lock||xc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Xe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hg:this.lock=xc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:cg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mc(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ng}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Xe()&&(n=Uy(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Xe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),og(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?this._returnResult({error:n}):this._returnResult({error:new un("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:At}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:h,options:g}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Yn(this.storage,this.storageKey)),s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:p},xform:At})}else if("phone"in t){const{phone:d,password:h,options:g}=t;s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:At})}else throw new Ur("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fc})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fc})}else throw new Ur("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Nn;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,a,o,c,u,d,h,g;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:m,wallet:b,statement:y,options:_}=t;let v;if(Xe())if(typeof b=="object")v=b;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")v=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),I=await v.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=gg(I[0]);let D=(r=_==null?void 0:_.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const W=await v.request({method:"eth_chainId"});D=ux(W)}const z={domain:S.host,address:k,statement:y,uri:S.href,version:"1",chainId:D,nonce:(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=_==null?void 0:_.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=hx(z),p=await v.request({method:"personal_sign",params:[dx(f),k]})}try{const{data:m,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:At});if(b)throw b;if(!m||!m.session||!m.user){const y=new Nn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var n,r,i,s,a,o,c,u,d,h,g,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:b,wallet:y,statement:_,options:v}=t;let S;if(Xe())if(typeof y=="object")S=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const I=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),_?{statement:_}:null));let D;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")D=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)D=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)p=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),m=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${I.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=k}}try{const{data:b,error:y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:jn(m)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:At});if(y)throw y;if(!b||!b.session||!b.user){const _=new Nn;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await En(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:At});if(await Je(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Nn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:At}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Nn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yn(this.storage,this.storageKey));const{error:h}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ur("You must provide either an email or phone number.")}catch(o){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:At});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Yn(this.storage,this.storageKey));const u=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:ix});return!((s=u.data)===null||s===void 0)&&s.url&&Xe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pt;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Ur("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await En(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ua:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await En(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ha()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=ex(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dn}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:dn})})}catch(n){if(ie(n))return ag(n)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new pt;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Yn(this.storage,this.storageKey));const{data:u,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:dn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pt;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=da(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new pt;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Xe())throw new Fr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uo("No code detected.");const{data:_,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!s||!o||!a||!u)throw new Fr("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let g=d+h;c&&(g=parseInt(c));const f=g-d;f*1e3<=nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const p=g-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,g,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,g,d);const{data:m,error:b}=await this._getUser(s);if(b)throw b;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await En(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(sg(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=By(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Yn(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,c,u,d;const{data:h,error:g}=s;if(g)throw g;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Xe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:c,access_token:u,nonce:d}=t,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:At}),{data:g,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Nn}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:f}))}catch(i){if(await Je(this.storage,`${this.storageKey}-code-verifier`),ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Gy(async i=>(i>0&&await Hy(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:At})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Qi(s)&&Date.now()+a-r<nr})}catch(r){if(this._debug(n,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Xe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await En(this.storage,this.storageKey);if(i&&this.userStorage){let a=await En(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await rr(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ha()}else if(i&&!i.user&&!i.user){const a=await En(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Je(this.storage,this.storageKey+"-user"),await rr(this.storage,this.storageKey,i)):i.user=ha()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ua;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ua}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Qi(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fs;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new pt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),ie(s)){const a={data:null,error:s};return Qi(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await rr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=hc(i);await rr(this.storage,this.storageKey,s)}else{const i=hc(n);await rr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nr}ms, refresh threshold is ${lo} ticks`),i<=lo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Yn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xx(t.webauthn.credential_response):wx(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:bx(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:yx(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=da(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new pt});const a=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new pt});const a=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Xe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pt})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+jy>i)return r;const{data:s,error:a}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return this._returnResult({data:null,error:p});r=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=da(r);n!=null&&n.allowExpired||Xy(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const d=Zy(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,$y(`${o}.${c}`)))throw new ws("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}};nl.nextInstanceID={};const Ax=el,Ox=nl,Rx=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Ax,AuthApiError:ig,AuthClient:Ox,AuthError:pr,AuthImplicitGrantRedirectError:Fr,AuthInvalidCredentialsError:Ur,AuthInvalidJwtError:ws,AuthInvalidTokenResponseError:Nn,AuthPKCEGrantCodeExchangeError:uo,AuthRetryableFetchError:xs,AuthSessionMissingError:pt,AuthUnknownError:un,AuthWeakPasswordError:ho,CustomAuthError:sn,GoTrueAdminApi:el,GoTrueClient:nl,NavigatorLockAcquireTimeoutError:dg,SIGN_OUT_SCOPES:es,isAuthApiError:sg,isAuthError:ie,isAuthImplicitGrantRedirectError:og,isAuthRetryableFetchError:Qi,isAuthSessionMissingError:ag,isAuthWeakPasswordError:Iy,lockInternals:Cn,navigatorLock:hg,processLock:lx},Symbol.toStringTag,{value:"Module"})),pg=ui(Rx);Object.defineProperty(Us,"__esModule",{value:!0});Us.SupabaseAuthClient=void 0;const jx=pg;class Ix extends jx.AuthClient{constructor(t){super(t)}}Us.SupabaseAuthClient=Ix;Object.defineProperty(fs,"__esModule",{value:!0});const Mx=wh,Lx=nt,Px=zh,Dx=ky,Ai=Qh,$x=eg,wc=wn,zx=Us;let Bx=class{constructor(t,n,r){var i,s,a;this.supabaseUrl=t,this.supabaseKey=n;const o=(0,wc.validateSupabaseUrl)(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:Ai.DEFAULT_DB_OPTIONS,realtime:Ai.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},Ai.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:Ai.DEFAULT_GLOBAL_OPTIONS},d=(0,wc.applySettingDefaults)(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=(0,$x.fetchWithAuth)(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Lx.PostgrestClient(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Dx.StorageClient(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Mx.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:o,lock:c,debug:u,throwOnError:d},h,g){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zx.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:o,lock:c,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Px.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};fs.default=Bx;(function(e){var t=Ft&&Ft.__createBinding||(Object.create?function(d,h,g,f){f===void 0&&(f=g);var p=Object.getOwnPropertyDescriptor(h,g);(!p||("get"in p?!h.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(d,f,p)}:function(d,h,g,f){f===void 0&&(f=g),d[f]=h[g]}),n=Ft&&Ft.__exportStar||function(d,h){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,d,g)},r=Ft&&Ft.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=r(fs);n(pg,e);var s=nt;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var a=wh;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return a.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return a.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return a.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return a.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return a.FunctionRegion}}),n(zh,e);var o=fs;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return r(o).default}});const c=(d,h,g)=>new i.default(d,h,g);e.createClient=c;function u(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}u()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ko);const mg=Bn(Ko),Ux=mb({__proto__:null,default:mg},[Ko]),{PostgrestError:zj,FunctionsHttpError:Bj,FunctionsFetchError:Uj,FunctionsRelayError:Fj,FunctionsError:Hj,FunctionRegion:Gj,SupabaseClient:qj,createClient:Fx,GoTrueAdminApi:Wj,GoTrueClient:Kj,AuthAdminApi:Vj,AuthClient:Yj,navigatorLock:Jj,NavigatorLockAcquireTimeoutError:Xj,lockInternals:Zj,processLock:Qj,SIGN_OUT_SCOPES:eI,AuthError:tI,AuthApiError:nI,AuthUnknownError:rI,CustomAuthError:iI,AuthSessionMissingError:sI,AuthInvalidTokenResponseError:aI,AuthInvalidCredentialsError:oI,AuthImplicitGrantRedirectError:lI,AuthPKCEGrantCodeExchangeError:cI,AuthRetryableFetchError:uI,AuthWeakPasswordError:dI,AuthInvalidJwtError:hI,isAuthError:gI,isAuthApiError:fI,isAuthSessionMissingError:pI,isAuthImplicitGrantRedirectError:mI,isAuthRetryableFetchError:bI,isAuthWeakPasswordError:yI,RealtimePresence:xI,RealtimeChannel:wI,RealtimeClient:vI,REALTIME_LISTEN_TYPES:_I,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:kI,REALTIME_PRESENCE_LISTEN_EVENTS:EI,REALTIME_SUBSCRIBE_STATES:SI,REALTIME_CHANNEL_STATES:NI}=mg||Ux,Hx="https://ctasizymozhxlmpjxuoq.supabase.co",Gx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0YXNpenltb3poeGxtcGp4dW9xIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3NjU1OTMsImV4cCI6MjA4MTM0MTU5M30.Fngx5n-P-L2EA-g-nAw1C0eZIf5rsHkpAbvJk9bd1jM",K=Fx(Hx,Gx),qx=!!K,vc={title:"Decode the Algorithm of Success.",subtitle:"A structured path to mastering Computer Science.",cta_text:"Start Learning",community_title:"Learn better, together.",community_desc:"Join our community of developers. Share your knowledge, ask questions about algorithms, and get feedback on your system designs.",collab_title:"Let's Build Something Amazing",collab_desc:"I'm always open to discussing new projects, research opportunities, or just geeking out over system design."},_c={name:"Alex Dev",role:"Senior Software Engineer & Researcher",bio:"I bridge the gap between theoretical computer science and practical software engineering. My work focuses on distributed systems, AI infrastructure, and making complex algorithms accessible to everyone.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",skills:["Machine Learning","Distributed Systems","Computer Vision","Deep Learning","System Design"],resume_link:"#",portfolio_card_title:"View Portfolio",portfolio_card_desc:"Explore full case studies, research papers, and live deployments.",portfolio_card_cta:"Launch",socials:{github:"https://github.com",linkedin:"https://linkedin.com",scholar:"https://scholar.google.com",email:"mailto:alex@example.com"}},kc={title:"Community Hub",subtitle:"Select a topic to explore discussions, tutorials, and insights shared by the community."},Ec={title:"Contribute to the Knowledge Base",subtitle:"Share your knowledge with the community. Whether it's a new algorithm, a system design case study, or a web dev tutorial."},Sc={siteName:"Knowthe",logoText:"Algo"},Nc={text:"Made with Heart by Safaruzzaman Shovo",copyright:"All rights reserved."},Wx=[{label:"Learning Paths",path:"/courses",visible:!0},{label:"Community",path:"/community",visible:!0},{label:"Let's Collaborate",path:"/collaborate",visible:!0}],Kx=[{icon:"Layers",title:"Structured Learning",desc:"Curated paths from basics to advanced engineering concepts."},{icon:"BookOpen",title:"Research-Driven",desc:"Content backed by academic rigor and industry standards."},{icon:"Users",title:"Community Support",desc:"Learn together with a network of passionate developers."},{icon:"Briefcase",title:"Career Focused",desc:"Build a portfolio that stands out to top tech recruiters."}],Vx=[{icon:"Code2",title:"Browse All Courses",desc:"Explore Full Curriculum",link:"/courses",color:"bg-blue-500"},{icon:"MessageSquare",title:"Join Community",desc:"Read Discussions",link:"/community",color:"bg-purple-500"},{icon:"PenTool",title:"Let's Collaborate",desc:"Work Together",link:"/collaborate",color:"bg-rose-500"}],qt=()=>{const[e,t]=$.useState(vc),[n,r]=$.useState(_c),[i,s]=$.useState(kc),[a,o]=$.useState(Ec),[c,u]=$.useState(Sc),[d,h]=$.useState(Nc),[g,f]=$.useState(Wx),[p,m]=$.useState(Kx),[b,y]=$.useState(Vx),[_,v]=$.useState([]),[S,I]=$.useState(!0),k=async()=>{if(K){I(!0);try{const{data:D}=await K.from("site_settings").select("*");if(D){const W=D.find(R=>R.key==="home_hero");W&&t({...vc,...W.value});const O=D.find(R=>R.key==="about_profile");O&&r({..._c,...O.value});const G=D.find(R=>R.key==="community_page");G&&s({...kc,...G.value});const M=D.find(R=>R.key==="contribute_page");M&&o({...Ec,...M.value});const ee=D.find(R=>R.key==="site_branding");ee&&u({...Sc,...ee.value});const Q=D.find(R=>R.key==="site_footer");Q&&h({...Nc,...Q.value});const P=D.find(R=>R.key==="site_navigation");P&&f(P.value);const j=D.find(R=>R.key==="home_value_props");j&&m(j.value);const C=D.find(R=>R.key==="home_quick_nav");C&&y(C.value)}const{data:z}=await K.from("categories").select("*");z&&v(z)}catch(D){console.error("Error fetching site settings:",D)}finally{I(!1)}}};return $.useEffect(()=>{k()},[]),{homeSettings:e,aboutSettings:n,communitySettings:i,contributeSettings:a,branding:c,footer:d,navigation:g,valueProps:p,quickNav:b,categories:_,loading:S,refresh:k}},Yx=()=>{const[e,t]=bt.useState(!1),n=jd(),[r,i]=bt.useState(!1),[s,a]=bt.useState(!1),{branding:o,navigation:c}=qt();bt.useEffect(()=>{const d=()=>i(window.scrollY>20);if(window.addEventListener("scroll",d),K){K.auth.getSession().then(({data:{session:g},error:f})=>{a(f?!1:!!g)});const{data:{subscription:h}}=K.auth.onAuthStateChange((g,f)=>{a(!!f)});return()=>{window.removeEventListener("scroll",d),h.unsubscribe()}}else return()=>window.removeEventListener("scroll",d)},[]);const u=c.filter(d=>d.visible);return l.jsxs("header",{className:Ze("fixed top-0 z-50 w-full transition-all duration-500",r?"py-3 bg-white/70 dark:bg-gray-950/70 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm":"py-6 bg-transparent"),children:[l.jsxs("div",{className:"container mx-auto px-6 flex items-center justify-between",children:[l.jsxs(Ce,{to:"/",className:"flex items-center gap-2 group relative z-50",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-lg opacity-20 group-hover:opacity-50 transition-opacity rounded-full duration-500"}),l.jsx("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 dark:from-indigo-600 dark:to-violet-600 p-2.5 rounded-xl text-white shadow-lg group-hover:scale-105 transition-transform duration-300 border border-white/10",children:l.jsx(Kp,{size:22})})]}),l.jsxs("span",{className:"font-bold text-xl tracking-tight text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:[o.siteName,l.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 group-hover:text-gray-900 dark:group-hover:text-white transition-colors",children:o.logoText})]})]}),l.jsx("nav",{className:"hidden md:flex items-center gap-2",children:l.jsxs("div",{className:"flex items-center p-1 rounded-full bg-gray-100/50 dark:bg-gray-900/50 border border-gray-200/50 dark:border-gray-800/50 backdrop-blur-sm",children:[u.map(d=>{const h=d.path===n.pathname;return l.jsx(Ce,{to:d.path,className:Ze("px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 relative",h?"text-indigo-600 dark:text-indigo-300 bg-white dark:bg-gray-800 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200/50 dark:hover:bg-gray-800/50"),children:d.label},d.label)}),s&&l.jsxs(Ce,{to:"/admin",className:Ze("px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 relative flex items-center gap-1",n.pathname==="/admin"?"text-indigo-600 dark:text-indigo-300 bg-white dark:bg-gray-800 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200/50 dark:hover:bg-gray-800/50"),children:[l.jsx(Vp,{size:14}),l.jsx("span",{children:"Admin"})]})]})}),l.jsx("button",{className:"md:hidden p-2 text-gray-600 dark:text-gray-300 z-50",onClick:()=>t(!e),children:e?l.jsx(Ht,{size:24}):l.jsx(Po,{size:24})})]}),l.jsx(bn,{children:e&&l.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 w-full h-screen bg-white/95 dark:bg-gray-950/95 backdrop-blur-xl pt-24 px-6 md:hidden flex flex-col gap-6 z-40",children:[u.map((d,h)=>l.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},children:l.jsx(Ce,{to:d.path,onClick:()=>t(!1),className:"block text-3xl font-bold text-gray-900 dark:text-white py-4 border-b border-gray-100 dark:border-gray-800",children:d.label})},d.label)),s&&l.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:l.jsx(Ce,{to:"/admin",onClick:()=>t(!1),className:"block text-3xl font-bold text-indigo-600 dark:text-indigo-400 py-4 border-b border-gray-100 dark:border-gray-800",children:"Admin Panel"})})]})})]})},Jx=()=>{const{footer:e}=qt();return l.jsx("footer",{className:"py-8 bg-white dark:bg-gray-950 border-t border-gray-100 dark:border-gray-800",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("p",{className:"flex items-center justify-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium",children:e.text.includes("Heart")?l.jsxs(l.Fragment,{children:["Made with ",l.jsx(Yp,{size:14,className:"text-red-500 fill-red-500"})," by ",e.text.split("by")[1]||"Safaruzzaman Shovo"]}):e.text}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[" ",new Date().getFullYear()," ",e.copyright]})]})})},Xx=()=>{const{pathname:e}=jd();return $.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null},Zx=[{id:"web-dev",title:"Web Development",description:"Discuss React, Node.js, CSS, and modern web frameworks.",color:"from-blue-500 to-cyan-400",icon:"Globe"},{id:"algorithms",title:"Algorithms",description:"Data structures, competitive programming, and optimization techniques.",color:"from-purple-500 to-pink-500",icon:"Cpu"},{id:"system-design",title:"System Design",description:"Scalability, distributed systems, and architectural patterns.",color:"from-emerald-500 to-teal-400",icon:"Server"},{id:"devops",title:"DevOps & Cloud",description:"CI/CD, Docker, Kubernetes, and cloud infrastructure.",color:"from-orange-500 to-red-500",icon:"Cloud"}];new Date().toISOString();const ts=[{id:"system-design-mastery",title:"System Design Mastery",description:"Learn to design scalable systems like Uber, Netflix, and WhatsApp. From load balancing to database sharding.",icon:"Server",color:"from-emerald-500 to-teal-400",level:"Advanced",modules:[{id:"distributed-caching",title:"Module 1: Distributed Caching",description:"Speeding up applications with Redis and Memcached.",topics:[{id:"caching-strategies",title:"Caching Strategies & Eviction Policies",readTime:"12 min",content:[{type:"text",value:"In the world of large-scale distributed systems, latency is the enemy. Every millisecond counts when you are serving millions of users. This is where caching comes into playit is the art of storing frequently accessed data in a location that is faster to access than the primary source."},{type:"note",value:"A cache hit occurs when the requested data is found in the cache. A cache miss occurs when it is not, requiring a fetch from the primary database."},{type:"heading",value:"Why do we need Caching?"},{type:"text",value:"Caching is one of the most effective ways to improve system performance. It involves storing copies of frequently accessed data in a temporary storage location (cache) so that future requests for that data can be served faster. By reducing the load on your primary database, you can scale your application to handle significantly more traffic without upgrading your database infrastructure."},{type:"image",value:"https://images.unsplash.com/photo-1558494949-efc02570fbc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",caption:"Visual representation of data flow in a distributed system."},{type:"divider",value:""},{type:"heading",value:"Cache-Aside Pattern"},{type:"text",value:"This is the most common caching strategy. The application code is responsible for loading data into the cache. When the application needs data, it first checks the cache. If the data is found (hit), it is returned. If not (miss), the application queries the database, returns the data to the user, and stores it in the cache for next time."},{type:"code",language:"python",value:`def get_user(user_id):
    # 1. Check Cache
    user = cache.get(user_id)
    if user:
        return user

    # 2. Fetch from DB
    user = db.query("SELECT * FROM users WHERE id = ?", user_id)

    # 3. Update Cache
    cache.set(user_id, user, ttl=3600)
    return user`,explanation:"In this Python example, we first attempt to retrieve the user from the cache using a unique ID. If that fails (returns None), we fall back to the slower database query. Crucially, we then populate the cache with the result so subsequent requests are fast."},{type:"heading",value:"Eviction Policies"},{type:"text",value:"Caches have limited memory. When the cache is full, we need to remove items to make space for new ones. This process is called eviction. Choosing the right eviction policy is critical for maintaining a high cache hit ratio."},{type:"text",value:`Common policies include:

1. **LRU (Least Recently Used):** Discards the least recently used items first. This is generally the best default policy.
2. **LFU (Least Frequently Used):** Counts how often an item is needed. Good for stable access patterns.
3. **FIFO (First In First Out):** Evicts items in the order they were added, regardless of usage.`},{type:"note",value:"LRU is generally the best default policy for most web applications because it adapts well to changing popularity patterns."}]},{id:"consistent-hashing",title:"Consistent Hashing",readTime:"15 min",content:[{type:"text",value:"When we distribute a cache across multiple servers, we need a way to determine which server holds a specific key. A simple approach is `hash(key) % N`, where N is the number of servers. However, this breaks down when servers are added or removed."},{type:"heading",value:"The Rebalancing Problem"},{type:"text",value:"In a distributed cache with N nodes, using modular hashing works fine until you add or remove a node. When N changes, the result of the modulo operation changes for almost every key. This causes a massive cache miss storm, as nearly all keys are remapped to different servers."},{type:"heading",value:"How Consistent Hashing Works"},{type:"text",value:"Consistent hashing maps both keys and nodes to a circular ring (0 to 2^32-1). A key is assigned to the first node encountered moving clockwise on the ring. When a node is added or removed, only the keys in its immediate vicinity are affected."},{type:"code",language:"javascript",value:`// Simplified Concept
class ConsistentHash {
  constructor(nodes, replicas = 3) {
    this.ring = new SortedMap();
    nodes.forEach(node => this.addNode(node));
  }

  addNode(node) {
    for (let i = 0; i < this.replicas; i++) {
      const hash = this.hash(node.id + i);
      this.ring.set(hash, node);
    }
  }

  getNode(key) {
    const hash = this.hash(key);
    // Find first node > hash in the ring
    return this.ring.findNext(hash);
  }
}`,explanation:"This snippet demonstrates the core concept. We map nodes to multiple points on a ring (using 'replicas' or virtual nodes) to ensure even distribution. When looking up a key, we find the next available node on the ring."}]}]}]},{id:"cs-fundamentals",title:"CS Fundamentals Bootcamp",description:"The absolute essentials of Computer Science. From binary to Big O, master the building blocks of software.",icon:"Cpu",color:"from-blue-500 to-cyan-400",level:"Beginner",modules:[{id:"intro-to-algorithms",title:"Module 1: Algorithms & Logic",description:"Learn how computers think and solve problems.",topics:[{id:"big-o-notation",title:"Understanding Big O Notation",readTime:"10 min",content:[{type:"heading",value:"What is Time Complexity?"},{type:"text",value:"Time complexity is a concept in computer science that deals with the quantification of the amount of time taken by a set of code or algorithm to process or run as a function of the amount of input."},{type:"note",value:"Big O specifically describes the worst-case scenario, which is crucial for scalable systems."},{type:"code",language:"javascript",value:`// O(n) - Linear Time
function findElement(arr, element) {
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] === element) return i;
  }
  return -1;
}`}]}]}]}],Hs=()=>{const[e,t]=$.useState([]),[n,r]=$.useState(!0),[i,s]=$.useState(null),a=async()=>{try{if(!K){t(ts);return}const{data:o,error:c}=await K.from("subjects").select("*").order("display_order",{ascending:!0});if(c)throw c;if(!o||o.length===0){t(ts);return}const{data:u,error:d}=await K.from("modules").select("*").order("display_order",{ascending:!0});if(d)throw d;const{data:h,error:g}=await K.from("topics").select("*").order("display_order",{ascending:!0});if(g)throw g;const f=o.map(p=>({...p,modules:u.filter(m=>m.subject_id===p.id).map(m=>({...m,topics:h.filter(b=>b.module_id===m.id).map(b=>{let y=b.content;if(typeof b.content=="string")try{const _=JSON.parse(b.content);typeof _=="object"&&_!==null&&(y=_)}catch{}return{...b,content:y}})}))}));t(f)}catch(o){console.error("Error fetching curriculum:",o),s(o instanceof Error?o.message:"Failed to fetch curriculum"),t(ts)}finally{r(!1)}};return $.useEffect(()=>{a()},[]),{subjects:e,loading:n,error:i,refresh:a}},bg=()=>{const[e,t]=$.useState([]),[n,r]=$.useState(!0),i=async()=>{r(!0);try{if(!K)return;const{data:s,error:a}=await K.from("community_posts").select("*").order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(a)throw a;t(s||[])}catch(s){console.error("Error fetching community posts:",s)}finally{r(!1)}};return $.useEffect(()=>{i()},[]),{posts:e,loading:n,refresh:i}},Qx=({settings:e})=>{const t=n=>{n.preventDefault();const r=document.getElementById("curriculum");r&&r.scrollIntoView({behavior:"smooth"})};return l.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-20",children:[l.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-950",children:[l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-800 to-transparent"}),l.jsx(ue.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-indigo-500/10 rounded-full blur-[100px] -z-10"}),l.jsx(ue.div,{animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 right-1/4 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-[100px] -z-10"})]}),l.jsx("div",{className:"container mx-auto px-4 relative z-10 text-center",children:l.jsxs(ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-5xl mx-auto",children:[l.jsxs(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 text-sm font-medium text-gray-600 dark:text-gray-300 mb-8 shadow-sm hover:border-indigo-500/30 transition-colors",children:[l.jsx(Do,{size:14,className:"text-indigo-500"}),l.jsx("span",{children:"Master Algorithms & System Design"})]}),l.jsx("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black tracking-tight text-gray-900 dark:text-white mb-8 leading-[1.1] md:leading-[1]",children:e.title}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-400 mb-12 max-w-3xl mx-auto leading-relaxed font-light",children:e.subtitle}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[l.jsxs("a",{href:"#curriculum",onClick:t,className:"group relative px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full font-bold text-lg hover:shadow-2xl hover:shadow-indigo-500/20 transition-all duration-300 flex items-center gap-2 overflow-hidden",children:[l.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.cta_text," ",l.jsx(rn,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs(Ce,{to:"/collaborate",className:"px-8 py-4 bg-transparent border border-gray-200 dark:border-gray-800 text-gray-900 dark:text-white rounded-full font-bold text-lg hover:bg-gray-50 dark:hover:bg-gray-900 transition-all duration-300 flex items-center gap-2",children:["Let's Collaborate ",l.jsx(gr,{size:20,className:"text-gray-400"})]})]})]})})]})},rl=({name:e,...t})=>{const n=Xp[e];return n?l.jsx(n,{...t}):l.jsx(Jp,{...t})},ew=()=>{const{valueProps:e}=qt();return l.jsx("section",{className:"py-12 border-y border-gray-100 dark:border-gray-900 bg-gray-50/50 dark:bg-gray-900/50",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,n)=>l.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"flex flex-col items-center text-center md:items-start md:text-left p-4 rounded-2xl hover:bg-white dark:hover:bg-gray-800 hover:shadow-sm transition-all duration-300",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-4",children:l.jsx(rl,{name:t.icon,size:24})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:t.title}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 leading-relaxed",children:t.desc})]},n))})})})},yg=({icon:e,color:t})=>{const n={Code2:l.jsx(em,{className:"w-5 h-5"}),Server:l.jsx(Qp,{className:"w-5 h-5"}),Globe:l.jsx(ls,{className:"w-5 h-5"}),Database:l.jsx(Ua,{className:"w-5 h-5"}),Cpu:l.jsx(Zp,{className:"w-5 h-5"})};return n[e]?l.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${t} flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n[e]}):l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-xl shadow-sm group-hover:scale-110 transition-transform duration-300 border border-gray-200 dark:border-gray-700",children:e||""})},tw=({subjects:e,loading:t})=>{const n=$.useMemo(()=>e.length<=3?e:[...e].sort(()=>.5-Math.random()).slice(0,3),[e]);return l.jsx("section",{id:"curriculum",className:"py-24 bg-white dark:bg-gray-950",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12 max-w-6xl mx-auto",children:[l.jsx("div",{children:l.jsxs(ue.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[l.jsxs("div",{className:"inline-flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold mb-2 uppercase tracking-wider text-xs",children:[l.jsx(oi,{size:14})," Curriculum"]}),l.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Learning Paths"})]})}),l.jsxs("div",{className:"flex flex-col items-start md:items-end gap-4",children:[l.jsx(ue.p,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"text-lg text-gray-500 dark:text-gray-400 max-w-md text-left md:text-right",children:"Hand-picked courses to start your journey."}),l.jsxs(Ce,{to:"/courses",className:"inline-flex items-center gap-2 text-sm font-bold text-indigo-600 dark:text-indigo-400 hover:underline",children:["View All Courses ",l.jsx(rn,{size:16})]})]})]}),t?l.jsx("div",{className:"flex justify-center py-20",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto mb-12",children:n.map((r,i)=>l.jsx(ue.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:l.jsx(Ce,{to:`/learn/${r.id}`,className:"group block h-full relative",children:l.jsxs("div",{className:"h-full bg-gray-50 dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),l.jsxs("div",{className:"relative z-10 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx(yg,{icon:r.icon,color:r.color}),l.jsx("span",{className:"px-2 py-0.5 rounded-md bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 text-[10px] font-bold uppercase tracking-wide text-gray-500",children:r.level})]}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:r.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed line-clamp-2",children:r.description})]}),l.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"text-xs font-medium text-gray-500",children:[r.modules.length," Modules"]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-indigo-600 dark:text-indigo-400 group-hover:gap-2 transition-all",children:["Start ",l.jsx(gr,{size:14})]})]})]})})},r.id))})]})})},nw=({post:e,loading:t,title:n,subtitle:r})=>l.jsx("section",{className:"py-24 bg-gray-50 dark:bg-gray-900 relative overflow-hidden",children:l.jsx("div",{className:"container mx-auto px-4 relative z-10",children:l.jsx("div",{className:"max-w-6xl mx-auto bg-white dark:bg-gray-950 rounded-[3rem] p-8 md:p-16 shadow-2xl border border-gray-200 dark:border-gray-800 relative overflow-hidden",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[l.jsx("div",{children:l.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 text-xs font-bold mb-6",children:[l.jsx(yn,{size:14}),l.jsx("span",{children:"Community Spotlight"})]}),l.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-6 leading-tight",children:n}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:r}),l.jsxs(Ce,{to:"/community",className:"inline-flex items-center gap-2 px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full font-bold hover:opacity-90 transition-opacity",children:["Join the Discussion ",l.jsx(rn,{size:18})]})]})}),l.jsx(ue.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2},children:t?l.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-3xl animate-pulse"}):e?l.jsx(Ce,{to:`/community/${e.id}`,className:"block group",children:l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-3xl p-8 border border-gray-200 dark:border-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 relative",children:[l.jsx(md,{size:40,className:"absolute top-8 right-8 text-indigo-200 dark:text-indigo-900/50"}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-md",children:e.author_name.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"text-gray-900 dark:text-white font-bold",children:e.author_name}),l.jsx("div",{className:"text-gray-500 text-xs",children:new Date(e.created_at).toLocaleDateString()})]})]}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 group-hover:text-indigo-600 transition-colors line-clamp-2",children:e.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 line-clamp-3 leading-relaxed",children:e.content.replace(/<[^>]*>?/gm,"")}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-xs font-bold text-indigo-600 dark:text-indigo-400",children:[l.jsx(bd,{size:12})," ",e.category]}),l.jsxs("span",{className:"text-sm font-bold text-gray-400 group-hover:text-indigo-600 transition-colors flex items-center gap-1",children:["Read More ",l.jsx(rn,{size:16})]})]})]})}):l.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-3xl p-10 text-center border border-dashed border-gray-300 dark:border-gray-700",children:l.jsx("p",{className:"text-gray-500 font-medium",children:"No featured posts yet."})})})]})})})}),rw=({settings:e})=>l.jsxs("section",{className:"py-24 bg-gray-900 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-indigo-600/20 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-purple-600/20 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2"}),l.jsx("div",{className:"container mx-auto px-4 relative z-10",children:l.jsx("div",{className:"max-w-4xl mx-auto text-center",children:l.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 text-indigo-300 border border-indigo-800 text-xs font-bold uppercase tracking-wider mb-6",children:[l.jsx(js,{size:14}),l.jsx("span",{children:"Work With Me"})]}),l.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6 leading-tight",children:e.collab_title}),l.jsx("div",{className:"text-lg text-gray-300 mb-10 leading-relaxed max-w-2xl mx-auto prose prose-invert",dangerouslySetInnerHTML:{__html:e.collab_desc}}),l.jsxs(Ce,{to:"/collaborate",className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-gray-900 rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-xl shadow-white/10",children:["View Portfolio ",l.jsx(rn,{size:20})]})]})})})]}),iw=()=>{const{quickNav:e}=qt();return l.jsx("section",{className:"py-24 bg-white dark:bg-gray-950 border-t border-gray-100 dark:border-gray-900",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"What do you want to do?"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Direct shortcuts to the most important sections."})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-5xl mx-auto",children:e.map((t,n)=>l.jsx(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},children:l.jsx(Ce,{to:t.link,className:"group block h-full",children:l.jsx(sw,{item:t})})},n))})]})})},sw=({item:e})=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 relative overflow-hidden h-full flex flex-col",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center text-white shadow-md group-hover:scale-110 transition-transform`,children:l.jsx(rl,{name:e.icon,size:24})}),l.jsx(tm,{size:20,className:"text-gray-300 group-hover:text-indigo-500 transition-colors"})]}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:e.title}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.desc})]}),aw=()=>{const{subjects:e,loading:t}=Hs(),{homeSettings:n}=qt();bg();const[r,i]=$.useState(null),[s,a]=$.useState(!0);return $.useEffect(()=>{(async()=>{if(!K){a(!1);return}const{data:c,error:u}=await K.from("community_posts").select("*").eq("status","approved").order("created_at",{ascending:!1}).limit(1).single();c&&!u&&i(c),a(!1)})()},[]),l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 font-sans selection:bg-indigo-500 selection:text-white overflow-x-hidden",children:[l.jsx(Qx,{settings:n}),l.jsx(ew,{}),l.jsx(tw,{subjects:e,loading:t}),l.jsx(nw,{post:r,loading:s,title:n.community_title,subtitle:n.community_desc}),l.jsx(rw,{settings:n}),l.jsx(iw,{})]})},ow=({title:e,description:t,image:n,url:r=window.location.href,type:i="website",keywords:s=[],author:a="KnowtheAlgo"})=>{const o=`${e} | ${a}`;return l.jsxs(qb,{children:[l.jsx("title",{children:o}),l.jsx("meta",{name:"description",content:t}),l.jsx("meta",{name:"keywords",content:s.join(", ")}),l.jsx("meta",{name:"author",content:a}),l.jsx("meta",{property:"og:type",content:i}),l.jsx("meta",{property:"og:url",content:r}),l.jsx("meta",{property:"og:title",content:o}),l.jsx("meta",{property:"og:description",content:t}),n&&l.jsx("meta",{property:"og:image",content:n}),l.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),l.jsx("meta",{name:"twitter:url",content:r}),l.jsx("meta",{name:"twitter:title",content:o}),l.jsx("meta",{name:"twitter:description",content:t}),n&&l.jsx("meta",{name:"twitter:image",content:n}),l.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Person",name:a,url:r,image:n,description:t,sameAs:[]})})]})},lw=({settings:e})=>l.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 py-12 md:py-24 flex flex-col md:flex-row gap-6 items-stretch justify-center min-h-[80vh]",children:[l.jsx(Tc,{className:"flex-[1.6] p-8 md:p-10 flex flex-col relative group",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-8 items-start relative z-10",children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[l.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-2xl overflow-hidden border-2 border-zinc-800 shadow-2xl",children:l.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover grayscale-[20%] group-hover:grayscale-0 transition-all duration-500"})}),l.jsx("div",{className:"absolute -bottom-2 -right-2 bg-zinc-900 p-1.5 rounded-full border border-zinc-800",children:l.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.5)]"})})]}),l.jsxs("div",{className:"flex-1 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-zinc-100 tracking-tight mb-2",children:e.name}),l.jsxs("div",{className:"flex items-center gap-2 text-zinc-400 text-sm font-medium uppercase tracking-wider",children:[l.jsx(yd,{size:14,className:"text-indigo-500"}),e.role]})]}),l.jsx("div",{className:"prose prose-invert prose-sm text-zinc-400 leading-relaxed max-w-none",dangerouslySetInnerHTML:{__html:e.bio}}),l.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:e.skills.slice(0,6).map(t=>l.jsx("span",{className:"px-2.5 py-1 bg-zinc-800/50 border border-zinc-700/50 text-zinc-300 text-xs font-medium rounded-md hover:bg-zinc-800 hover:border-zinc-600 transition-colors cursor-default",children:t},t))})]})]})}),l.jsx("a",{href:e.resume_link||"#",target:"_blank",rel:"noreferrer",className:"flex-1 block group/right",children:l.jsxs(Tc,{className:"h-full p-8 md:p-10 flex flex-col justify-between items-center text-center relative overflow-hidden hover:border-zinc-600 transition-colors",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] group-hover/right:opacity-[0.07] transition-opacity",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),l.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center items-center mt-4",children:[l.jsx("div",{className:"w-20 h-20 bg-zinc-800/50 rounded-3xl flex items-center justify-center mb-8 border border-zinc-700/50 shadow-inner group-hover/right:scale-110 transition-transform duration-500",children:l.jsx(ls,{size:36,className:"text-zinc-200",strokeWidth:1.5})}),l.jsx("h2",{className:"text-xl font-bold text-zinc-100 mb-3",children:e.portfolio_card_title||"View Portfolio"}),l.jsx("p",{className:"text-sm text-zinc-500 max-w-[200px] leading-relaxed",children:e.portfolio_card_desc||"Explore full case studies, research papers, and live deployments."})]}),l.jsx("div",{className:"relative z-10 w-full mt-8",children:l.jsxs("div",{className:"w-full py-3 rounded-xl bg-zinc-100 text-zinc-900 font-bold text-sm flex items-center justify-center gap-2 group-hover/right:bg-white transition-colors shadow-lg shadow-zinc-900/20",children:[e.portfolio_card_cta||"Launch"," ",l.jsx(rn,{size:16,className:"group-hover/right:translate-x-1 transition-transform"})]})})]})})]}),Tc=({children:e,className:t=""})=>{const n=$.useRef(null),[r,i]=$.useState({x:0,y:0}),[s,a]=$.useState(0),o=g=>{if(!n.current)return;const f=n.current.getBoundingClientRect();i({x:g.clientX-f.left,y:g.clientY-f.top})},c=()=>{a(1)},u=()=>{a(0)},d=()=>{a(1)},h=()=>{a(0)};return l.jsxs("div",{ref:n,onMouseMove:o,onFocus:c,onBlur:u,onMouseEnter:d,onMouseLeave:h,className:`relative rounded-2xl border border-zinc-800 bg-zinc-900/80 text-zinc-200 shadow-xl backdrop-blur-md ${t}`,children:[l.jsx("div",{className:"pointer-events-none absolute -inset-px opacity-0 transition duration-300 rounded-2xl",style:{opacity:s,background:`radial-gradient(600px circle at ${r.x}px ${r.y}px, rgba(255,255,255,0.06), transparent 40%)`}}),e]})},cw=()=>{const{aboutSettings:e,loading:t}=qt();return t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950",children:l.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-zinc-600 border-t-transparent rounded-full"})}):l.jsxs("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4 sm:p-8 font-sans selection:bg-indigo-500/30 selection:text-indigo-200",children:[l.jsx(ow,{title:`${e.name} - Portfolio`,description:e.bio,image:e.image,type:"profile"}),l.jsx("main",{className:"w-full",children:l.jsx(lw,{settings:e})})]})},xg=({code:e,language:t="text",explanation:n})=>{const[r,i]=$.useState(!1),[s,a]=$.useState(!1),[o,c]=$.useState(!1),u=async()=>{await Xr(e)&&(i(!0),setTimeout(()=>i(!1),2e3))},d=e.split(`
`).length,h=d>15;return l.jsxs(ue.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-10%"},className:"relative group my-8 rounded-xl overflow-hidden bg-[#0f1117] shadow-2xl border border-gray-800/50",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-[#161b22] border-b border-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/20 border border-red-500/50"}),l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/20 border border-yellow-500/50"}),l.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/20 border border-green-500/50"})]}),l.jsx("div",{className:"h-4 w-px bg-gray-700 mx-1"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yd,{size:12,className:"text-indigo-400"}),l.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider font-mono",children:t})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[n&&l.jsxs("button",{onClick:()=>c(!o),className:`flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-bold transition-colors ${o?"bg-indigo-500/20 text-indigo-300":"text-gray-500 hover:text-indigo-300 hover:bg-gray-800"}`,title:"Explain this code",children:[l.jsx(nm,{size:12}),o?"Hide Info":"Explain"]}),l.jsx("div",{className:"w-px h-4 bg-gray-800 mx-1"}),h&&l.jsx("button",{onClick:()=>a(!s),className:"p-1.5 rounded-md hover:bg-gray-800 text-gray-500 hover:text-white transition-colors",title:s?"Collapse":"Expand",children:s?l.jsx(Is,{size:14}):l.jsx(li,{size:14})}),l.jsxs("button",{onClick:u,className:"p-1.5 rounded-md hover:bg-gray-800 text-gray-500 hover:text-white transition-colors flex items-center gap-1",title:"Copy code",children:[r?l.jsx(Ms,{size:14,className:"text-green-400"}):l.jsx(xd,{size:14}),r&&l.jsx("span",{className:"text-[10px] text-green-400 font-bold",children:"Copied!"})]})]})]}),l.jsx(bn,{children:o&&l.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-indigo-900/20 border-b border-indigo-500/20 overflow-hidden",children:l.jsxs("div",{className:"p-4 text-sm text-indigo-200 leading-relaxed font-sans",children:[l.jsx("strong",{className:"text-indigo-400 block mb-1 text-xs uppercase tracking-wide",children:"Code Explanation"}),n]})})}),l.jsxs(ue.div,{animate:{height:s?"auto":h?"300px":"auto"},className:"relative overflow-hidden",children:[l.jsx("div",{className:"p-5 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:l.jsx("pre",{className:"text-sm font-mono leading-relaxed text-gray-300 font-ligatures",children:l.jsx("code",{children:e})})}),!s&&h&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-[#0f1117] to-transparent pointer-events-none flex items-end justify-center pb-4",children:l.jsxs("button",{onClick:()=>a(!0),className:"pointer-events-auto px-4 py-1.5 bg-gray-800 hover:bg-gray-700 text-white text-xs font-bold rounded-full shadow-lg transition-colors border border-gray-700",children:["Show all ",d," lines"]})})]})]})},Cc={note:{bg:"bg-blue-50 dark:bg-blue-900/10",border:"border-blue-500",icon:l.jsx(sm,{className:"text-blue-500",size:20}),title:"Note",text:"text-blue-900 dark:text-blue-100"},warning:{bg:"bg-amber-50 dark:bg-amber-900/10",border:"border-amber-500",icon:l.jsx(im,{className:"text-amber-500",size:20}),title:"Warning",text:"text-amber-900 dark:text-amber-100"},tip:{bg:"bg-emerald-50 dark:bg-emerald-900/10",border:"border-emerald-500",icon:l.jsx(ci,{className:"text-emerald-500",size:20}),title:"Pro Tip",text:"text-emerald-900 dark:text-emerald-100"},danger:{bg:"bg-red-50 dark:bg-red-900/10",border:"border-red-500",icon:l.jsx(rm,{className:"text-red-500",size:20}),title:"Critical",text:"text-red-900 dark:text-red-100"}},uw=({type:e="note",children:t})=>{const n=Cc[e]||Cc.note;return l.jsxs(ue.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`${n.bg} border-l-4 ${n.border} p-5 rounded-r-xl my-6 flex gap-4 shadow-sm`,children:[l.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h5",{className:`font-bold text-sm uppercase tracking-wide mb-1 opacity-80 ${n.text}`,children:n.title}),l.jsx("div",{className:`text-base leading-relaxed ${n.text} opacity-90`,children:t})]})]})},wg=()=>{const{scrollYProgress:e}=am(),t=om(e,{stiffness:100,damping:30,restDelta:.001});return l.jsx(ue.div,{className:"fixed top-0 left-0 right-0 h-1 bg-indigo-600 origin-left z-[60]",style:{scaleX:t}})},vg=$.createContext(void 0),_g=({children:e})=>{const[t,n]=$.useState("base"),[r,i]=$.useState("relaxed"),[s,a]=$.useState(!1),o=()=>a(c=>!c);return $.useEffect(()=>{const c=localStorage.getItem("reading-prefs");if(c)try{const u=JSON.parse(c);n(u.fontSize||"base"),i(u.lineHeight||"relaxed")}catch{}},[]),$.useEffect(()=>{localStorage.setItem("reading-prefs",JSON.stringify({fontSize:t,lineHeight:r}))},[t,r]),l.jsx(vg.Provider,{value:{fontSize:t,setFontSize:n,lineHeight:r,setLineHeight:i,focusMode:s,setFocusMode:a,toggleFocusMode:o},children:e})},Gs=()=>{const e=$.useContext(vg);if(!e)throw new Error("useReadingPreferences must be used within a ReadingPreferencesProvider");return e},kg=()=>{const{fontSize:e,setFontSize:t,lineHeight:n,setLineHeight:r,focusMode:i,toggleFocusMode:s}=Gs(),[a,o]=bt.useState(!1),[c,u]=bt.useState(document.documentElement.classList.contains("dark")),d=()=>{const h=!c;u(h),h?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return l.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 flex flex-col items-center gap-2",children:[l.jsx(bn,{children:a&&l.jsxs(ue.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl p-4 mb-2 min-w-[280px]",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[l.jsx("span",{className:"text-xs font-bold uppercase text-gray-400",children:"Reading Settings"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-900 dark:hover:text-white",children:l.jsx(Ht,{size:14})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex justify-between items-center mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[l.jsx(Fa,{size:14})," Font Size"]})}),l.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["sm","base","lg","xl"].map(h=>l.jsx("button",{onClick:()=>t(h),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${e===h?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"}`,children:h==="sm"?"A":h==="base"?"A+":h==="lg"?"A++":"A+++"},h))})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex justify-between items-center mb-2",children:l.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[l.jsx(wd,{size:14})," Spacing"]})}),l.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["normal","relaxed","loose"].map(h=>l.jsx("button",{onClick:()=>r(h),className:`flex-1 py-1.5 text-xs font-bold rounded-md transition-all ${n===h?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]})]})}),l.jsxs(ue.div,{className:"flex items-center gap-1 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border border-gray-200/50 dark:border-gray-700/50 p-1.5 rounded-full shadow-lg hover:shadow-xl transition-shadow",initial:{y:100},animate:{y:0},transition:{delay:.5,type:"spring"},children:[l.jsx(ga,{onClick:s,label:i?"Exit Focus":"Focus Mode",children:i?l.jsx(Is,{size:18}):l.jsx(li,{size:18})}),l.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),l.jsx(ga,{onClick:d,label:c?"Light Mode":"Dark Mode",children:c?l.jsx(lm,{size:18}):l.jsx(cm,{size:18})}),l.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),l.jsx(ga,{onClick:()=>o(!a),label:"Text Settings",active:a,children:l.jsx(Fa,{size:18})})]})]})},ga=({onClick:e,children:t,label:n,active:r})=>l.jsxs("button",{onClick:e,className:`p-3 rounded-full transition-all relative group ${r?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white"}`,title:n,children:[t,l.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 text-[10px] font-bold text-white bg-gray-900 dark:bg-gray-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:n})]}),dw=({content:e,isRichContent:t})=>{const[n,r]=$.useState([]),[i,s]=$.useState("");$.useEffect(()=>{const o=[];if(t&&typeof e=="string")new DOMParser().parseFromString(e,"text/html").querySelectorAll("h2, h3").forEach((h,g)=>{const f=`heading-${g}`;o.push({id:f,text:h.textContent||"",level:parseInt(h.tagName.substring(1))})});else if(Array.isArray(e)){let c=0;e.forEach(u=>{u.type==="heading"&&(o.push({id:`heading-${c}`,text:u.value,level:2}),c++)})}r(o)},[e,t]),$.useEffect(()=>{const o=new IntersectionObserver(c=>{c.forEach(u=>{u.isIntersecting&&s(u.target.id)})},{rootMargin:"-10% 0px -80% 0px"});return n.forEach(c=>{const u=document.getElementById(c.id);u&&o.observe(u)}),()=>o.disconnect()},[n]);const a=o=>{const c=document.getElementById(o);c&&(c.scrollIntoView({behavior:"smooth",block:"start"}),s(o))};return n.length===0?null:l.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"hidden xl:block w-64 sticky top-24 max-h-[calc(100vh-8rem)] overflow-y-auto pr-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-400",children:[l.jsx($o,{size:14}),l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"On this page"})]}),l.jsx("div",{className:"relative border-l border-gray-200 dark:border-gray-800 ml-1.5",children:n.map(o=>l.jsxs("button",{onClick:()=>a(o.id),className:`block w-full text-left py-1.5 pl-4 text-sm transition-all relative ${i===o.id?"text-indigo-600 dark:text-indigo-400 font-bold":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,style:{marginLeft:o.level===3?"12px":"0px"},children:[i===o.id&&l.jsx(ue.div,{layoutId:"toc-indicator",className:"absolute left-0 top-0 bottom-0 w-0.5 bg-indigo-600 -ml-[1px]"}),o.text]},o.id))})]})},Eg=({children:e,className:t,id:n})=>{const[r,i]=$.useState(!1),[s,a]=$.useState(!1),{fontSize:o,lineHeight:c}=Gs(),u={sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl"}[o],d={normal:"leading-normal",relaxed:"leading-relaxed",loose:"leading-loose"}[c],h=async()=>{typeof e=="string"&&await Xr(e)&&(a(!0),setTimeout(()=>a(!1),2e3))},g=async()=>{if(n){const f=`${window.location.origin}${window.location.pathname}#${n}`;await Xr(f)&&(a(!0),setTimeout(()=>a(!1),2e3))}};return l.jsxs(ue.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-10%"},transition:{duration:.5,ease:"easeOut"},className:"relative group mb-6",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),id:n,children:[l.jsxs("div",{className:Ze("hidden lg:flex absolute -left-12 top-1 flex-col gap-1 transition-opacity duration-200",r?"opacity-100":"opacity-0"),children:[l.jsx("button",{onClick:h,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-md transition-colors",title:"Copy paragraph",children:s?l.jsx(Ms,{size:14,className:"text-green-500"}):l.jsx(xd,{size:14})}),n&&l.jsx("button",{onClick:g,className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-md transition-colors",title:"Copy link to paragraph",children:l.jsx(Dn,{size:14})})]}),l.jsx("p",{className:Ze("text-gray-700 dark:text-gray-300 font-serif-reading transition-all duration-300",u,d,c==="loose"&&"mb-8",t),children:e})]})},Sg=({src:e,alt:t,caption:n,className:r})=>{const[i,s]=$.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs(ue.figure,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"-10%"},transition:{duration:.5},className:Ze("my-10 group relative",r),children:[l.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800 bg-gray-100 dark:bg-gray-900 cursor-zoom-in",onClick:()=>s(!0),children:[l.jsx(ue.img,{layoutId:`image-${e}`,src:e,alt:t,className:"w-full h-auto object-cover transition-transform duration-700 group-hover:scale-[1.02]",loading:"lazy"}),l.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:l.jsxs("div",{className:"bg-white/90 dark:bg-black/80 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-bold text-gray-900 dark:text-white flex items-center gap-2 shadow-lg transform translate-y-2 group-hover:translate-y-0 transition-transform",children:[l.jsx(li,{size:12})," Click to expand"]})})]}),n&&l.jsx("figcaption",{className:"mt-3 text-center text-sm text-gray-500 dark:text-gray-400 italic",children:n})]}),l.jsx(bn,{children:i&&l.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-white/95 dark:bg-gray-950/95 backdrop-blur-xl p-4 md:p-10 cursor-zoom-out",onClick:()=>s(!1),children:[l.jsx("button",{className:"absolute top-6 right-6 p-2 bg-gray-100 dark:bg-gray-800 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors z-10",onClick:a=>{a.stopPropagation(),s(!1)},children:l.jsx(Ht,{size:24})}),l.jsx(ue.img,{layoutId:`image-${e}`,src:e,alt:t,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"}),n&&l.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute bottom-6 left-0 right-0 text-center pointer-events-none",children:l.jsx("span",{className:"inline-block bg-black/75 text-white px-4 py-2 rounded-full text-sm font-medium backdrop-blur-md",children:n})})]})})]})},Ng=()=>l.jsxs("div",{className:"flex items-center justify-center py-16 opacity-50",children:[l.jsx(ue.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},viewport:{once:!0},transition:{duration:1},className:"h-px bg-gradient-to-r from-transparent via-indigo-500 to-transparent w-24"}),l.jsx(ue.div,{initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{delay:.3},className:"mx-4 w-1.5 h-1.5 rounded-full bg-indigo-500"}),l.jsx(ue.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},viewport:{once:!0},transition:{duration:1},className:"h-px bg-gradient-to-r from-transparent via-indigo-500 to-transparent w-24"})]}),hw=({relatedTopics:e=[]})=>{const[t,n]=$.useState(!1),r=window.location.href,i=document.title,s=async()=>{await Xr(r)&&(n(!0),setTimeout(()=>n(!1),2e3))},a=[{icon:vd,label:"Twitter",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(i)}&url=${encodeURIComponent(r)}`,color:"hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:_d,label:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`,color:"hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:zo,label:"LinkedIn",href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(r)}`,color:"hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:Ls,label:"Email",href:`mailto:?subject=${encodeURIComponent(i)}&body=Check this out: ${encodeURIComponent(r)}`,color:"hover:text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}];return l.jsxs(ue.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-24 pt-12 border-t border-gray-100 dark:border-gray-800",children:[l.jsxs("div",{className:"flex flex-col items-center text-center mb-16",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center text-green-600 dark:text-green-400 mb-6 animate-pulse",children:l.jsx(ci,{size:32})}),l.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:"You've reached the end"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Great job! Share your progress or keep learning."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[l.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-5 py-2.5 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-all active:scale-95 text-sm",children:[t?l.jsx(Ms,{size:16}):l.jsx(Dn,{size:16}),t?"Copied!":"Copy Link"]}),a.map(o=>l.jsx("a",{href:o.href,target:"_blank",rel:"noopener noreferrer",className:`p-2.5 rounded-full bg-gray-50 dark:bg-gray-900 text-gray-400 transition-all ${o.color} border border-gray-100 dark:border-gray-800`,title:`Share on ${o.label}`,children:l.jsx(o.icon,{size:18})},o.label))]})]}),e.length>0&&l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-800"}),l.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Up Next in Module"}),l.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-800"})]}),l.jsx("div",{className:"grid gap-4",children:e.map((o,c)=>l.jsxs(Ce,{to:`/learn/${o.subjectId}/${o.id}`,className:"group block bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/50 hover:shadow-xl transition-all relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-bold mb-1 uppercase tracking-wide",children:c===0?"Next Topic":"Coming Up"}),l.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 transition-colors",children:o.title})]}),l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-indigo-600 group-hover:text-white transition-all flex-shrink-0",children:l.jsx(rn,{size:20})})]})]},o.id))})]})]})};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Tg,setPrototypeOf:Ac,isFrozen:gw,getPrototypeOf:fw,getOwnPropertyDescriptor:pw}=Object;let{freeze:dt,seal:Tt,create:fo}=Object,{apply:po,construct:mo}=typeof Reflect<"u"&&Reflect;dt||(dt=function(t){return t});Tt||(Tt=function(t){return t});po||(po=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return t.apply(n,i)});mo||(mo=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const Oi=ht(Array.prototype.forEach),mw=ht(Array.prototype.lastIndexOf),Oc=ht(Array.prototype.pop),jr=ht(Array.prototype.push),bw=ht(Array.prototype.splice),ns=ht(String.prototype.toLowerCase),fa=ht(String.prototype.toString),pa=ht(String.prototype.match),Ir=ht(String.prototype.replace),yw=ht(String.prototype.indexOf),xw=ht(String.prototype.trim),Ot=ht(Object.prototype.hasOwnProperty),lt=ht(RegExp.prototype.test),Mr=ww(TypeError);function ht(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return po(e,t,r)}}function ww(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mo(e,n)}}function me(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ns;Ac&&Ac(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const s=n(i);s!==i&&(gw(t)||(t[r]=s),i=s)}e[i]=!0}return e}function vw(e){for(let t=0;t<e.length;t++)Ot(e,t)||(e[t]=null);return e}function $t(e){const t=fo(null);for(const[n,r]of Tg(e))Ot(e,n)&&(Array.isArray(r)?t[n]=vw(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=$t(r):t[n]=r);return t}function Lr(e,t){for(;e!==null;){const r=pw(e,t);if(r){if(r.get)return ht(r.get);if(typeof r.value=="function")return ht(r.value)}e=fw(e)}function n(){return null}return n}const Rc=dt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ma=dt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ba=dt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),_w=dt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ya=dt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kw=dt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),jc=dt(["#text"]),Ic=dt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),xa=dt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mc=dt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ri=dt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ew=Tt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Sw=Tt(/<%[\w\W]*|[\w\W]*%>/gm),Nw=Tt(/\$\{[\w\W]*/gm),Tw=Tt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Cw=Tt(/^aria-[\-\w]+$/),Cg=Tt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Aw=Tt(/^(?:\w+script|data):/i),Ow=Tt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ag=Tt(/^html$/i),Rw=Tt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Lc=Object.freeze({__proto__:null,ARIA_ATTR:Cw,ATTR_WHITESPACE:Ow,CUSTOM_ELEMENT:Rw,DATA_ATTR:Tw,DOCTYPE_NAME:Ag,ERB_EXPR:Sw,IS_ALLOWED_URI:Cg,IS_SCRIPT_OR_DATA:Aw,MUSTACHE_EXPR:Ew,TMPLIT_EXPR:Nw});const Pr={element:1,text:3,progressingInstruction:7,comment:8,document:9},jw=function(){return typeof window>"u"?null:window},Iw=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Pc=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Og(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jw();const t=ae=>Og(ae);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Pr.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:c,NodeFilter:u,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:f}=e,p=c.prototype,m=Lr(p,"cloneNode"),b=Lr(p,"remove"),y=Lr(p,"nextSibling"),_=Lr(p,"childNodes"),v=Lr(p,"parentNode");if(typeof a=="function"){const ae=n.createElement("template");ae.content&&ae.content.ownerDocument&&(n=ae.content.ownerDocument)}let S,I="";const{implementation:k,createNodeIterator:D,createDocumentFragment:z,getElementsByTagName:W}=n,{importNode:O}=r;let G=Pc();t.isSupported=typeof Tg=="function"&&typeof v=="function"&&k&&k.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:ee,TMPLIT_EXPR:Q,DATA_ATTR:P,ARIA_ATTR:j,IS_SCRIPT_OR_DATA:C,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:q}=Lc;let{IS_ALLOWED_URI:x}=Lc,U=null;const B=me({},[...Rc,...ma,...ba,...ya,...jc]);let w=null;const A=me({},[...Ic,...xa,...Mc,...Ri]);let F=Object.seal(fo(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),J=null,X=null;const pe=Object.seal(fo(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Oe=!0,Ee=!0,$e=!1,Me=!0,We=!1,Qe=!0,Se=!1,de=!1,Ke=!1,ne=!1,se=!1,ve=!1,ce=!0,xe=!1;const et="user-content-";let Ve=!0,at=!1,N={},E=null;const L=me({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let H=null;const Z=me({},["audio","video","img","source","image","track"]);let he=null;const Le=me({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Et="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml";let ze=ot,Pt=!1,xt=null;const $p=me({},[qe,Et,ot],fa);let yi=me({},["mi","mo","mn","ms","mtext"]),xi=me({},["annotation-xml"]);const zp=me({},["title","style","font","a","script"]);let Tr=null;const Bp=["application/xhtml+xml","text/html"],Up="text/html";let Ge=null,qn=null;const Fp=n.createElement("form"),jl=function(T){return T instanceof RegExp||T instanceof Function},ea=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qn&&qn===T)){if((!T||typeof T!="object")&&(T={}),T=$t(T),Tr=Bp.indexOf(T.PARSER_MEDIA_TYPE)===-1?Up:T.PARSER_MEDIA_TYPE,Ge=Tr==="application/xhtml+xml"?fa:ns,U=Ot(T,"ALLOWED_TAGS")?me({},T.ALLOWED_TAGS,Ge):B,w=Ot(T,"ALLOWED_ATTR")?me({},T.ALLOWED_ATTR,Ge):A,xt=Ot(T,"ALLOWED_NAMESPACES")?me({},T.ALLOWED_NAMESPACES,fa):$p,he=Ot(T,"ADD_URI_SAFE_ATTR")?me($t(Le),T.ADD_URI_SAFE_ATTR,Ge):Le,H=Ot(T,"ADD_DATA_URI_TAGS")?me($t(Z),T.ADD_DATA_URI_TAGS,Ge):Z,E=Ot(T,"FORBID_CONTENTS")?me({},T.FORBID_CONTENTS,Ge):L,J=Ot(T,"FORBID_TAGS")?me({},T.FORBID_TAGS,Ge):$t({}),X=Ot(T,"FORBID_ATTR")?me({},T.FORBID_ATTR,Ge):$t({}),N=Ot(T,"USE_PROFILES")?T.USE_PROFILES:!1,Oe=T.ALLOW_ARIA_ATTR!==!1,Ee=T.ALLOW_DATA_ATTR!==!1,$e=T.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=T.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=T.SAFE_FOR_TEMPLATES||!1,Qe=T.SAFE_FOR_XML!==!1,Se=T.WHOLE_DOCUMENT||!1,ne=T.RETURN_DOM||!1,se=T.RETURN_DOM_FRAGMENT||!1,ve=T.RETURN_TRUSTED_TYPE||!1,Ke=T.FORCE_BODY||!1,ce=T.SANITIZE_DOM!==!1,xe=T.SANITIZE_NAMED_PROPS||!1,Ve=T.KEEP_CONTENT!==!1,at=T.IN_PLACE||!1,x=T.ALLOWED_URI_REGEXP||Cg,ze=T.NAMESPACE||ot,yi=T.MATHML_TEXT_INTEGRATION_POINTS||yi,xi=T.HTML_INTEGRATION_POINTS||xi,F=T.CUSTOM_ELEMENT_HANDLING||{},T.CUSTOM_ELEMENT_HANDLING&&jl(T.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(F.tagNameCheck=T.CUSTOM_ELEMENT_HANDLING.tagNameCheck),T.CUSTOM_ELEMENT_HANDLING&&jl(T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(F.attributeNameCheck=T.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),T.CUSTOM_ELEMENT_HANDLING&&typeof T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(F.allowCustomizedBuiltInElements=T.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(Ee=!1),se&&(ne=!0),N&&(U=me({},jc),w=[],N.html===!0&&(me(U,Rc),me(w,Ic)),N.svg===!0&&(me(U,ma),me(w,xa),me(w,Ri)),N.svgFilters===!0&&(me(U,ba),me(w,xa),me(w,Ri)),N.mathMl===!0&&(me(U,ya),me(w,Mc),me(w,Ri))),T.ADD_TAGS&&(typeof T.ADD_TAGS=="function"?pe.tagCheck=T.ADD_TAGS:(U===B&&(U=$t(U)),me(U,T.ADD_TAGS,Ge))),T.ADD_ATTR&&(typeof T.ADD_ATTR=="function"?pe.attributeCheck=T.ADD_ATTR:(w===A&&(w=$t(w)),me(w,T.ADD_ATTR,Ge))),T.ADD_URI_SAFE_ATTR&&me(he,T.ADD_URI_SAFE_ATTR,Ge),T.FORBID_CONTENTS&&(E===L&&(E=$t(E)),me(E,T.FORBID_CONTENTS,Ge)),T.ADD_FORBID_CONTENTS&&(E===L&&(E=$t(E)),me(E,T.ADD_FORBID_CONTENTS,Ge)),Ve&&(U["#text"]=!0),Se&&me(U,["html","head","body"]),U.table&&(me(U,["tbody"]),delete J.tbody),T.TRUSTED_TYPES_POLICY){if(typeof T.TRUSTED_TYPES_POLICY.createHTML!="function")throw Mr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof T.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Mr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=T.TRUSTED_TYPES_POLICY,I=S.createHTML("")}else S===void 0&&(S=Iw(f,i)),S!==null&&typeof I=="string"&&(I=S.createHTML(""));dt&&dt(T),qn=T}},Il=me({},[...ma,...ba,..._w]),Ml=me({},[...ya,...kw]),Hp=function(T){let Y=v(T);(!Y||!Y.tagName)&&(Y={namespaceURI:ze,tagName:"template"});const re=ns(T.tagName),je=ns(Y.tagName);return xt[T.namespaceURI]?T.namespaceURI===Et?Y.namespaceURI===ot?re==="svg":Y.namespaceURI===qe?re==="svg"&&(je==="annotation-xml"||yi[je]):!!Il[re]:T.namespaceURI===qe?Y.namespaceURI===ot?re==="math":Y.namespaceURI===Et?re==="math"&&xi[je]:!!Ml[re]:T.namespaceURI===ot?Y.namespaceURI===Et&&!xi[je]||Y.namespaceURI===qe&&!yi[je]?!1:!Ml[re]&&(zp[re]||!Il[re]):!!(Tr==="application/xhtml+xml"&&xt[T.namespaceURI]):!1},Dt=function(T){jr(t.removed,{element:T});try{v(T).removeChild(T)}catch{b(T)}},_n=function(T,Y){try{jr(t.removed,{attribute:Y.getAttributeNode(T),from:Y})}catch{jr(t.removed,{attribute:null,from:Y})}if(Y.removeAttribute(T),T==="is")if(ne||se)try{Dt(Y)}catch{}else try{Y.setAttribute(T,"")}catch{}},Ll=function(T){let Y=null,re=null;if(Ke)T="<remove></remove>"+T;else{const Be=pa(T,/^[\r\n\t ]+/);re=Be&&Be[0]}Tr==="application/xhtml+xml"&&ze===ot&&(T='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+T+"</body></html>");const je=S?S.createHTML(T):T;if(ze===ot)try{Y=new g().parseFromString(je,Tr)}catch{}if(!Y||!Y.documentElement){Y=k.createDocument(ze,"template",null);try{Y.documentElement.innerHTML=Pt?I:je}catch{}}const tt=Y.body||Y.documentElement;return T&&re&&tt.insertBefore(n.createTextNode(re),tt.childNodes[0]||null),ze===ot?W.call(Y,Se?"html":"body")[0]:Se?Y.documentElement:tt},Pl=function(T){return D.call(T.ownerDocument||T,T,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ta=function(T){return T instanceof h&&(typeof T.nodeName!="string"||typeof T.textContent!="string"||typeof T.removeChild!="function"||!(T.attributes instanceof d)||typeof T.removeAttribute!="function"||typeof T.setAttribute!="function"||typeof T.namespaceURI!="string"||typeof T.insertBefore!="function"||typeof T.hasChildNodes!="function")},Dl=function(T){return typeof o=="function"&&T instanceof o};function Vt(ae,T,Y){Oi(ae,re=>{re.call(t,T,Y,qn)})}const $l=function(T){let Y=null;if(Vt(G.beforeSanitizeElements,T,null),ta(T))return Dt(T),!0;const re=Ge(T.nodeName);if(Vt(G.uponSanitizeElement,T,{tagName:re,allowedTags:U}),Qe&&T.hasChildNodes()&&!Dl(T.firstElementChild)&&lt(/<[/\w!]/g,T.innerHTML)&&lt(/<[/\w!]/g,T.textContent)||T.nodeType===Pr.progressingInstruction||Qe&&T.nodeType===Pr.comment&&lt(/<[/\w]/g,T.data))return Dt(T),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(re))&&(!U[re]||J[re])){if(!J[re]&&Bl(re)&&(F.tagNameCheck instanceof RegExp&&lt(F.tagNameCheck,re)||F.tagNameCheck instanceof Function&&F.tagNameCheck(re)))return!1;if(Ve&&!E[re]){const je=v(T)||T.parentNode,tt=_(T)||T.childNodes;if(tt&&je){const Be=tt.length;for(let gt=Be-1;gt>=0;--gt){const Yt=m(tt[gt],!0);Yt.__removalCount=(T.__removalCount||0)+1,je.insertBefore(Yt,y(T))}}}return Dt(T),!0}return T instanceof c&&!Hp(T)||(re==="noscript"||re==="noembed"||re==="noframes")&&lt(/<\/no(script|embed|frames)/i,T.innerHTML)?(Dt(T),!0):(We&&T.nodeType===Pr.text&&(Y=T.textContent,Oi([M,ee,Q],je=>{Y=Ir(Y,je," ")}),T.textContent!==Y&&(jr(t.removed,{element:T.cloneNode()}),T.textContent=Y)),Vt(G.afterSanitizeElements,T,null),!1)},zl=function(T,Y,re){if(ce&&(Y==="id"||Y==="name")&&(re in n||re in Fp))return!1;if(!(Ee&&!X[Y]&&lt(P,Y))){if(!(Oe&&lt(j,Y))){if(!(pe.attributeCheck instanceof Function&&pe.attributeCheck(Y,T))){if(!w[Y]||X[Y]){if(!(Bl(T)&&(F.tagNameCheck instanceof RegExp&&lt(F.tagNameCheck,T)||F.tagNameCheck instanceof Function&&F.tagNameCheck(T))&&(F.attributeNameCheck instanceof RegExp&&lt(F.attributeNameCheck,Y)||F.attributeNameCheck instanceof Function&&F.attributeNameCheck(Y,T))||Y==="is"&&F.allowCustomizedBuiltInElements&&(F.tagNameCheck instanceof RegExp&&lt(F.tagNameCheck,re)||F.tagNameCheck instanceof Function&&F.tagNameCheck(re))))return!1}else if(!he[Y]){if(!lt(x,Ir(re,R,""))){if(!((Y==="src"||Y==="xlink:href"||Y==="href")&&T!=="script"&&yw(re,"data:")===0&&H[T])){if(!($e&&!lt(C,Ir(re,R,"")))){if(re)return!1}}}}}}}return!0},Bl=function(T){return T!=="annotation-xml"&&pa(T,q)},Ul=function(T){Vt(G.beforeSanitizeAttributes,T,null);const{attributes:Y}=T;if(!Y||ta(T))return;const re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:w,forceKeepAttr:void 0};let je=Y.length;for(;je--;){const tt=Y[je],{name:Be,namespaceURI:gt,value:Yt}=tt,Wn=Ge(Be),na=Yt;let Ye=Be==="value"?na:xw(na);if(re.attrName=Wn,re.attrValue=Ye,re.keepAttr=!0,re.forceKeepAttr=void 0,Vt(G.uponSanitizeAttribute,T,re),Ye=re.attrValue,xe&&(Wn==="id"||Wn==="name")&&(_n(Be,T),Ye=et+Ye),Qe&&lt(/((--!?|])>)|<\/(style|title|textarea)/i,Ye)){_n(Be,T);continue}if(Wn==="attributename"&&pa(Ye,"href")){_n(Be,T);continue}if(re.forceKeepAttr)continue;if(!re.keepAttr){_n(Be,T);continue}if(!Me&&lt(/\/>/i,Ye)){_n(Be,T);continue}We&&Oi([M,ee,Q],Hl=>{Ye=Ir(Ye,Hl," ")});const Fl=Ge(T.nodeName);if(!zl(Fl,Wn,Ye)){_n(Be,T);continue}if(S&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!gt)switch(f.getAttributeType(Fl,Wn)){case"TrustedHTML":{Ye=S.createHTML(Ye);break}case"TrustedScriptURL":{Ye=S.createScriptURL(Ye);break}}if(Ye!==na)try{gt?T.setAttributeNS(gt,Be,Ye):T.setAttribute(Be,Ye),ta(T)?Dt(T):Oc(t.removed)}catch{_n(Be,T)}}Vt(G.afterSanitizeAttributes,T,null)},Gp=function ae(T){let Y=null;const re=Pl(T);for(Vt(G.beforeSanitizeShadowDOM,T,null);Y=re.nextNode();)Vt(G.uponSanitizeShadowNode,Y,null),$l(Y),Ul(Y),Y.content instanceof s&&ae(Y.content);Vt(G.afterSanitizeShadowDOM,T,null)};return t.sanitize=function(ae){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=null,re=null,je=null,tt=null;if(Pt=!ae,Pt&&(ae="<!-->"),typeof ae!="string"&&!Dl(ae))if(typeof ae.toString=="function"){if(ae=ae.toString(),typeof ae!="string")throw Mr("dirty is not a string, aborting")}else throw Mr("toString is not a function");if(!t.isSupported)return ae;if(de||ea(T),t.removed=[],typeof ae=="string"&&(at=!1),at){if(ae.nodeName){const Yt=Ge(ae.nodeName);if(!U[Yt]||J[Yt])throw Mr("root node is forbidden and cannot be sanitized in-place")}}else if(ae instanceof o)Y=Ll("<!---->"),re=Y.ownerDocument.importNode(ae,!0),re.nodeType===Pr.element&&re.nodeName==="BODY"||re.nodeName==="HTML"?Y=re:Y.appendChild(re);else{if(!ne&&!We&&!Se&&ae.indexOf("<")===-1)return S&&ve?S.createHTML(ae):ae;if(Y=Ll(ae),!Y)return ne?null:ve?I:""}Y&&Ke&&Dt(Y.firstChild);const Be=Pl(at?ae:Y);for(;je=Be.nextNode();)$l(je),Ul(je),je.content instanceof s&&Gp(je.content);if(at)return ae;if(ne){if(se)for(tt=z.call(Y.ownerDocument);Y.firstChild;)tt.appendChild(Y.firstChild);else tt=Y;return(w.shadowroot||w.shadowrootmode)&&(tt=O.call(r,tt,!0)),tt}let gt=Se?Y.outerHTML:Y.innerHTML;return Se&&U["!doctype"]&&Y.ownerDocument&&Y.ownerDocument.doctype&&Y.ownerDocument.doctype.name&&lt(Ag,Y.ownerDocument.doctype.name)&&(gt="<!DOCTYPE "+Y.ownerDocument.doctype.name+`>
`+gt),We&&Oi([M,ee,Q],Yt=>{gt=Ir(gt,Yt," ")}),S&&ve?S.createHTML(gt):gt},t.setConfig=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ea(ae),de=!0},t.clearConfig=function(){qn=null,de=!1},t.isValidAttribute=function(ae,T,Y){qn||ea({});const re=Ge(ae),je=Ge(T);return zl(re,je,Y)},t.addHook=function(ae,T){typeof T=="function"&&jr(G[ae],T)},t.removeHook=function(ae,T){if(T!==void 0){const Y=mw(G[ae],T);return Y===-1?void 0:bw(G[ae],Y,1)[0]}return Oc(G[ae])},t.removeHooks=function(ae){G[ae]=[]},t.removeAllHooks=function(){G=Pc()},t}var Rg=Og();const Dc=()=>l.jsx(_g,{children:l.jsx(Mw,{})}),Mw=()=>{var z,W,O,G;const{subjectId:e,topicId:t}=Id(),n=Km(),[r,i]=$.useState(!0),[s,a]=$.useState({}),{fontSize:o,lineHeight:c,focusMode:u}=Gs(),{subjects:d,loading:h}=Hs(),{aboutSettings:g}=qt(),f=d.find(M=>M.id===e),p=(z=f==null?void 0:f.modules)==null?void 0:z.find(M=>M.topics.some(ee=>ee.id===t)),m=(W=p==null?void 0:p.topics)==null?void 0:W.find(M=>M.id===t),b=(f==null?void 0:f.modules.flatMap(M=>M.topics))||[],y=b.findIndex(M=>M.id===t),_=[];if(y!==-1)for(let M=1;M<=2;M++)y+M<b.length&&_.push({id:b[y+M].id,title:b[y+M].title,subjectId:(f==null?void 0:f.id)||""});$.useEffect(()=>{p&&a(M=>({...M,[p.id]:!0}))},[p==null?void 0:p.id]),$.useEffect(()=>{if(!h&&f&&f.modules&&f.modules.length>0){const ee=f.modules[0];if(ee.topics&&ee.topics.length>0){const P=ee.topics[0].id,j=f.modules.some(C=>C.topics.some(R=>R.id===t));(!t||!j)&&n(`/learn/${f.id}/${P}`,{replace:!0})}}},[f,t,n,h]);const v=M=>{a(ee=>({...ee,[M]:!ee[M]}))};if(h)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})});if(!f)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Subject Not Found"});if(!m&&t)return null;const S=typeof(m==null?void 0:m.content)=="string",k={sm:"prose-sm",base:"prose-base",lg:"prose-lg",xl:"prose-xl"}[o],D={normal:"[&_*]:!leading-normal",relaxed:"[&_*]:!leading-relaxed",loose:"[&_*]:!leading-loose"}[c];return l.jsxs("div",{className:`flex min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300 ${u?"pt-0":"pt-16"}`,children:[l.jsx(wg,{}),l.jsx(kg,{}),!u&&l.jsx("div",{className:"lg:hidden fixed bottom-6 right-6 z-50",children:l.jsx("button",{onClick:()=>i(!r),className:"p-4 bg-indigo-600 text-white rounded-full shadow-xl hover:bg-indigo-700 transition-colors",children:r?l.jsx(Ht,{}):l.jsx(Po,{})})}),l.jsx(bn,{children:!u&&r&&l.jsx(ue.aside,{initial:{x:-320,opacity:0},animate:{x:0,opacity:1},exit:{x:-320,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:Ze("fixed lg:sticky top-16 h-[calc(100vh-4rem)] w-80 bg-gray-50/90 dark:bg-gray-900/90 backdrop-blur-xl border-r border-gray-200 dark:border-gray-800 overflow-y-auto z-40","lg:translate-x-0"),children:l.jsxs("div",{className:"p-6 pb-20 lg:pb-6",children:[l.jsxs(Ce,{to:"/",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-indigo-600 mb-8 transition-colors group",children:[l.jsx(Bo,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back to Bootcamp"]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${f.color} mb-4 shadow-lg`}),l.jsx("h2",{className:"font-bold text-gray-900 dark:text-white text-xl leading-tight",children:f.title})]}),l.jsx("div",{className:"space-y-2",children:f.modules.map((M,ee)=>l.jsxs("div",{className:"select-none",children:[l.jsxs("button",{onClick:()=>v(M.id),className:"flex items-center justify-between w-full text-left p-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 dark:bg-gray-800 text-xs font-bold text-gray-500 group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:ee+1}),l.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-200 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:M.title})]}),s[M.id]?l.jsx(um,{size:14,className:"text-gray-400"}):l.jsx(cs,{size:14,className:"text-gray-400"})]}),l.jsx(bn,{children:s[M.id]&&l.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:l.jsx("div",{className:"pl-4 pt-1 pb-2 space-y-1 border-l-2 border-gray-100 dark:border-gray-800 ml-6 mt-1",children:M.topics.map(Q=>l.jsxs(Ce,{to:`/learn/${f.id}/${Q.id}`,className:Ze("flex items-center gap-3 px-3 py-2 text-sm rounded-md transition-all relative group/link",t===Q.id?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 font-medium":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),onClick:()=>window.innerWidth<1024&&i(!1),children:[t===Q.id&&l.jsx(ue.div,{layoutId:"activeIndicator",className:"absolute left-0 w-0.5 h-full bg-indigo-600 rounded-full"}),l.jsx("span",{className:"truncate",children:Q.title}),t===Q.id&&l.jsx(ci,{size:14,className:"ml-auto flex-shrink-0"})]},Q.id))})})})]},M.id))})]})})}),l.jsxs("main",{className:Ze("flex-1 min-w-0 flex flex-col xl:flex-row transition-all duration-500",u?"max-w-5xl mx-auto pt-12":""),children:[l.jsxs("div",{className:"flex-1 px-6 py-10 lg:px-16 lg:py-12 w-full max-w-4xl mx-auto",children:[l.jsxs("nav",{className:"flex items-center text-sm text-gray-500 mb-8 overflow-x-auto whitespace-nowrap pb-2 scrollbar-none",children:[l.jsx(Ce,{to:"/",className:"hover:text-indigo-600 transition-colors",children:"Home"}),l.jsx(gr,{size:14,className:"mx-2 flex-shrink-0"}),l.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:f.title}),l.jsx(gr,{size:14,className:"mx-2 flex-shrink-0"}),l.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:m==null?void 0:m.title})]}),l.jsxs("article",{className:"max-w-none",children:[l.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10 pb-8 border-b border-gray-100 dark:border-gray-800",children:[l.jsx("div",{className:"flex items-center gap-2 mb-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-bold uppercase tracking-wide",children:p==null?void 0:p.title})}),l.jsx("h1",{className:"font-extrabold text-4xl md:text-5xl text-gray-900 dark:text-white mb-6 leading-tight tracking-tight",children:m==null?void 0:m.title}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[g.image?l.jsx("img",{src:g.image,alt:g.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-gray-100 dark:ring-gray-800"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500",children:l.jsx(us,{size:14})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white leading-none mb-0.5",children:g.name}),((O=g.socials)==null?void 0:O.email)&&l.jsxs("a",{href:g.socials.email,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:[l.jsx(Ls,{size:10})," ",g.socials.email.replace("mailto:","")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-medium bg-gray-50 dark:bg-gray-900 px-3 py-1.5 rounded-full",children:[l.jsx(kd,{size:16,className:"text-indigo-500"}),l.jsxs("span",{children:[(m==null?void 0:m.readTime)||"5 min"," read"]})]})]})]}),l.jsx("div",{className:"space-y-2",children:S?l.jsx("div",{className:Ze("prose dark:prose-invert max-w-none transition-all duration-300 text-gray-900 dark:text-gray-100",k,D,c==="loose"&&"[&_p]:mb-8",c==="relaxed"&&"[&_p]:mb-6","[&_*]:dark:text-gray-100 [&_strong]:dark:text-white [&_h1]:dark:text-white [&_h2]:dark:text-white [&_h3]:dark:text-white [&_h4]:dark:text-white [&_code]:dark:text-gray-200"),children:l.jsx("div",{dangerouslySetInnerHTML:{__html:Rg.sanitize(m==null?void 0:m.content)}})}):(G=m==null?void 0:m.content)==null?void 0:G.map((M,ee)=>l.jsx(Lw,{block:M,index:ee},ee))}),l.jsx(hw,{relatedTopics:_})]})]}),l.jsx(dw,{content:m==null?void 0:m.content,isRichContent:S})]})]})},Lw=({block:e,index:t})=>{const n=()=>{switch(e.type){case"heading":return l.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mt-16 mb-8 flex items-center gap-3 scroll-mt-24",id:`heading-${t}`,children:[l.jsx("span",{className:"w-1.5 h-8 bg-indigo-500 rounded-full"}),e.value]});case"code":return l.jsx(xg,{code:e.value,language:e.language,explanation:e.explanation});case"note":return l.jsx(uw,{type:"note",children:e.value});case"image":return l.jsx(Sg,{src:e.value,alt:"Topic Image",caption:e.caption});case"divider":return l.jsx(Ng,{});default:return l.jsx(Eg,{id:`p-${t}`,children:e.value})}};return l.jsx(n,{})},rs=[{id:"news-1",section:"news",title:"Paper Accepted at NeurIPS 2025",subtitle:"Conference",period:"Dec 2025",display_order:1,details:{}},{id:"news-2",section:"news",title:"Joined Google DeepMind as Research Intern",subtitle:"Career",period:"Summer 2025",display_order:2,details:{}},{id:"news-3",section:"news",title:"Won 1st Place at MIT Hackathon",subtitle:"Award",period:"Oct 2024",display_order:3,details:{}},{id:"news-4",section:"news",title:"Released v2.0 of AlgoVisualizer",subtitle:"Project",period:"Sep 2024",display_order:4,details:{}},{id:"res-1",section:"research",title:"Optimizing Large Language Models for Edge Devices",subtitle:"Graduate Researcher",organization:"AI Systems Lab, MIT",period:"Jan 2024 - Present",description:"Investigating quantization techniques to run 7B+ parameter models on consumer hardware with minimal accuracy loss. Developing a novel pruning algorithm that reduces memory footprint by 40%.",display_order:1,details:{status:"ongoing",advisor:"Dr. Alice Chen",team:["John Doe","Sarah Lee"],tags:["LLMs","Quantization","PyTorch"],links:{scholar:"#"}}},{id:"res-3",section:"research",title:"Autonomous Drone Navigation in Cluttered Environments",subtitle:"Research Assistant",organization:"Robotics Institute",period:"Sep 2023 - Present",description:"Developing reinforcement learning agents for drone navigation in unstructured environments. Focusing on sim-to-real transfer improvements.",display_order:2,details:{status:"ongoing",advisor:"Prof. Robert Wright",team:["Emily Zhang"],tags:["RL","Robotics","Python"],links:{}}},{id:"res-2",section:"research",title:"Distributed Graph Processing Framework",subtitle:"Undergraduate Researcher",organization:"Systems Group, Berkeley",period:"Jan 2023 - Dec 2023",description:"Designed a distributed graph processing engine capable of handling billion-edge graphs. Achieved 2x speedup over existing solutions by optimizing memory access patterns.",display_order:3,details:{status:"completed",advisor:"Prof. David Patterson",team:["Mike Ross"],tags:["C++","MPI","Distributed Systems"],links:{scholar:"https://scholar.google.com",github:"https://github.com",paper:"#"}}},{id:"proj-1",section:"project",title:"NeuroFlow",description:"A real-time brain-computer interface visualization tool. Processes EEG signals to visualize cognitive load in real-time using WebGL.",display_order:1,details:{type:"Industry",imageGradient:"from-pink-500 to-rose-500",tags:["React","WebGL","Python","WebSockets"],links:{github:"https://github.com",demo:"#"}}},{id:"proj-2",section:"project",title:"AlgoVisualizer",description:"Interactive platform for visualizing complex sorting and graph algorithms. Used by over 10,000 students worldwide.",display_order:2,details:{type:"Industry",imageGradient:"from-blue-500 to-cyan-500",tags:["TypeScript","D3.js","Next.js"],links:{github:"https://github.com"}}},{id:"proj-3",section:"project",title:"Mini-C Compiler",description:"Built a fully functional compiler for a subset of C language. Implemented lexical analysis, parsing, semantic analysis, and code generation.",display_order:3,details:{type:"Course",imageGradient:"from-emerald-500 to-teal-500",tags:["C++","LLVM","Bison"],links:{github:"https://github.com"}}},{id:"proj-4",section:"project",title:"Distributed Key-Value Store",description:"Implemented a fault-tolerant, sharded key-value store based on the Raft consensus algorithm.",display_order:4,details:{type:"Course",imageGradient:"from-orange-500 to-red-500",tags:["Go","Distributed Systems","Raft"],links:{github:"https://github.com"}}},{id:"exp-1",section:"experience",title:"Software Engineer Intern",organization:"Meta",period:"Summer 2024",description:"Optimized the React reconciliation algorithm for the main news feed, reducing TTI by 15%. Collaborated with the design system team to implement new accessibility primitives.",display_order:1,details:{}},{id:"exp-2",section:"experience",title:"Full Stack Developer",organization:"TechStart Inc.",period:"2022 - 2023",description:"Led the migration of a legacy monolithic application to a microservices architecture using Node.js and Kubernetes.",display_order:2,details:{}},{id:"edu-1",section:"education",title:"M.S. in Computer Science",subtitle:"Specialization in AI Systems",organization:"Stanford University",period:"2024 - 2026",description:"GPA: 4.0/4.0. Relevant Coursework: Advanced Distributed Systems, Deep Learning, Computer Vision.",display_order:1,details:{}},{id:"edu-2",section:"education",title:"B.S. in Computer Science",subtitle:"Minor in Mathematics",organization:"University of Waterloo",period:"2020 - 2024",description:"Dean's List all semesters. President of the Computer Science Club.",display_order:2,details:{}},{id:"hon-1",section:"honor",title:"ACM ICPC World Finalist",organization:"International Collegiate Programming Contest",period:"2023",display_order:1,details:{icon:"Trophy"}},{id:"hon-2",section:"honor",title:"Best Paper Award",organization:"IEEE CVPR 2024",period:"2024",display_order:2,details:{icon:"Award"}},{id:"lead-1",section:"leadership",title:"President",organization:"University CS Club",description:"Organized 5 hackathons with over 500 participants. Mentored 50+ junior students in career development.",display_order:1,details:{}},{id:"lead-2",section:"leadership",title:"Technical Lead",organization:"Open Source Initiative",description:"Led a team of 10 developers to contribute to major open source projects including React and TensorFlow.",display_order:2,details:{}}],Pw=()=>{const[e,t]=$.useState([]),[n,r]=$.useState(!0),i=async()=>{r(!0);try{if(!K){t(rs);return}const{data:a,error:o}=await K.from("portfolio_items").select("*").order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(o)throw o;!a||a.length===0?(console.log("Database empty, using mock portfolio data."),t(rs)):t(a)}catch(a){console.error("Error fetching portfolio:",a),t(rs)}finally{r(!1)}};return $.useEffect(()=>{i()},[]),{items:e,loading:n,refresh:i,getSection:a=>e.filter(o=>o.section===a)}},Dw=di.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),$w=xn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),zw=di.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",Ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Bw=di.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",Ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),Uw=e=>{if(!e.children.length)return;const t=e.querySelectorAll("span");t&&t.forEach(n=>{var r,i;const s=n.getAttribute("style"),a=(i=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${a};${s}`)})},Fw=di.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Uw(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Ct(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Hw=xn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Gw=xn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),qw=xn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize.replace(/['"]+/g,""),renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Ww=xn.create({name:"lineHeight",addOptions(){return{types:["paragraph","heading"],defaultLineHeight:"normal"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:this.options.defaultLineHeight,parseHTML:e=>e.style.lineHeight||this.options.defaultLineHeight,renderHTML:e=>e.lineHeight===this.options.defaultLineHeight?{}:{style:`line-height: ${e.lineHeight}`}}}}]},addCommands(){return{setLineHeight:e=>({commands:t})=>this.options.types.every(n=>t.updateAttributes(n,{lineHeight:e})),unsetLineHeight:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"lineHeight"))}}}),Kw=xn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new hi({key:new xr("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,o)=>{const c=r>=o&&r<=o+a.nodeSize,u=!a.isLeaf&&Jm(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const h=Yr.node(o,o+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:c}):this.options.placeholder});i.push(h)}return this.options.includeChildren}),Jr.create(e,i)}}})]}}),Vw=xn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new hi({key:new xr("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,o=0,c=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(o,c);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,c=s-r,u=o-c,d=o;return t.deleteRange(u,d),!(this.storage.characters({node:t.doc})>r)}})]}}),Yw=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,Jw=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,jg=e=>e.match(Yw),Xw=(e,t)=>t?"https://www.youtube-nocookie.com/embed/videoseries?list=":e?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",Zw=e=>e.searchParams.has("v")?{id:e.searchParams.get("v")}:e.hostname==="youtu.be"||e.pathname.includes("shorts")||e.pathname.includes("live")?{id:e.pathname.split("/").pop()}:e.searchParams.has("list")?{id:e.searchParams.get("list"),isPlaylist:!0}:null,Qw=e=>{var t;const{url:n,allowFullscreen:r,autoplay:i,ccLanguage:s,ccLoadPolicy:a,controls:o,disableKBcontrols:c,enableIFrameApi:u,endTime:d,interfaceLanguage:h,ivLoadPolicy:g,loop:f,modestBranding:p,nocookie:m,origin:b,playlist:y,progressBarColor:_,startAt:v,rel:S}=e;if(!jg(n))return null;if(n.includes("/embed/"))return n;const I=new URL(n),{id:k,isPlaylist:D}=(t=Zw(I))!==null&&t!==void 0?t:{};if(!k)return null;const z=new URL(`${Xw(m,D)}${k}`);return I.searchParams.has("t")&&z.searchParams.set("start",I.searchParams.get("t").replaceAll("s","")),r===!1&&z.searchParams.set("fs","0"),i&&z.searchParams.set("autoplay","1"),s&&z.searchParams.set("cc_lang_pref",s),a&&z.searchParams.set("cc_load_policy","1"),o||z.searchParams.set("controls","0"),c&&z.searchParams.set("disablekb","1"),u&&z.searchParams.set("enablejsapi","1"),d&&z.searchParams.set("end",d.toString()),h&&z.searchParams.set("hl",h),g&&z.searchParams.set("iv_load_policy",g.toString()),f&&z.searchParams.set("loop","1"),p&&z.searchParams.set("modestbranding","1"),b&&z.searchParams.set("origin",b),y&&z.searchParams.set("playlist",y),v&&z.searchParams.set("start",v.toString()),_&&z.searchParams.set("color",_),S!==void 0&&z.searchParams.set("rel",S.toString()),z.toString()},ev=Un.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:e=>({commands:t})=>jg(e.src)?t.insertContent({type:this.name,attrs:e}):!1}},addPasteRules(){return this.options.addPasteHandler?[Xm({find:Jw,type:this.type,getAttributes:e=>({src:e.input})})]:[]},renderHTML({HTMLAttributes:e}){const t=Qw({url:e.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:e.start||0,rel:this.options.rel});return e.src=t,["div",{"data-youtube-video":""},["iframe",Ct(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},e)]]}}),tv=e=>De({find:/--$/,replace:e??""}),nv=e=>De({find:/\.\.\.$/,replace:e??""}),rv=e=>De({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??""}),iv=e=>De({find:/"$/,replace:e??""}),sv=e=>De({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??""}),av=e=>De({find:/'$/,replace:e??""}),ov=e=>De({find:/<-$/,replace:e??""}),lv=e=>De({find:/->$/,replace:e??""}),cv=e=>De({find:/\(c\)$/,replace:e??""}),uv=e=>De({find:/\(tm\)$/,replace:e??""}),dv=e=>De({find:/\(sm\)$/,replace:e??""}),hv=e=>De({find:/\(r\)$/,replace:e??""}),gv=e=>De({find:/(?:^|\s)(1\/2)\s$/,replace:e??""}),fv=e=>De({find:/\+\/-$/,replace:e??""}),pv=e=>De({find:/!=$/,replace:e??""}),mv=e=>De({find:/<<$/,replace:e??""}),bv=e=>De({find:/>>$/,replace:e??""}),yv=e=>De({find:/\d+\s?([*x])\s?\d+$/,replace:e??""}),xv=e=>De({find:/\^2$/,replace:e??""}),wv=e=>De({find:/\^3$/,replace:e??""}),vv=e=>De({find:/(?:^|\s)(1\/4)\s$/,replace:e??""}),_v=e=>De({find:/(?:^|\s)(3\/4)\s$/,replace:e??""}),kv=xn.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push(tv(this.options.emDash)),this.options.ellipsis!==!1&&e.push(nv(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(rv(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(iv(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(sv(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(av(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(ov(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(lv(this.options.rightArrow)),this.options.copyright!==!1&&e.push(cv(this.options.copyright)),this.options.trademark!==!1&&e.push(uv(this.options.trademark)),this.options.servicemark!==!1&&e.push(dv(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push(hv(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(gv(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(fv(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(pv(this.options.notEqual)),this.options.laquo!==!1&&e.push(mv(this.options.laquo)),this.options.raquo!==!1&&e.push(bv(this.options.raquo)),this.options.multiplication!==!1&&e.push(yv(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(xv(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(wv(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(vv(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(_v(this.options.threeQuarters)),e}});function Ev(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ig(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&Ig(n)}),e}let $c=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function Mg(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function pn(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const Sv="</span>",zc=e=>!!e.scope,Nv=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};let Tv=class{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Mg(t)}openNode(t){if(!zc(t))return;const n=Nv(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){zc(t)&&(this.buffer+=Sv)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}};const Bc=(e={})=>{const t={children:[]};return Object.assign(t,e),t};let Cv=class Lg{constructor(){this.rootNode=Bc(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=Bc({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{Lg._collapse(n)}))}},Av=class extends Cv{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new Tv(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function ei(e){return e?typeof e=="string"?e:e.source:null}function Pg(e){return Fn("(?=",e,")")}function Ov(e){return Fn("(?:",e,")*")}function Rv(e){return Fn("(?:",e,")?")}function Fn(...e){return e.map(n=>ei(n)).join("")}function jv(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function il(...e){return"("+(jv(e).capture?"":"?:")+e.map(r=>ei(r)).join("|")+")"}function Dg(e){return new RegExp(e.toString()+"|").exec("").length-1}function Iv(e,t){const n=e&&e.exec(t);return n&&n.index===0}const Mv=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function sl(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let s=ei(r),a="";for(;s.length>0;){const o=Mv.exec(s);if(!o){a+=s;break}a+=s.substring(0,o.index),s=s.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?a+="\\"+String(Number(o[1])+i):(a+=o[0],o[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}const Lv=/\b\B/,$g="[a-zA-Z]\\w*",al="[a-zA-Z_]\\w*",zg="\\b\\d+(\\.\\d+)?",Bg="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Ug="\\b(0b[01]+)",Pv="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Dv=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Fn(t,/.*\b/,e.binary,/\b.*/)),pn({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},ti={begin:"\\\\[\\s\\S]",relevance:0},$v={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ti]},zv={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ti]},Bv={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},qs=function(e,t,n={}){const r=pn({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=il("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Fn(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},Uv=qs("//","$"),Fv=qs("/\\*","\\*/"),Hv=qs("#","$"),Gv={scope:"number",begin:zg,relevance:0},qv={scope:"number",begin:Bg,relevance:0},Wv={scope:"number",begin:Ug,relevance:0},Kv={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ti,{begin:/\[/,end:/\]/,relevance:0,contains:[ti]}]},Vv={scope:"title",begin:$g,relevance:0},Yv={scope:"title",begin:al,relevance:0},Jv={begin:"\\.\\s*"+al,relevance:0},Xv=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var ji=Object.freeze({__proto__:null,APOS_STRING_MODE:$v,BACKSLASH_ESCAPE:ti,BINARY_NUMBER_MODE:Wv,BINARY_NUMBER_RE:Ug,COMMENT:qs,C_BLOCK_COMMENT_MODE:Fv,C_LINE_COMMENT_MODE:Uv,C_NUMBER_MODE:qv,C_NUMBER_RE:Bg,END_SAME_AS_BEGIN:Xv,HASH_COMMENT_MODE:Hv,IDENT_RE:$g,MATCH_NOTHING_RE:Lv,METHOD_GUARD:Jv,NUMBER_MODE:Gv,NUMBER_RE:zg,PHRASAL_WORDS_MODE:Bv,QUOTE_STRING_MODE:zv,REGEXP_MODE:Kv,RE_STARTERS_RE:Pv,SHEBANG:Dv,TITLE_MODE:Vv,UNDERSCORE_IDENT_RE:al,UNDERSCORE_TITLE_MODE:Yv});function Zv(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Qv(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function e_(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Zv,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function t_(e,t){Array.isArray(e.illegal)&&(e.illegal=il(...e.illegal))}function n_(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function r_(e,t){e.relevance===void 0&&(e.relevance=1)}const i_=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Fn(n.beforeMatch,Pg(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},s_=["of","and","for","in","not","or","if","then","parent","list","value"],a_="keyword";function Fg(e,t,n=a_){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(s){Object.assign(r,Fg(e[s],t,s))}),r;function i(s,a){t&&(a=a.map(o=>o.toLowerCase())),a.forEach(function(o){const c=o.split("|");r[c[0]]=[s,o_(c[0],c[1])]})}}function o_(e,t){return t?Number(t):l_(e)?0:1}function l_(e){return s_.includes(e.toLowerCase())}const Uc={},Ln=e=>{console.error(e)},Fc=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Zn=(e,t)=>{Uc[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Uc[`${e}/${t}`]=!0)},Es=new Error;function Hg(e,t,{key:n}){let r=0;const i=e[n],s={},a={};for(let o=1;o<=t.length;o++)a[o+r]=i[o],s[o+r]=!0,r+=Dg(t[o-1]);e[n]=a,e[n]._emit=s,e[n]._multi=!0}function c_(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Ln("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Es;if(typeof e.beginScope!="object"||e.beginScope===null)throw Ln("beginScope must be object"),Es;Hg(e,e.begin,{key:"beginScope"}),e.begin=sl(e.begin,{joinWith:""})}}function u_(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Ln("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Es;if(typeof e.endScope!="object"||e.endScope===null)throw Ln("endScope must be object"),Es;Hg(e,e.end,{key:"endScope"}),e.end=sl(e.end,{joinWith:""})}}function d_(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function h_(e){d_(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),c_(e),u_(e)}function g_(e){function t(a,o){return new RegExp(ei(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,o]),this.matchAt+=Dg(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(c=>c[1]);this.matcherRe=t(sl(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(o);if(!c)return null;const u=c.findIndex((h,g)=>g>0&&h!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const c=new n;return this.rules.slice(o).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[o]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,c){this.rules.push([o,c]),c.type==="begin"&&this.count++}exec(o){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(o);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(o)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(a){const o=new r;return a.contains.forEach(c=>o.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&o.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&o.addRule(a.illegal,{type:"illegal"}),o}function s(a,o){const c=a;if(a.isCompiled)return c;[Qv,n_,h_,i_].forEach(d=>d(a,o)),e.compilerExtensions.forEach(d=>d(a,o)),a.__beforeBegin=null,[e_,t_,r_].forEach(d=>d(a,o)),a.isCompiled=!0;let u=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=Fg(a.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),o&&(a.begin||(a.begin=/\B|\b/),c.beginRe=t(c.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=t(c.end)),c.terminatorEnd=ei(c.end)||"",a.endsWithParent&&o.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(c.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return f_(d==="self"?a:d)})),a.contains.forEach(function(d){s(d,c)}),a.starts&&s(a.starts,o),c.matcher=i(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=pn(e.classNameAliases||{}),s(e)}function Gg(e){return e?e.endsWithParent||Gg(e.starts):!1}function f_(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return pn(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Gg(e)?pn(e,{starts:e.starts?pn(e.starts):null}):Object.isFrozen(e)?pn(e):e}var p_="11.10.0";let m_=class extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}};const wa=Mg,Hc=pn,Gc=Symbol("nomatch"),b_=7,qg=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Av};function c(C){return o.noHighlightRe.test(C)}function u(C){let R=C.className+" ";R+=C.parentNode?C.parentNode.className:"";const q=o.languageDetectRe.exec(R);if(q){const x=W(q[1]);return x||(Fc(s.replace("{}",q[1])),Fc("Falling back to no-highlight mode for this block.",C)),x?q[1]:"no-highlight"}return R.split(/\s+/).find(x=>c(x)||W(x))}function d(C,R,q){let x="",U="";typeof R=="object"?(x=C,q=R.ignoreIllegals,U=R.language):(Zn("10.7.0","highlight(lang, code, ...args) has been deprecated."),Zn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),U=C,x=R),q===void 0&&(q=!0);const B={code:x,language:U};P("before:highlight",B);const w=B.result?B.result:h(B.language,B.code,q);return w.code=B.code,P("after:highlight",w),w}function h(C,R,q,x){const U=Object.create(null);function B(E,L){return E.keywords[L]}function w(){if(!se.keywords){ce.addText(xe);return}let E=0;se.keywordPatternRe.lastIndex=0;let L=se.keywordPatternRe.exec(xe),H="";for(;L;){H+=xe.substring(E,L.index);const Z=de.case_insensitive?L[0].toLowerCase():L[0],he=B(se,Z);if(he){const[Le,qe]=he;if(ce.addText(H),H="",U[Z]=(U[Z]||0)+1,U[Z]<=b_&&(et+=qe),Le.startsWith("_"))H+=L[0];else{const Et=de.classNameAliases[Le]||Le;J(L[0],Et)}}else H+=L[0];E=se.keywordPatternRe.lastIndex,L=se.keywordPatternRe.exec(xe)}H+=xe.substring(E),ce.addText(H)}function A(){if(xe==="")return;let E=null;if(typeof se.subLanguage=="string"){if(!t[se.subLanguage]){ce.addText(xe);return}E=h(se.subLanguage,xe,!0,ve[se.subLanguage]),ve[se.subLanguage]=E._top}else E=f(xe,se.subLanguage.length?se.subLanguage:null);se.relevance>0&&(et+=E.relevance),ce.__addSublanguage(E._emitter,E.language)}function F(){se.subLanguage!=null?A():w(),xe=""}function J(E,L){E!==""&&(ce.startScope(L),ce.addText(E),ce.endScope())}function X(E,L){let H=1;const Z=L.length-1;for(;H<=Z;){if(!E._emit[H]){H++;continue}const he=de.classNameAliases[E[H]]||E[H],Le=L[H];he?J(Le,he):(xe=Le,w(),xe=""),H++}}function pe(E,L){return E.scope&&typeof E.scope=="string"&&ce.openNode(de.classNameAliases[E.scope]||E.scope),E.beginScope&&(E.beginScope._wrap?(J(xe,de.classNameAliases[E.beginScope._wrap]||E.beginScope._wrap),xe=""):E.beginScope._multi&&(X(E.beginScope,L),xe="")),se=Object.create(E,{parent:{value:se}}),se}function Oe(E,L,H){let Z=Iv(E.endRe,H);if(Z){if(E["on:end"]){const he=new $c(E);E["on:end"](L,he),he.isMatchIgnored&&(Z=!1)}if(Z){for(;E.endsParent&&E.parent;)E=E.parent;return E}}if(E.endsWithParent)return Oe(E.parent,L,H)}function Ee(E){return se.matcher.regexIndex===0?(xe+=E[0],1):(N=!0,0)}function $e(E){const L=E[0],H=E.rule,Z=new $c(H),he=[H.__beforeBegin,H["on:begin"]];for(const Le of he)if(Le&&(Le(E,Z),Z.isMatchIgnored))return Ee(L);return H.skip?xe+=L:(H.excludeBegin&&(xe+=L),F(),!H.returnBegin&&!H.excludeBegin&&(xe=L)),pe(H,E),H.returnBegin?0:L.length}function Me(E){const L=E[0],H=R.substring(E.index),Z=Oe(se,E,H);if(!Z)return Gc;const he=se;se.endScope&&se.endScope._wrap?(F(),J(L,se.endScope._wrap)):se.endScope&&se.endScope._multi?(F(),X(se.endScope,E)):he.skip?xe+=L:(he.returnEnd||he.excludeEnd||(xe+=L),F(),he.excludeEnd&&(xe=L));do se.scope&&ce.closeNode(),!se.skip&&!se.subLanguage&&(et+=se.relevance),se=se.parent;while(se!==Z.parent);return Z.starts&&pe(Z.starts,E),he.returnEnd?0:L.length}function We(){const E=[];for(let L=se;L!==de;L=L.parent)L.scope&&E.unshift(L.scope);E.forEach(L=>ce.openNode(L))}let Qe={};function Se(E,L){const H=L&&L[0];if(xe+=E,H==null)return F(),0;if(Qe.type==="begin"&&L.type==="end"&&Qe.index===L.index&&H===""){if(xe+=R.slice(L.index,L.index+1),!i){const Z=new Error(`0 width match regex (${C})`);throw Z.languageName=C,Z.badRule=Qe.rule,Z}return 1}if(Qe=L,L.type==="begin")return $e(L);if(L.type==="illegal"&&!q){const Z=new Error('Illegal lexeme "'+H+'" for mode "'+(se.scope||"<unnamed>")+'"');throw Z.mode=se,Z}else if(L.type==="end"){const Z=Me(L);if(Z!==Gc)return Z}if(L.type==="illegal"&&H==="")return 1;if(at>1e5&&at>L.index*3)throw new Error("potential infinite loop, way more iterations than matches");return xe+=H,H.length}const de=W(C);if(!de)throw Ln(s.replace("{}",C)),new Error('Unknown language: "'+C+'"');const Ke=g_(de);let ne="",se=x||Ke;const ve={},ce=new o.__emitter(o);We();let xe="",et=0,Ve=0,at=0,N=!1;try{if(de.__emitTokens)de.__emitTokens(R,ce);else{for(se.matcher.considerAll();;){at++,N?N=!1:se.matcher.considerAll(),se.matcher.lastIndex=Ve;const E=se.matcher.exec(R);if(!E)break;const L=R.substring(Ve,E.index),H=Se(L,E);Ve=E.index+H}Se(R.substring(Ve))}return ce.finalize(),ne=ce.toHTML(),{language:C,value:ne,relevance:et,illegal:!1,_emitter:ce,_top:se}}catch(E){if(E.message&&E.message.includes("Illegal"))return{language:C,value:wa(R),illegal:!0,relevance:0,_illegalBy:{message:E.message,index:Ve,context:R.slice(Ve-100,Ve+100),mode:E.mode,resultSoFar:ne},_emitter:ce};if(i)return{language:C,value:wa(R),illegal:!1,relevance:0,errorRaised:E,_emitter:ce,_top:se};throw E}}function g(C){const R={value:wa(C),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return R._emitter.addText(C),R}function f(C,R){R=R||o.languages||Object.keys(t);const q=g(C),x=R.filter(W).filter(G).map(F=>h(F,C,!1));x.unshift(q);const U=x.sort((F,J)=>{if(F.relevance!==J.relevance)return J.relevance-F.relevance;if(F.language&&J.language){if(W(F.language).supersetOf===J.language)return 1;if(W(J.language).supersetOf===F.language)return-1}return 0}),[B,w]=U,A=B;return A.secondBest=w,A}function p(C,R,q){const x=R&&n[R]||q;C.classList.add("hljs"),C.classList.add(`language-${x}`)}function m(C){let R=null;const q=u(C);if(c(q))return;if(P("before:highlightElement",{el:C,language:q}),C.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",C);return}if(C.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(C)),o.throwUnescapedHTML))throw new m_("One of your code blocks includes unescaped HTML.",C.innerHTML);R=C;const x=R.textContent,U=q?d(x,{language:q,ignoreIllegals:!0}):f(x);C.innerHTML=U.value,C.dataset.highlighted="yes",p(C,q,U.language),C.result={language:U.language,re:U.relevance,relevance:U.relevance},U.secondBest&&(C.secondBest={language:U.secondBest.language,relevance:U.secondBest.relevance}),P("after:highlightElement",{el:C,result:U,text:x})}function b(C){o=Hc(o,C)}const y=()=>{S(),Zn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function _(){S(),Zn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let v=!1;function S(){if(document.readyState==="loading"){v=!0;return}document.querySelectorAll(o.cssSelector).forEach(m)}function I(){v&&S()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",I,!1);function k(C,R){let q=null;try{q=R(e)}catch(x){if(Ln("Language definition for '{}' could not be registered.".replace("{}",C)),i)Ln(x);else throw x;q=a}q.name||(q.name=C),t[C]=q,q.rawDefinition=R.bind(null,e),q.aliases&&O(q.aliases,{languageName:C})}function D(C){delete t[C];for(const R of Object.keys(n))n[R]===C&&delete n[R]}function z(){return Object.keys(t)}function W(C){return C=(C||"").toLowerCase(),t[C]||t[n[C]]}function O(C,{languageName:R}){typeof C=="string"&&(C=[C]),C.forEach(q=>{n[q.toLowerCase()]=R})}function G(C){const R=W(C);return R&&!R.disableAutodetect}function M(C){C["before:highlightBlock"]&&!C["before:highlightElement"]&&(C["before:highlightElement"]=R=>{C["before:highlightBlock"](Object.assign({block:R.el},R))}),C["after:highlightBlock"]&&!C["after:highlightElement"]&&(C["after:highlightElement"]=R=>{C["after:highlightBlock"](Object.assign({block:R.el},R))})}function ee(C){M(C),r.push(C)}function Q(C){const R=r.indexOf(C);R!==-1&&r.splice(R,1)}function P(C,R){const q=C;r.forEach(function(x){x[q]&&x[q](R)})}function j(C){return Zn("10.7.0","highlightBlock will be removed entirely in v12.0"),Zn("10.7.0","Please use highlightElement now."),m(C)}Object.assign(e,{highlight:d,highlightAuto:f,highlightAll:S,highlightElement:m,highlightBlock:j,configure:b,initHighlighting:y,initHighlightingOnLoad:_,registerLanguage:k,unregisterLanguage:D,listLanguages:z,getLanguage:W,registerAliases:O,autoDetection:G,inherit:Hc,addPlugin:ee,removePlugin:Q}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=p_,e.regex={concat:Fn,lookahead:Pg,either:il,optional:Rv,anyNumberOfTimes:Ov};for(const C in ji)typeof ji[C]=="object"&&Ig(ji[C]);return Object.assign(e,ji),e},mr=qg({});mr.newInstance=()=>qg({});var y_=mr;mr.HighlightJS=mr;mr.default=mr;var x_=Ev(y_);function Wg(e,t=[]){return e.map(n=>{const r=[...t,...n.properties?n.properties.className:[]];return n.children?Wg(n.children,r):{text:n.value,classes:r}}).flat()}function qc(e){return e.value||e.children||[]}function w_(e){return!!x_.getLanguage(e)}function Wc({doc:e,name:t,lowlight:n,defaultLanguage:r}){const i=[];return Ga(e,s=>s.type.name===t).forEach(s=>{var a;let o=s.pos+1;const c=s.node.attrs.language||r,u=n.listLanguages(),d=c&&(u.includes(c)||w_(c)||!((a=n.registered)===null||a===void 0)&&a.call(n,c))?qc(n.highlight(c,s.node.textContent)):qc(n.highlightAuto(s.node.textContent));Wg(d).forEach(h=>{const g=o+h.text.length;if(h.classes.length){const f=Yr.inline(o,g,{class:h.classes.join(" ")});i.push(f)}o=g})}),Jr.create(e,i)}function v_(e){return typeof e=="function"}function __({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>v_(t[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new hi({key:new xr("lowlight"),state:{init:(i,{doc:s})=>Wc({doc:s,name:e,lowlight:t,defaultLanguage:n}),apply:(i,s,a,o)=>{const c=a.selection.$head.parent.type.name,u=o.selection.$head.parent.type.name,d=Ga(a.doc,g=>g.type.name===e),h=Ga(o.doc,g=>g.type.name===e);return i.docChanged&&([c,u].includes(e)||h.length!==d.length||i.steps.some(g=>g.from!==void 0&&g.to!==void 0&&d.some(f=>f.pos>=g.from&&f.pos+f.node.nodeSize<=g.to)))?Wc({doc:i.doc,name:e,lowlight:t,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}const k_=Zm.extend({addOptions(){var e;return{...(e=this.parent)===null||e===void 0?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...((e=this.parent)===null||e===void 0?void 0:e.call(this))||[],__({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});function E_(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},f=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],b=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],S={type:m,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:b},I={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},k=[I,h,o,n,e.C_BLOCK_COMMENT_MODE,d,u],D={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:S,contains:k.concat([{begin:/\(/,end:/\)/,keywords:S,contains:k.concat(["self"]),relevance:0}]),relevance:0},z={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:S,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:S,relevance:0},{begin:f,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:S,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(D,z,I,k,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:S,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:S},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function S_(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=E_(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function N_(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(o);const c={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],b=["true","false"],y={match:/(\/[a-z._-]+)+/},_=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],v=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],S=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],I=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:b,built_in:[..._,...v,"set","shopt",...S,...I]},contains:[f,e.SHEBANG(),p,h,s,a,y,o,c,u,d,n]}}function T_(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},f=t.optional(i)+e.IDENT_RE+"\\s*\\(",b={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[h,o,n,e.C_BLOCK_COMMENT_MODE,d,u],_={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:y.concat([{begin:/\(/,end:/\)/,keywords:b,contains:y.concat(["self"]),relevance:0}]),relevance:0},v={begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:b,relevance:0},{begin:f,returnBegin:!0,contains:[e.inherit(g,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:b,disableAutodetect:!0,illegal:"</",contains:[].concat(_,v,y,[h,{begin:e.IDENT_RE+"::",keywords:b},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:h,strings:u,keywords:b}}}function C_(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},g={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},f=t.optional(i)+e.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],m=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],b=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],S={type:m,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:b},I={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},k=[I,h,o,n,e.C_BLOCK_COMMENT_MODE,d,u],D={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:S,contains:k.concat([{begin:/\(/,end:/\)/,keywords:S,contains:k.concat(["self"]),relevance:0}]),relevance:0},z={className:"function",begin:"("+a+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:S,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:S,relevance:0},{begin:f,returnBegin:!0,contains:[g],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:S,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:S,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(D,z,I,k,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:S,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:S},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function A_(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:t,literal:r},o=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=e.inherit(d,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:a},f=e.inherit(g,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,f]},m={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},b=e.inherit(m,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});g.contains=[m,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.C_BLOCK_COMMENT_MODE],f.contains=[b,p,h,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[u,m,p,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},_={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},v=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",S={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,c,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,_,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,_,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+v+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,_],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[y,c,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},S]}}const O_=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),R_=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],j_=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],I_=[...R_,...j_],M_=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),L_=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),P_=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),D_=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $_(e){const t=e.regex,n=O_(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+L_.join("|")+")"},{begin:":(:)?("+P_.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+D_.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:M_.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+I_.join("|")+")\\b"}]}}function z_(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function B_(e){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function U_(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function F_(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},c=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,h=t.either(c,u,d),g=t.concat(h,"(\\s*\\.\\s*",h,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:g,className:"attr",starts:{end:/$/,contains:[r,o,s,i,a,n]}}]}}var ir="[0-9](_*[0-9])*",Ii=`\\.(${ir})`,Mi="[0-9a-fA-F](_*[0-9a-fA-F])*",Kc={className:"number",variants:[{begin:`(\\b(${ir})((${Ii})|\\.)?|(${Ii}))[eE][+-]?(${ir})[fFdD]?\\b`},{begin:`\\b(${ir})((${Ii})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ii})[fFdD]?\\b`},{begin:`\\b(${ir})[fFdD]\\b`},{begin:`\\b0[xX]((${Mi})\\.?|(${Mi})?\\.(${Mi}))[pP][+-]?(${ir})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Mi})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Kg(e,t,n){return n===-1?"":e.replace(t,r=>Kg(e,t,n-1))}function H_(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+Kg("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),c={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:c,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:c,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:c,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Kc,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Kc,u]}}const Vc="[A-Za-z$_][0-9A-Za-z$_]*",G_=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],q_=["true","false","null","undefined","NaN","Infinity"],Vg=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Yg=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Jg=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],W_=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],K_=[].concat(Jg,Vg,Yg);function V_(e){const t=e.regex,n=(R,{after:q})=>{const x="</"+R[0].slice(1);return R.input.indexOf(x,q)!==-1},r=Vc,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(R,q)=>{const x=R[0].length+R.index,U=R.input[x];if(U==="<"||U===","){q.ignoreMatch();return}U===">"&&(n(R,{after:x})||q.ignoreMatch());let B;const w=R.input.substring(x);if(B=w.match(/^\s*=/)){q.ignoreMatch();return}if((B=w.match(/^\s+extends\s+/))&&B.index===0){q.ignoreMatch();return}}},o={$pattern:Vc,keyword:G_,literal:q_,built_in:K_,"variable.language":W_},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},_={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,b,{match:/\$\d+/},h];g.contains=v.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(v)});const S=[].concat(_,g.contains),I=S.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(S)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:I},D={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Vg,...Yg]}},W={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},G={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(R){return t.concat("(?!",R.join("|"),")")}const ee={match:t.concat(/\b/,M([...Jg,"super","import"].map(R=>`${R}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},Q={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},P={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},j="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",C={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(j)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:I,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),W,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,b,_,{match:/\$\d+/},h,z,{scope:"attr",match:r+t.lookahead(":"),relevance:0},C,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,e.REGEXP_MODE,{className:"function",begin:j,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:I}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},Q,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},ee,G,D,P,{match:/\$[(.]/}]}}function Y_(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var sr="[0-9](_*[0-9])*",Li=`\\.(${sr})`,Pi="[0-9a-fA-F](_*[0-9a-fA-F])*",J_={className:"number",variants:[{begin:`(\\b(${sr})((${Li})|\\.)?|(${Li}))[eE][+-]?(${sr})[fFdD]?\\b`},{begin:`\\b(${sr})((${Li})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Li})[fFdD]?\\b`},{begin:`\\b(${sr})[fFdD]\\b`},{begin:`\\b0[xX]((${Pi})\\.?|(${Pi})?\\.(${Pi}))[pP][+-]?(${sr})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Pi})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function X_(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},c={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},u=J_,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},g=h;return g.variants[1].contains=[h],h.variants[1].contains=[g],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,r,o,c,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,o,c,a,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,c]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const Z_=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Q_=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ek=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],tk=[...Q_,...ek],nk=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Xg=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Zg=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),rk=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),ik=Xg.concat(Zg).sort().reverse();function sk(e){const t=Z_(e),n=ik,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],o=[],c=function(v){return{className:"string",begin:"~?"+v+".*?"+v}},u=function(v,S,I){return{className:v,begin:S,relevance:I}},d={$pattern:/[a-z-]+/,keyword:r,attribute:nk.join(" ")},h={begin:"\\(",end:"\\)",contains:o,keywords:d,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c("'"),c('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,h,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const g=o.concat({begin:/\{/,end:/\}/,contains:a}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},p={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+rk.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},m={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:o,relevance:0}},b={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:g}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+tk.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Xg.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Zg.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:g},{begin:"!important"},t.FUNCTION_DISPATCH]},_={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[y]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,m,b,_,p,y,f,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function ak(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function ok(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,s,a]}}function lk(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,c={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=e.inherit(u,{contains:[]}),g=e.inherit(d,{contains:[]});u.contains.push(g),d.contains.push(h);let f=[n,c];return[u,d,h,g].forEach(y=>{y.contains=y.contains.concat(f)}),f=f.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,r,c,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function ck(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},c={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+c.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:c,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function uk(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},c={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,s,c],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],g=(m,b,y="\\1")=>{const _=y==="\\1"?y:t.concat(y,b);return t.concat(t.concat("(?:",m,")"),b,/(?:\\.|[^\\\/])*?/,_,/(?:\\.|[^\\\/])*?/,y,r)},f=(m,b,y)=>t.concat(t.concat("(?:",m,")"),b,/(?:\\.|[^\\\/])*?/,y,r),p=[c,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:g("s|tr|y",t.either(...h,{capture:!0}))},{begin:g("s|tr|y","\\(","\\)")},{begin:g("s|tr|y","\\[","\\]")},{begin:g("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:f("(?:m|qr)?",/\//,/\//)},{begin:f("m|qr",t.either(...h,{capture:!0}),/\1/)},{begin:f("m|qr",/\(/,/\)/)},{begin:f("m|qr",/\[/,/\]/)},{begin:f("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=p,a.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function dk(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=t.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},c={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(c)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(c),"on:begin":(Q,P)=>{P.data._beginMatch=Q[1]||Q[2]},"on:end":(Q,P)=>{P.data._beginMatch!==Q[1]&&P.ignoreMatch()}},g=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,p={scope:"string",variants:[d,u,h,g]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},b=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],_=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],S={keyword:y,literal:(Q=>{const P=[];return Q.forEach(j=>{P.push(j),j.toLowerCase()===j?P.push(j.toUpperCase()):P.push(j.toLowerCase())}),P})(b),built_in:_},I=Q=>Q.map(P=>P.replace(/\|\d+$/,"")),k={variants:[{match:[/new/,t.concat(f,"+"),t.concat("(?!",I(_).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},D=t.concat(r,"\\b(?!\\()"),z={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),D],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),D],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},W={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},O={relevance:0,begin:/\(/,end:/\)/,keywords:S,contains:[W,a,z,e.C_BLOCK_COMMENT_MODE,p,m,k]},G={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",I(y).join("\\b|"),"|",I(_).join("\\b|"),"\\b)"),r,t.concat(f,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[O]};O.contains.push(G);const M=[W,z,e.C_BLOCK_COMMENT_MODE,p,m,k],ee={begin:t.concat(/#\[\s*\\?/,t.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:b,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:b,keyword:["new","array"]},contains:["self",...M]},...M,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:S,contains:[ee,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,G,z,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},k,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:S,contains:["self",ee,a,z,e.C_BLOCK_COMMENT_MODE,p,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},p,m]}}function hk(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function gk(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function fk(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,c,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",f=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,p=`\\b|${r.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${f}))[eE][+-]?(${g})[jJ]?(?=${p})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${g})[jJ](?=${p})`}]},b={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",c,m,h,e.HASH_COMMENT_MODE]}]};return u.contains=[h,m,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[c,m,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,b,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,y,h]}]}}function pk(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function mk(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function bk(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},c={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},h={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},g="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${g})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},m={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},k=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[m]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(c,u),relevance:0}].concat(c,u);d.contains=k,m.contains=k;const O=[{begin:/^\s*=>/,starts:{end:"$",contains:k}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:k}}];return u.unshift(c),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(O).concat(u).concat(k)}}function yk(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],c=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:o,literal:c,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},s]}}const xk=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),wk=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],vk=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],_k=[...wk,...vk],kk=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ek=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Sk=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Nk=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Tk(e){const t=xk(e),n=Sk,r=Ek,i="@[a-z-]+",s="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+_k.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Nk.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:kk.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function Ck(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Ak(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=d,p=[...u,...c].filter(I=>!d.includes(I)),m={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},b={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function _(I){return t.concat(/\b/,t.either(...I.map(k=>k.replace(/\s+/,"\\s+"))),/\b/)}const v={scope:"keyword",match:_(g),relevance:0};function S(I,{exceptions:k,when:D}={}){const z=D;return k=k||[],I.map(W=>W.match(/\|\d+$/)||k.includes(W)?W:z(W)?`${W}|0`:W)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:S(p,{when:I=>I.length<3}),literal:s,type:o,built_in:h},contains:[{scope:"type",match:_(a)},v,y,m,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,b]}}function Qg(e){return e?typeof e=="string"?e:e.source:null}function Dr(e){return _e("(?=",e,")")}function _e(...e){return e.map(n=>Qg(n)).join("")}function Ok(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function ct(...e){return"("+(Ok(e).capture?"":"?:")+e.map(r=>Qg(r)).join("|")+")"}const ol=e=>_e(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Rk=["Protocol","Type"].map(ol),Yc=["init","self"].map(ol),jk=["Any","Self"],va=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Jc=["false","nil","true"],Ik=["assignment","associativity","higherThan","left","lowerThan","none","right"],Mk=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Xc=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ef=ct(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),tf=ct(ef,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),_a=_e(ef,tf,"*"),nf=ct(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Ss=ct(nf,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),zt=_e(nf,Ss,"*"),Di=_e(/[A-Z]/,Ss,"*"),Lk=["attached","autoclosure",_e(/convention\(/,ct("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",_e(/objc\(/,zt,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],Pk=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Dk(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,ct(...Rk,...Yc)],className:{2:"keyword"}},s={match:_e(/\./,ct(...va)),relevance:0},a=va.filter(de=>typeof de=="string").concat(["_|0"]),o=va.filter(de=>typeof de!="string").concat(jk).map(ol),c={variants:[{className:"keyword",match:ct(...o,...Yc)}]},u={$pattern:ct(/\b\w+/,/#\w+/),keyword:a.concat(Mk),literal:Jc},d=[i,s,c],h={match:_e(/\./,ct(...Xc)),relevance:0},g={className:"built_in",match:_e(/\b/,ct(...Xc),/(?=\()/)},f=[h,g],p={match:/->/,relevance:0},m={className:"operator",relevance:0,variants:[{match:_a},{match:`\\.(\\.|${tf})+`}]},b=[p,m],y="([0-9]_*)+",_="([0-9a-fA-F]_*)+",v={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${_})(\\.(${_}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},S=(de="")=>({className:"subst",variants:[{match:_e(/\\/,de,/[0\\tnr"']/)},{match:_e(/\\/,de,/u\{[0-9a-fA-F]{1,8}\}/)}]}),I=(de="")=>({className:"subst",match:_e(/\\/,de,/[\t ]*(?:[\r\n]|\r\n)/)}),k=(de="")=>({className:"subst",label:"interpol",begin:_e(/\\/,de,/\(/),end:/\)/}),D=(de="")=>({begin:_e(de,/"""/),end:_e(/"""/,de),contains:[S(de),I(de),k(de)]}),z=(de="")=>({begin:_e(de,/"/),end:_e(/"/,de),contains:[S(de),k(de)]}),W={className:"string",variants:[D(),D("#"),D("##"),D("###"),z(),z("#"),z("##"),z("###")]},O=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],G={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:O},M=de=>{const Ke=_e(de,/\//),ne=_e(/\//,de);return{begin:Ke,end:ne,contains:[...O,{scope:"comment",begin:`#(?!.*${ne})`,end:/$/}]}},ee={scope:"regexp",variants:[M("###"),M("##"),M("#"),G]},Q={match:_e(/`/,zt,/`/)},P={className:"variable",match:/\$\d+/},j={className:"variable",match:`\\$${Ss}+`},C=[Q,P,j],R={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Pk,contains:[...b,v,W]}]}},q={scope:"keyword",match:_e(/@/,ct(...Lk),Dr(ct(/\(/,/\s+/)))},x={scope:"meta",match:_e(/@/,zt)},U=[R,q,x],B={match:Dr(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:_e(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Ss,"+")},{className:"type",match:Di,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:_e(/\s+&\s+/,Dr(Di)),relevance:0}]},w={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...U,p,B]};B.contains.push(w);const A={match:_e(zt,/\s*:/),keywords:"_|0",relevance:0},F={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",A,...r,ee,...d,...f,...b,v,W,...C,...U,B]},J={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,B]},X={begin:ct(Dr(_e(zt,/\s*:/)),Dr(_e(zt,/\s+/,zt,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:zt}]},pe={begin:/\(/,end:/\)/,keywords:u,contains:[X,...r,...d,...b,v,W,...U,B,F],endsParent:!0,illegal:/["']/},Oe={match:[/(func|macro)/,/\s+/,ct(Q.match,zt,_a)],className:{1:"keyword",3:"title.function"},contains:[J,pe,t],illegal:[/\[/,/%/]},Ee={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[J,pe,t],illegal:/\[|%/},$e={match:[/operator/,/\s+/,_a],className:{1:"keyword",3:"title"}},Me={begin:[/precedencegroup/,/\s+/,Di],className:{1:"keyword",3:"title"},contains:[B],keywords:[...Ik,...Jc],end:/}/},We={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Qe={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Se={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,zt,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[J,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:Di},...d],relevance:0}]};for(const de of W.variants){const Ke=de.contains.find(se=>se.label==="interpol");Ke.keywords=u;const ne=[...d,...f,...b,v,W,...C];Ke.contains=[...ne,{begin:/\(/,end:/\)/,contains:["self",...ne]}]}return{name:"Swift",keywords:u,contains:[...r,Oe,Ee,We,Qe,Se,$e,Me,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},ee,...d,...f,...b,v,W,...C,...U,B,F]}}const Ns="[A-Za-z$_][0-9A-Za-z$_]*",rf=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],sf=["true","false","null","undefined","NaN","Infinity"],af=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],of=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],lf=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],cf=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],uf=[].concat(lf,af,of);function $k(e){const t=e.regex,n=(R,{after:q})=>{const x="</"+R[0].slice(1);return R.input.indexOf(x,q)!==-1},r=Ns,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(R,q)=>{const x=R[0].length+R.index,U=R.input[x];if(U==="<"||U===","){q.ignoreMatch();return}U===">"&&(n(R,{after:x})||q.ignoreMatch());let B;const w=R.input.substring(x);if(B=w.match(/^\s*=/)){q.ignoreMatch();return}if((B=w.match(/^\s+extends\s+/))&&B.index===0){q.ignoreMatch();return}}},o={$pattern:Ns,keyword:rf,literal:sf,built_in:uf,"variable.language":cf},c="[0-9](_?[0-9])*",u=`\\.(${c})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${c})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},m={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},b={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},_={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},v=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,b,{match:/\$\d+/},h];g.contains=v.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(v)});const S=[].concat(_,g.contains),I=S.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(S)}]),k={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:I},D={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...af,...of]}},W={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},G={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function M(R){return t.concat("(?!",R.join("|"),")")}const ee={match:t.concat(/\b/,M([...lf,"super","import"].map(R=>`${R}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},Q={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},P={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},j="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",C={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(j)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:I,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),W,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,b,_,{match:/\$\d+/},h,z,{scope:"attr",match:r+t.lookahead(":"),relevance:0},C,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[_,e.REGEXP_MODE,{className:"function",begin:j,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:I}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},Q,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},ee,G,D,P,{match:/\$[(.]/}]}}function zk(e){const t=e.regex,n=$k(e),r=Ns,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},c=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:Ns,keyword:rf.concat(c),literal:sf,built_in:uf.concat(i),"variable.language":cf},d={className:"meta",begin:"@"+r},h=(m,b,y)=>{const _=m.contains.findIndex(v=>v.label===b);if(_===-1)throw new Error("can not find mode to replace");m.contains.splice(_,1,y)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const g=n.contains.find(m=>m.scope==="attr"),f=Object.assign({},g,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,g,f]),n.contains=n.contains.concat([d,s,a,f]),h(n,"shebang",e.SHEBANG()),h(n,"use_strict",o);const p=n.contains.find(m=>m.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function Bk(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,c={className:"literal",variants:[{begin:t.concat(/# */,t.either(s,i),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(s,i),/ +/,t.either(a,o),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),g=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,c,u,d,h,g,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[g]}]}}function Uk(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},c={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,e.QUOTE_STRING_MODE,c,u,o]}}function Fk(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(s,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),c=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,c,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,c,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[c]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Hk(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},o=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),g={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},p={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},m={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},b=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},g,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},p,m,s,a],y=[...b];return y.pop(),y.push(o),f.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:b}}const Gk={arduino:S_,bash:N_,c:T_,cpp:C_,csharp:A_,css:$_,diff:z_,go:B_,graphql:U_,ini:F_,java:H_,javascript:V_,json:Y_,kotlin:X_,less:sk,lua:ak,makefile:ok,markdown:lk,objectivec:ck,perl:uk,php:dk,"php-template":hk,plaintext:gk,python:fk,"python-repl":pk,r:mk,ruby:bk,rust:yk,scss:Tk,shell:Ck,sql:Ak,swift:Dk,typescript:zk,vbnet:Bk,wasm:Uk,xml:Fk,yaml:Hk};function df(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&df(n)}),e}let Zc=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function hf(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function mn(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const qk="</span>",Qc=e=>!!e.scope,Wk=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class Kk{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=hf(t)}openNode(t){if(!Qc(t))return;const n=Wk(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){Qc(t)&&(this.buffer+=qk)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const eu=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class ll{constructor(){this.rootNode=eu(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=eu({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{ll._collapse(n)}))}}class Vk extends ll{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new Kk(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function ni(e){return e?typeof e=="string"?e:e.source:null}function gf(e){return Hn("(?=",e,")")}function Yk(e){return Hn("(?:",e,")*")}function Jk(e){return Hn("(?:",e,")?")}function Hn(...e){return e.map(n=>ni(n)).join("")}function Xk(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function cl(...e){return"("+(Xk(e).capture?"":"?:")+e.map(r=>ni(r)).join("|")+")"}function ff(e){return new RegExp(e.toString()+"|").exec("").length-1}function Zk(e,t){const n=e&&e.exec(t);return n&&n.index===0}const Qk=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ul(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let s=ni(r),a="";for(;s.length>0;){const o=Qk.exec(s);if(!o){a+=s;break}a+=s.substring(0,o.index),s=s.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?a+="\\"+String(Number(o[1])+i):(a+=o[0],o[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}const eE=/\b\B/,pf="[a-zA-Z]\\w*",dl="[a-zA-Z_]\\w*",mf="\\b\\d+(\\.\\d+)?",bf="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",yf="\\b(0b[01]+)",tE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",nE=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Hn(t,/.*\b/,e.binary,/\b.*/)),mn({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},ri={begin:"\\\\[\\s\\S]",relevance:0},rE={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ri]},iE={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ri]},sE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ws=function(e,t,n={}){const r=mn({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=cl("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Hn(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},aE=Ws("//","$"),oE=Ws("/\\*","\\*/"),lE=Ws("#","$"),cE={scope:"number",begin:mf,relevance:0},uE={scope:"number",begin:bf,relevance:0},dE={scope:"number",begin:yf,relevance:0},hE={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ri,{begin:/\[/,end:/\]/,relevance:0,contains:[ri]}]},gE={scope:"title",begin:pf,relevance:0},fE={scope:"title",begin:dl,relevance:0},pE={begin:"\\.\\s*"+dl,relevance:0},mE=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var $i=Object.freeze({__proto__:null,APOS_STRING_MODE:rE,BACKSLASH_ESCAPE:ri,BINARY_NUMBER_MODE:dE,BINARY_NUMBER_RE:yf,COMMENT:Ws,C_BLOCK_COMMENT_MODE:oE,C_LINE_COMMENT_MODE:aE,C_NUMBER_MODE:uE,C_NUMBER_RE:bf,END_SAME_AS_BEGIN:mE,HASH_COMMENT_MODE:lE,IDENT_RE:pf,MATCH_NOTHING_RE:eE,METHOD_GUARD:pE,NUMBER_MODE:cE,NUMBER_RE:mf,PHRASAL_WORDS_MODE:sE,QUOTE_STRING_MODE:iE,REGEXP_MODE:hE,RE_STARTERS_RE:tE,SHEBANG:nE,TITLE_MODE:gE,UNDERSCORE_IDENT_RE:dl,UNDERSCORE_TITLE_MODE:fE});function bE(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function yE(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function xE(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=bE,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function wE(e,t){Array.isArray(e.illegal)&&(e.illegal=cl(...e.illegal))}function vE(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function _E(e,t){e.relevance===void 0&&(e.relevance=1)}const kE=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Hn(n.beforeMatch,gf(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},EE=["of","and","for","in","not","or","if","then","parent","list","value"],SE="keyword";function xf(e,t,n=SE){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(s){Object.assign(r,xf(e[s],t,s))}),r;function i(s,a){t&&(a=a.map(o=>o.toLowerCase())),a.forEach(function(o){const c=o.split("|");r[c[0]]=[s,NE(c[0],c[1])]})}}function NE(e,t){return t?Number(t):TE(e)?0:1}function TE(e){return EE.includes(e.toLowerCase())}const tu={},Pn=e=>{console.error(e)},nu=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Qn=(e,t)=>{tu[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),tu[`${e}/${t}`]=!0)},Ts=new Error;function wf(e,t,{key:n}){let r=0;const i=e[n],s={},a={};for(let o=1;o<=t.length;o++)a[o+r]=i[o],s[o+r]=!0,r+=ff(t[o-1]);e[n]=a,e[n]._emit=s,e[n]._multi=!0}function CE(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Pn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ts;if(typeof e.beginScope!="object"||e.beginScope===null)throw Pn("beginScope must be object"),Ts;wf(e,e.begin,{key:"beginScope"}),e.begin=ul(e.begin,{joinWith:""})}}function AE(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Pn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ts;if(typeof e.endScope!="object"||e.endScope===null)throw Pn("endScope must be object"),Ts;wf(e,e.end,{key:"endScope"}),e.end=ul(e.end,{joinWith:""})}}function OE(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function RE(e){OE(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),CE(e),AE(e)}function jE(e){function t(a,o){return new RegExp(ni(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,c){c.position=this.position++,this.matchIndexes[this.matchAt]=c,this.regexes.push([c,o]),this.matchAt+=ff(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(c=>c[1]);this.matcherRe=t(ul(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const c=this.matcherRe.exec(o);if(!c)return null;const u=c.findIndex((h,g)=>g>0&&h!==void 0),d=this.matchIndexes[u];return c.splice(0,u),Object.assign(c,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const c=new n;return this.rules.slice(o).forEach(([u,d])=>c.addRule(u,d)),c.compile(),this.multiRegexes[o]=c,c}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,c){this.rules.push([o,c]),c.type==="begin"&&this.count++}exec(o){const c=this.getMatcher(this.regexIndex);c.lastIndex=this.lastIndex;let u=c.exec(o);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(o)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(a){const o=new r;return a.contains.forEach(c=>o.addRule(c.begin,{rule:c,type:"begin"})),a.terminatorEnd&&o.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&o.addRule(a.illegal,{type:"illegal"}),o}function s(a,o){const c=a;if(a.isCompiled)return c;[yE,vE,RE,kE].forEach(d=>d(a,o)),e.compilerExtensions.forEach(d=>d(a,o)),a.__beforeBegin=null,[xE,wE,_E].forEach(d=>d(a,o)),a.isCompiled=!0;let u=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=xf(a.keywords,e.case_insensitive)),c.keywordPatternRe=t(u,!0),o&&(a.begin||(a.begin=/\B|\b/),c.beginRe=t(c.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(c.endRe=t(c.end)),c.terminatorEnd=ni(c.end)||"",a.endsWithParent&&o.terminatorEnd&&(c.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(c.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return IE(d==="self"?a:d)})),a.contains.forEach(function(d){s(d,c)}),a.starts&&s(a.starts,o),c.matcher=i(c),c}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=mn(e.classNameAliases||{}),s(e)}function vf(e){return e?e.endsWithParent||vf(e.starts):!1}function IE(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return mn(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:vf(e)?mn(e,{starts:e.starts?mn(e.starts):null}):Object.isFrozen(e)?mn(e):e}var ME="11.11.1";class LE extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const ka=hf,ru=mn,iu=Symbol("nomatch"),PE=7,_f=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Vk};function c(j){return o.noHighlightRe.test(j)}function u(j){let C=j.className+" ";C+=j.parentNode?j.parentNode.className:"";const R=o.languageDetectRe.exec(C);if(R){const q=z(R[1]);return q||(nu(s.replace("{}",R[1])),nu("Falling back to no-highlight mode for this block.",j)),q?R[1]:"no-highlight"}return C.split(/\s+/).find(q=>c(q)||z(q))}function d(j,C,R){let q="",x="";typeof C=="object"?(q=j,R=C.ignoreIllegals,x=C.language):(Qn("10.7.0","highlight(lang, code, ...args) has been deprecated."),Qn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),x=j,q=C),R===void 0&&(R=!0);const U={code:q,language:x};Q("before:highlight",U);const B=U.result?U.result:h(U.language,U.code,R);return B.code=U.code,Q("after:highlight",B),B}function h(j,C,R,q){const x=Object.create(null);function U(N,E){return N.keywords[E]}function B(){if(!ne.keywords){ve.addText(ce);return}let N=0;ne.keywordPatternRe.lastIndex=0;let E=ne.keywordPatternRe.exec(ce),L="";for(;E;){L+=ce.substring(N,E.index);const H=Se.case_insensitive?E[0].toLowerCase():E[0],Z=U(ne,H);if(Z){const[he,Le]=Z;if(ve.addText(L),L="",x[H]=(x[H]||0)+1,x[H]<=PE&&(xe+=Le),he.startsWith("_"))L+=E[0];else{const qe=Se.classNameAliases[he]||he;F(E[0],qe)}}else L+=E[0];N=ne.keywordPatternRe.lastIndex,E=ne.keywordPatternRe.exec(ce)}L+=ce.substring(N),ve.addText(L)}function w(){if(ce==="")return;let N=null;if(typeof ne.subLanguage=="string"){if(!t[ne.subLanguage]){ve.addText(ce);return}N=h(ne.subLanguage,ce,!0,se[ne.subLanguage]),se[ne.subLanguage]=N._top}else N=f(ce,ne.subLanguage.length?ne.subLanguage:null);ne.relevance>0&&(xe+=N.relevance),ve.__addSublanguage(N._emitter,N.language)}function A(){ne.subLanguage!=null?w():B(),ce=""}function F(N,E){N!==""&&(ve.startScope(E),ve.addText(N),ve.endScope())}function J(N,E){let L=1;const H=E.length-1;for(;L<=H;){if(!N._emit[L]){L++;continue}const Z=Se.classNameAliases[N[L]]||N[L],he=E[L];Z?F(he,Z):(ce=he,B(),ce=""),L++}}function X(N,E){return N.scope&&typeof N.scope=="string"&&ve.openNode(Se.classNameAliases[N.scope]||N.scope),N.beginScope&&(N.beginScope._wrap?(F(ce,Se.classNameAliases[N.beginScope._wrap]||N.beginScope._wrap),ce=""):N.beginScope._multi&&(J(N.beginScope,E),ce="")),ne=Object.create(N,{parent:{value:ne}}),ne}function pe(N,E,L){let H=Zk(N.endRe,L);if(H){if(N["on:end"]){const Z=new Zc(N);N["on:end"](E,Z),Z.isMatchIgnored&&(H=!1)}if(H){for(;N.endsParent&&N.parent;)N=N.parent;return N}}if(N.endsWithParent)return pe(N.parent,E,L)}function Oe(N){return ne.matcher.regexIndex===0?(ce+=N[0],1):(at=!0,0)}function Ee(N){const E=N[0],L=N.rule,H=new Zc(L),Z=[L.__beforeBegin,L["on:begin"]];for(const he of Z)if(he&&(he(N,H),H.isMatchIgnored))return Oe(E);return L.skip?ce+=E:(L.excludeBegin&&(ce+=E),A(),!L.returnBegin&&!L.excludeBegin&&(ce=E)),X(L,N),L.returnBegin?0:E.length}function $e(N){const E=N[0],L=C.substring(N.index),H=pe(ne,N,L);if(!H)return iu;const Z=ne;ne.endScope&&ne.endScope._wrap?(A(),F(E,ne.endScope._wrap)):ne.endScope&&ne.endScope._multi?(A(),J(ne.endScope,N)):Z.skip?ce+=E:(Z.returnEnd||Z.excludeEnd||(ce+=E),A(),Z.excludeEnd&&(ce=E));do ne.scope&&ve.closeNode(),!ne.skip&&!ne.subLanguage&&(xe+=ne.relevance),ne=ne.parent;while(ne!==H.parent);return H.starts&&X(H.starts,N),Z.returnEnd?0:E.length}function Me(){const N=[];for(let E=ne;E!==Se;E=E.parent)E.scope&&N.unshift(E.scope);N.forEach(E=>ve.openNode(E))}let We={};function Qe(N,E){const L=E&&E[0];if(ce+=N,L==null)return A(),0;if(We.type==="begin"&&E.type==="end"&&We.index===E.index&&L===""){if(ce+=C.slice(E.index,E.index+1),!i){const H=new Error(`0 width match regex (${j})`);throw H.languageName=j,H.badRule=We.rule,H}return 1}if(We=E,E.type==="begin")return Ee(E);if(E.type==="illegal"&&!R){const H=new Error('Illegal lexeme "'+L+'" for mode "'+(ne.scope||"<unnamed>")+'"');throw H.mode=ne,H}else if(E.type==="end"){const H=$e(E);if(H!==iu)return H}if(E.type==="illegal"&&L==="")return ce+=`
`,1;if(Ve>1e5&&Ve>E.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ce+=L,L.length}const Se=z(j);if(!Se)throw Pn(s.replace("{}",j)),new Error('Unknown language: "'+j+'"');const de=jE(Se);let Ke="",ne=q||de;const se={},ve=new o.__emitter(o);Me();let ce="",xe=0,et=0,Ve=0,at=!1;try{if(Se.__emitTokens)Se.__emitTokens(C,ve);else{for(ne.matcher.considerAll();;){Ve++,at?at=!1:ne.matcher.considerAll(),ne.matcher.lastIndex=et;const N=ne.matcher.exec(C);if(!N)break;const E=C.substring(et,N.index),L=Qe(E,N);et=N.index+L}Qe(C.substring(et))}return ve.finalize(),Ke=ve.toHTML(),{language:j,value:Ke,relevance:xe,illegal:!1,_emitter:ve,_top:ne}}catch(N){if(N.message&&N.message.includes("Illegal"))return{language:j,value:ka(C),illegal:!0,relevance:0,_illegalBy:{message:N.message,index:et,context:C.slice(et-100,et+100),mode:N.mode,resultSoFar:Ke},_emitter:ve};if(i)return{language:j,value:ka(C),illegal:!1,relevance:0,errorRaised:N,_emitter:ve,_top:ne};throw N}}function g(j){const C={value:ka(j),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return C._emitter.addText(j),C}function f(j,C){C=C||o.languages||Object.keys(t);const R=g(j),q=C.filter(z).filter(O).map(A=>h(A,j,!1));q.unshift(R);const x=q.sort((A,F)=>{if(A.relevance!==F.relevance)return F.relevance-A.relevance;if(A.language&&F.language){if(z(A.language).supersetOf===F.language)return 1;if(z(F.language).supersetOf===A.language)return-1}return 0}),[U,B]=x,w=U;return w.secondBest=B,w}function p(j,C,R){const q=C&&n[C]||R;j.classList.add("hljs"),j.classList.add(`language-${q}`)}function m(j){let C=null;const R=u(j);if(c(R))return;if(Q("before:highlightElement",{el:j,language:R}),j.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",j);return}if(j.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(j)),o.throwUnescapedHTML))throw new LE("One of your code blocks includes unescaped HTML.",j.innerHTML);C=j;const q=C.textContent,x=R?d(q,{language:R,ignoreIllegals:!0}):f(q);j.innerHTML=x.value,j.dataset.highlighted="yes",p(j,R,x.language),j.result={language:x.language,re:x.relevance,relevance:x.relevance},x.secondBest&&(j.secondBest={language:x.secondBest.language,relevance:x.secondBest.relevance}),Q("after:highlightElement",{el:j,result:x,text:q})}function b(j){o=ru(o,j)}const y=()=>{S(),Qn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function _(){S(),Qn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let v=!1;function S(){function j(){S()}if(document.readyState==="loading"){v||window.addEventListener("DOMContentLoaded",j,!1),v=!0;return}document.querySelectorAll(o.cssSelector).forEach(m)}function I(j,C){let R=null;try{R=C(e)}catch(q){if(Pn("Language definition for '{}' could not be registered.".replace("{}",j)),i)Pn(q);else throw q;R=a}R.name||(R.name=j),t[j]=R,R.rawDefinition=C.bind(null,e),R.aliases&&W(R.aliases,{languageName:j})}function k(j){delete t[j];for(const C of Object.keys(n))n[C]===j&&delete n[C]}function D(){return Object.keys(t)}function z(j){return j=(j||"").toLowerCase(),t[j]||t[n[j]]}function W(j,{languageName:C}){typeof j=="string"&&(j=[j]),j.forEach(R=>{n[R.toLowerCase()]=C})}function O(j){const C=z(j);return C&&!C.disableAutodetect}function G(j){j["before:highlightBlock"]&&!j["before:highlightElement"]&&(j["before:highlightElement"]=C=>{j["before:highlightBlock"](Object.assign({block:C.el},C))}),j["after:highlightBlock"]&&!j["after:highlightElement"]&&(j["after:highlightElement"]=C=>{j["after:highlightBlock"](Object.assign({block:C.el},C))})}function M(j){G(j),r.push(j)}function ee(j){const C=r.indexOf(j);C!==-1&&r.splice(C,1)}function Q(j,C){const R=j;r.forEach(function(q){q[R]&&q[R](C)})}function P(j){return Qn("10.7.0","highlightBlock will be removed entirely in v12.0"),Qn("10.7.0","Please use highlightElement now."),m(j)}Object.assign(e,{highlight:d,highlightAuto:f,highlightAll:S,highlightElement:m,highlightBlock:P,configure:b,initHighlighting:y,initHighlightingOnLoad:_,registerLanguage:I,unregisterLanguage:k,listLanguages:D,getLanguage:z,registerAliases:W,autoDetection:O,inherit:ru,addPlugin:M,removePlugin:ee}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=ME,e.regex={concat:Hn,lookahead:gf,either:cl,optional:Jk,anyNumberOfTimes:Yk};for(const j in $i)typeof $i[j]=="object"&&df($i[j]);return Object.assign(e,$i),e},br=_f({});br.newInstance=()=>_f({});var DE=br;br.HighlightJS=br;br.default=br;const $E=Bn(DE),su={},zE="hljs-";function BE(e){const t=$E.newInstance();return e&&s(e),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:o};function n(c,u,d){const h=d||su,g=typeof h.prefix=="string"?h.prefix:zE;if(!t.getLanguage(c))throw new Error("Unknown language: `"+c+"` is not registered");t.configure({__emitter:UE,classPrefix:g});const f=t.highlight(u,{ignoreIllegals:!0,language:c});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});const p=f._emitter.root,m=p.data;return m.language=f.language,m.relevance=f.relevance,p}function r(c,u){const h=(u||su).subset||i();let g=-1,f=0,p;for(;++g<h.length;){const m=h[g];if(!t.getLanguage(m))continue;const b=n(m,c,u);b.data&&b.data.relevance!==void 0&&b.data.relevance>f&&(f=b.data.relevance,p=b)}return p||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return t.listLanguages()}function s(c,u){if(typeof c=="string")t.registerLanguage(c,u);else{let d;for(d in c)Object.hasOwn(c,d)&&t.registerLanguage(d,c[d])}}function a(c,u){if(typeof c=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:c});else{let d;for(d in c)if(Object.hasOwn(c,d)){const h=c[d];t.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function o(c){return!!t.getLanguage(c)}}class UE{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(a,o){return o?a+"_".repeat(o):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}let bo,yo;if(typeof WeakMap<"u"){let e=new WeakMap;bo=t=>e.get(t),yo=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;bo=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},yo=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var Pe=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let s=r+1,a=i+1;for(let o=1;s<this.width&&this.map[t+o]==n;o++)s++;for(let o=1;a<this.height&&this.map[t+this.width*o]==n;o++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:a,right:o,top:c,bottom:u}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,c),right:Math.max(r,o),bottom:Math.max(s,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[s-1]==a||r==e.top&&r&&this.map[s-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const o=(e+1)*this.width;for(;a<o&&this.map[a]<i;)a++;return a==o?s-1:this.map[a]}i=s}}static get(e){return bo(e)||yo(e,FE(e))}};function FE(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=HE(e),n=e.childCount,r=[];let i=0,s=null;const a=[];for(let u=0,d=t*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const h=e.child(u);d++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==h.childCount)break;const m=h.child(p),{colspan:b,rowspan:y,colwidth:_}=m.attrs;for(let v=0;v<y;v++){if(v+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:d,n:y-v});break}const S=i+v*t;for(let I=0;I<b;I++){r[S+I]==0?r[S+I]=d:(s||(s=[])).push({type:"collision",row:u,pos:d,n:b-I});const k=_&&_[I];if(k){const D=(S+I)%t*2,z=a[D];z==null||z!=k&&a[D+1]==1?(a[D]=k,a[D+1]=1):z==k&&a[D+1]++}}}i+=b,d+=m.nodeSize}const g=(u+1)*t;let f=0;for(;i<g;)r[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:u,n:f}),d++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const o=new Pe(t,n,r,s);let c=!1;for(let u=0;!c&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(c=!0);return c&&GE(o,a,e),o}function HE(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let s=0;if(n)for(let a=0;a<r;a++){const o=e.child(a);for(let c=0;c<o.childCount;c++){const u=o.child(c);a+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const o=i.child(a);s+=o.attrs.colspan,o.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function GE(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const s=e.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let o=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const d=t[(i+u)%e.width*2];d!=null&&(!c.colwidth||c.colwidth[u]!=d)&&((o||(o=qE(c)))[u]=d)}o&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:o})}}function qE(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function it(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}const hn=new xr("selectingCells");function Er(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function WE(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Lt(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function Ks(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Er(t.$head)||KE(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function KE(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function xo(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function VE(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function hl(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function kf(e,t,n){const r=e.node(-1),i=Pe.get(r),s=e.start(-1),a=i.nextCell(e.pos-s,t,n);return a==null?null:e.node(0).resolve(s+a)}function $n(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function Ef(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function YE(e,t,n){const r=it(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Ae=class Qt extends en{constructor(t,n=t){const r=t.node(-1),i=Pe.get(r),s=t.start(-1),a=i.rectBetween(t.pos-s,n.pos-s),o=t.node(0),c=i.cellsInRect(a).filter(d=>d!=n.pos-s);c.unshift(n.pos-s);const u=c.map(d=>{const h=r.nodeAt(d);if(!h)throw new RangeError(`No cell with offset ${d} found`);const g=s+d+1;return new eb(o.resolve(g),o.resolve(g+h.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(xo(r)&&xo(i)&&hl(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Qt.rowSelection(r,i):s&&this.isColSelection()?Qt.colSelection(r,i):new Qt(r,i)}return gn.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=Pe.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let c=i.top;c<i.bottom;c++){const u=[];for(let d=c*n.width+i.left,h=i.left;h<i.right;h++,d++){const g=n.map[d];if(s[g])continue;s[g]=!0;const f=n.findCell(g);let p=t.nodeAt(g);if(!p)throw new RangeError(`No cell with offset ${g} found`);const m=i.left-f.left,b=f.right-i.right;if(m>0||b>0){let y=p.attrs;if(m>0&&(y=$n(y,0,m)),b>0&&(y=$n(y,y.colspan-b,b)),f.left<i.left){if(p=p.type.createAndFill(y),!p)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else p=p.type.create(y,p.content)}if(f.top<i.top||f.bottom>i.bottom){const y={...p.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?p=p.type.createAndFill(y):p=p.type.create(y,p.content)}u.push(p)}a.push(t.child(c).copy(Gt.from(u)))}const o=this.isColSelection()&&this.isRowSelection()?t:a;return new fn(Gt.from(o),1,1)}replace(t,n=fn.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:o,$to:c}=i[a],u=t.mapping.slice(r);t.replace(u.map(o.pos),u.map(c.pos),a?fn.empty:n)}const s=en.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new fn(Gt.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=Pe.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)t(n.nodeAt(s[a]),i+s[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=Pe.get(r),s=t.start(-1),a=i.findCell(t.pos-s),o=i.findCell(n.pos-s),c=t.node(0);return a.top<=o.top?(a.top>0&&(t=c.resolve(s+i.map[a.left])),o.bottom<i.height&&(n=c.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(n=c.resolve(s+i.map[o.left])),a.bottom<i.height&&(t=c.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new Qt(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=Pe.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,o)==n.width}eq(t){return t instanceof Qt&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=Pe.get(r),s=t.start(-1),a=i.findCell(t.pos-s),o=i.findCell(n.pos-s),c=t.node(0);return a.left<=o.left?(a.left>0&&(t=c.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(n=c.resolve(s+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(n=c.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(t=c.resolve(s+i.map[i.width*(a.top+1)-1]))),new Qt(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Qt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Qt(t.resolve(n),t.resolve(r))}getBookmark(){return new JE(this.$anchorCell.pos,this.$headCell.pos)}};Ae.prototype.visible=!1;en.jsonID("cell",Ae);var JE=class Sf{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Sf(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&hl(n,r)?new Ae(n,r):en.near(r,1)}};function XE(e){if(!(e.selection instanceof Ae))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Yr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Jr.create(e.doc,t)}function ZE({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function QE({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function eS(e,t,n){const r=(t||e).selection,i=(t||e).doc;let s,a;if(r instanceof tb&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=Ae.create(i,r.from);else if(a=="row"){const o=i.resolve(r.from+1);s=Ae.rowSelection(o,o)}else if(!n){const o=Pe.get(r.node),c=r.from+1,u=c+o.map[o.width*o.height-1];s=Ae.create(i,c+1,u)}}else r instanceof gn&&ZE(r)?s=gn.create(i,r.from):r instanceof gn&&QE(r)&&(s=gn.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}const tS=new xr("fix-tables");function Nf(e,t,n,r){const i=e.childCount,s=t.childCount;e:for(let a=0,o=0;a<s;a++){const c=t.child(a);for(let u=o,d=Math.min(i,a+3);u<d;u++)if(e.child(u)==c){o=u+1,n+=c.nodeSize;continue e}r(c,n),o<i&&e.child(o).sameMarkup(c)?Nf(e.child(o),c,n+1,r):c.nodesBetween(0,c.content.size,r,n+1),n+=c.nodeSize}}function Tf(e,t){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=nS(e,i,s,n))};return t?t.doc!=e.doc&&Nf(t.doc,e.doc,0,r):e.doc.descendants(r),n}function nS(e,t,n,r){const i=Pe.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let c=0;c<i.height;c++)s.push(0);for(let c=0;c<i.problems.length;c++){const u=i.problems[c];if(u.type=="collision"){const d=t.nodeAt(u.pos);if(!d)continue;const h=d.attrs;for(let g=0;g<h.rowspan;g++)s[u.row+g]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,$n(h,h.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=t.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=t.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+t.nodeSize)}}let a,o;for(let c=0;c<s.length;c++)s[c]&&(a==null&&(a=c),o=c);for(let c=0,u=n+1;c<i.height;c++){const d=t.child(c),h=u+d.nodeSize,g=s[c];if(g>0){let f="cell";d.firstChild&&(f=d.firstChild.type.spec.tableRole);const p=[];for(let b=0;b<g;b++){const y=it(e.schema)[f].createAndFill();y&&p.push(y)}const m=(c==0||a==c-1)&&o==c?u+1:h-1;r.insert(r.mapping.map(m),p)}u=h}return r.setMeta(tS,{fixTables:!0})}function Wt(e){const t=e.selection,n=Ks(e),r=n.node(-1),i=n.start(-1),s=Pe.get(r);return{...t instanceof Ae?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function Cf(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;YE(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const o=a*t.width+i;if(i>0&&i<t.width&&t.map[o-1]==t.map[o]){const c=t.map[o],u=r.nodeAt(c);e.setNodeMarkup(e.mapping.map(n+c),null,Ef(u.attrs,i-t.colCount(c))),a+=u.attrs.rowspan-1}else{const c=s==null?it(r.type.schema).cell:r.nodeAt(t.map[o+s]).type,u=t.positionAt(a,i,r);e.insert(e.mapping.map(n+u),c.createAndFill())}}return e}function rS(e,t){if(!Lt(e))return!1;if(t){const n=Wt(e);t(Cf(e.tr,n,n.left))}return!0}function iS(e,t){if(!Lt(e))return!1;if(t){const n=Wt(e);t(Cf(e.tr,n,n.right))}return!0}function sS(e,{map:t,table:n,tableStart:r},i){const s=e.mapping.maps.length;for(let a=0;a<t.height;){const o=a*t.width+i,c=t.map[o],u=n.nodeAt(c),d=u.attrs;if(i>0&&t.map[o-1]==c||i<t.width-1&&t.map[o+1]==c)e.setNodeMarkup(e.mapping.slice(s).map(r+c),null,$n(d,i-t.colCount(c)));else{const h=e.mapping.slice(s).map(r+c);e.delete(h,h+u.nodeSize)}a+=d.rowspan}}function aS(e,t){if(!Lt(e))return!1;if(t){const n=Wt(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;sS(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=Pe.get(s)}t(r)}return!0}function oS(e,t,n){var r;const i=it(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function Af(e,{map:t,tableStart:n,table:r},i){let s=n;for(let u=0;u<i;u++)s+=r.child(u).nodeSize;const a=[];let o=i>0?-1:0;oS(t,r,i+o)&&(o=i==0||i==t.height?null:0);for(let u=0,d=t.width*i;u<t.width;u++,d++)if(i>0&&i<t.height&&t.map[d]==t.map[d-t.width]){const h=t.map[d],g=r.nodeAt(h).attrs;e.setNodeMarkup(n+h,null,{...g,rowspan:g.rowspan+1}),u+=g.colspan-1}else{var c;const h=o==null?it(r.type.schema).cell:(c=r.nodeAt(t.map[d+o*t.width]))===null||c===void 0?void 0:c.type,g=h==null?void 0:h.createAndFill();g&&a.push(g)}return e.insert(s,it(r.type.schema).row.create(null,a)),e}function lS(e,t){if(!Lt(e))return!1;if(t){const n=Wt(e);t(Af(e.tr,n,n.top))}return!0}function cS(e,t){if(!Lt(e))return!1;if(t){const n=Wt(e);t(Af(e.tr,n,n.bottom))}return!0}function uS(e,{map:t,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const a=s+n.child(i).nodeSize,o=e.mapping.maps.length;e.delete(s+r,a+r);const c=new Set;for(let u=0,d=i*t.width;u<t.width;u++,d++){const h=t.map[d];if(!c.has(h)){if(c.add(h),i>0&&h==t.map[d-t.width]){const g=n.nodeAt(h).attrs;e.setNodeMarkup(e.mapping.slice(o).map(h+r),null,{...g,rowspan:g.rowspan-1}),u+=g.colspan-1}else if(i<t.height&&h==t.map[d+t.width]){const g=n.nodeAt(h),f=g.attrs,p=g.type.create({...f,rowspan:g.attrs.rowspan-1},g.content),m=t.positionAt(i+1,u,n);e.insert(e.mapping.slice(o).map(r+m),p),u+=f.colspan-1}}}}function dS(e,t){if(!Lt(e))return!1;if(t){const n=Wt(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;uS(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw new RangeError("No table found");n.table=s,n.map=Pe.get(n.table)}t(r)}return!0}function au(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function hS({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,a=(r.bottom-1)*e+r.left,o=i+(r.right-r.left-1);for(let c=r.top;c<r.bottom;c++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[o]==n[o+1])return!0;s+=e,o+=e}for(let c=r.left;c<r.right;c++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function ou(e,t){const n=e.selection;if(!(n instanceof Ae)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Wt(e),{map:i}=r;if(hS(i,r))return!1;if(t){const s=e.tr,a={};let o=Gt.empty,c,u;for(let d=r.top;d<r.bottom;d++)for(let h=r.left;h<r.right;h++){const g=i.map[d*i.width+h],f=r.table.nodeAt(g);if(!(a[g]||!f))if(a[g]=!0,c==null)c=g,u=f;else{au(f)||(o=o.append(f.content));const p=s.mapping.map(g+r.tableStart);s.delete(p,p+f.nodeSize)}}if(c==null||u==null)return!0;if(s.setNodeMarkup(c+r.tableStart,null,{...Ef(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),o.size>0){const d=c+1+u.content.size,h=au(u)?c+1:d;s.replaceWith(h+r.tableStart,d+r.tableStart,o)}s.setSelection(new Ae(s.doc.resolve(c+r.tableStart))),t(s)}return!0}function lu(e,t){const n=it(e.schema);return gS(({node:r})=>n[r.type.spec.tableRole])(e,t)}function gS(e){return(t,n)=>{const r=t.selection;let i,s;if(r instanceof Ae){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{var a;if(i=WE(r.$from),!i)return!1;s=(a=Er(r.$from))===null||a===void 0?void 0:a.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let o=i.attrs;const c=[],u=o.colwidth;o.rowspan>1&&(o={...o,rowspan:1}),o.colspan>1&&(o={...o,colspan:1});const d=Wt(t),h=t.tr;for(let f=0;f<d.right-d.left;f++)c.push(u?{...o,colwidth:u&&u[f]?[u[f]]:null}:o);let g;for(let f=d.top;f<d.bottom;f++){let p=d.map.positionAt(f,d.left,d.table);f==d.top&&(p+=i.nodeSize);for(let m=d.left,b=0;m<d.right;m++,b++)m==d.left&&f==d.top||h.insert(g=h.mapping.map(p+d.tableStart,1),e({node:i,row:f,col:m}).createAndFill(c[b]))}h.setNodeMarkup(s,e({node:i,row:d.top,col:d.left}),c[0]),r instanceof Ae&&h.setSelection(new Ae(h.doc.resolve(r.$anchorCell.pos),g?h.doc.resolve(g):void 0)),n(h)}return!0}}function fS(e,t){return function(n,r){if(!Lt(n))return!1;const i=Ks(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const s=n.tr;n.selection instanceof Ae?n.selection.forEachCell((a,o)=>{a.attrs[e]!==t&&s.setNodeMarkup(o,null,{...a.attrs,[e]:t})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(s)}return!0}}function pS(e){return function(t,n){if(!Lt(t))return!1;if(n){const r=it(t.schema),i=Wt(t),s=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),o=a.map(c=>i.table.nodeAt(c));for(let c=0;c<a.length;c++)o[c].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[c],r.cell,o[c].attrs);if(s.steps.length===0)for(let c=0;c<a.length;c++)s.setNodeMarkup(i.tableStart+a[c],r.header_cell,o[c].attrs);n(s)}return!0}}function cu(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function ii(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?pS(e):function(n,r){if(!Lt(n))return!1;if(r){const i=it(n.schema),s=Wt(n),a=n.tr,o=cu("row",s,i),c=cu("column",s,i),u=(e==="column"?o:e==="row"&&c)?1:0,d=e=="column"?{left:0,top:u,right:1,bottom:s.map.height}:e=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,h=e=="column"?c?i.cell:i.header_cell:e=="row"?o?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(g=>{const f=g+s.tableStart,p=a.doc.nodeAt(f);p&&a.setNodeMarkup(f,h,p.attrs)}),r(a)}return!0}}ii("row",{useDeprecatedLogic:!0});ii("column",{useDeprecatedLogic:!0});const mS=ii("cell",{useDeprecatedLogic:!0});function bS(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const s=e.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function uu(e){return function(t,n){if(!Lt(t))return!1;const r=bS(Ks(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(gn.between(i,VE(i))).scrollIntoView())}return!0}}function yS(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function zi(e,t){const n=e.selection;if(!(n instanceof Ae))return!1;if(t){const r=e.tr,i=it(e.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new fn(i,0,0))}),r.docChanged&&t(r)}return!0}function xS(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),s=i.type.spec.tableRole,a=i.type.schema,o=[];if(s=="row")for(let c=0;c<t.childCount;c++){let u=t.child(c).content;const d=c?0:Math.max(0,n-1),h=c<t.childCount-1?0:Math.max(0,r-1);(d||h)&&(u=wo(it(a).row,new fn(u,d,h)).content),o.push(u)}else if(s=="cell"||s=="header_cell")o.push(n||r?wo(it(a).row,new fn(t,n,r)).content:t);else return null;return wS(a,o)}function wS(e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:o,colspan:c}=s.child(a).attrs;for(let u=i;u<i+o;u++)n[u]=(n[u]||0)+c}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Gt.empty),n[i]<r){const s=it(e).cell.createAndFill(),a=[];for(let o=n[i];o<r;o++)a.push(s);t[i]=t[i].append(Gt.from(a))}return{height:t.length,width:r,rows:t}}function wo(e,t){const n=e.createAndFill();return new nb(n).replace(0,n.content.size,t).doc}function vS({width:e,height:t,rows:n},r,i){if(e!=r){const s=[],a=[];for(let o=0;o<n.length;o++){const c=n[o],u=[];for(let d=s[o]||0,h=0;d<r;h++){let g=c.child(h%c.childCount);d+g.attrs.colspan>r&&(g=g.type.createChecked($n(g.attrs,g.attrs.colspan,d+g.attrs.colspan-r),g.content)),u.push(g),d+=g.attrs.colspan;for(let f=1;f<g.attrs.rowspan;f++)s[o+f]=(s[o+f]||0)+g.attrs.colspan}a.push(Gt.from(u))}n=a,e=r}if(t!=i){const s=[];for(let a=0,o=0;a<i;a++,o++){const c=[],u=n[o%t];for(let d=0;d<u.childCount;d++){let h=u.child(d);a+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),c.push(h)}s.push(Gt.from(c))}n=s,t=i}return{width:e,height:t,rows:n}}function _S(e,t,n,r,i,s,a){const o=e.doc.type.schema,c=it(o);let u,d;if(i>t.width)for(let h=0,g=0;h<t.height;h++){const f=n.child(h);g+=f.nodeSize;const p=[];let m;f.lastChild==null||f.lastChild.type==c.cell?m=u||(u=c.cell.createAndFill()):m=d||(d=c.header_cell.createAndFill());for(let b=t.width;b<i;b++)p.push(m);e.insert(e.mapping.slice(a).map(g-1+r),p)}if(s>t.height){const h=[];for(let p=0,m=(t.height-1)*t.width;p<Math.max(t.width,i);p++){const b=p>=t.width?!1:n.nodeAt(t.map[m+p]).type==c.header_cell;h.push(b?d||(d=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const g=c.row.create(null,Gt.from(h)),f=[];for(let p=t.height;p<s;p++)f.push(g);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),f)}return!!(u||d)}function du(e,t,n,r,i,s,a,o){if(a==0||a==t.height)return!1;let c=!1;for(let u=i;u<s;u++){const d=a*t.width+u,h=t.map[d];if(t.map[d-t.width]==h){c=!0;const g=n.nodeAt(h),{top:f,left:p}=t.findCell(h);e.setNodeMarkup(e.mapping.slice(o).map(h+r),null,{...g.attrs,rowspan:a-f}),e.insert(e.mapping.slice(o).map(t.positionAt(a,p,n)),g.type.createAndFill({...g.attrs,rowspan:f+g.attrs.rowspan-a})),u+=g.attrs.colspan-1}}return c}function hu(e,t,n,r,i,s,a,o){if(a==0||a==t.width)return!1;let c=!1;for(let u=i;u<s;u++){const d=u*t.width+a,h=t.map[d];if(t.map[d-1]==h){c=!0;const g=n.nodeAt(h),f=t.colCount(h),p=e.mapping.slice(o).map(h+r);e.setNodeMarkup(p,null,$n(g.attrs,a-f,g.attrs.colspan-(a-f))),e.insert(p+g.nodeSize,g.type.createAndFill($n(g.attrs,0,a-f))),u+=g.attrs.rowspan-1}}return c}function gu(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let a=Pe.get(s);const{top:o,left:c}=r,u=c+i.width,d=o+i.height,h=e.tr;let g=0;function f(){if(s=n?h.doc.nodeAt(n-1):h.doc,!s)throw new Error("No table found");a=Pe.get(s),g=h.mapping.maps.length}_S(h,a,s,n,u,d,g)&&f(),du(h,a,s,n,c,u,o,g)&&f(),du(h,a,s,n,c,u,d,g)&&f(),hu(h,a,s,n,o,d,c,g)&&f(),hu(h,a,s,n,o,d,u,g)&&f();for(let p=o;p<d;p++){const m=a.positionAt(p,c,s),b=a.positionAt(p,u,s);h.replace(h.mapping.slice(g).map(m+n),h.mapping.slice(g).map(b+n),new fn(i.rows[p-o],0,0))}f(),h.setSelection(new Ae(h.doc.resolve(n+a.positionAt(o,c,s)),h.doc.resolve(n+a.positionAt(d-1,u-1,s)))),t(h)}const kS=Qm({ArrowLeft:Bi("horiz",-1),ArrowRight:Bi("horiz",1),ArrowUp:Bi("vert",-1),ArrowDown:Bi("vert",1),"Shift-ArrowLeft":Ui("horiz",-1),"Shift-ArrowRight":Ui("horiz",1),"Shift-ArrowUp":Ui("vert",-1),"Shift-ArrowDown":Ui("vert",1),Backspace:zi,"Mod-Backspace":zi,Delete:zi,"Mod-Delete":zi});function is(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Bi(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof Ae)return is(n,r,en.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const a=Of(i,e,t);if(a==null)return!1;if(e=="horiz")return is(n,r,en.near(n.doc.resolve(s.head+t),t));{const o=n.doc.resolve(a),c=kf(o,e,t);let u;return c?u=en.near(c,1):t<0?u=en.near(n.doc.resolve(o.before(-1)),-1):u=en.near(n.doc.resolve(o.after(-1)),1),is(n,r,u)}}}function Ui(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof Ae)a=s;else{const c=Of(i,e,t);if(c==null)return!1;a=new Ae(n.doc.resolve(c))}const o=kf(a.$headCell,e,t);return o?is(n,r,new Ae(a.$anchorCell,o)):!1}}function ES(e,t){const n=e.state.doc,r=Er(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Ae(r))),!0):!1}function SS(e,t,n){if(!Lt(e.state))return!1;let r=xS(n);const i=e.state.selection;if(i instanceof Ae){r||(r={width:1,height:1,rows:[Gt.from(wo(it(e.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),o=Pe.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=vS(r,o.right-o.left,o.bottom-o.top),gu(e.state,e.dispatch,a,o,r),!0}else if(r){const s=Ks(e.state),a=s.start(-1);return gu(e.state,e.dispatch,a,Pe.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function NS(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=fu(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Ae)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=Er(e.state.selection.$anchor))!=null&&((n=Ea(e,t))===null||n===void 0?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(c,u){let d=Ea(e,u);const h=hn.getState(e.state)==null;if(!d||!hl(c,d))if(h)d=c;else return;const g=new Ae(c,d);if(h||!e.state.selection.eq(g)){const f=e.state.tr.setSelection(g);h&&f.setMeta(hn,c.pos),e.dispatch(f)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",o),hn.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(hn,-1))}function o(c){const u=c,d=hn.getState(e.state);let h;if(d!=null)h=e.state.doc.resolve(d);else if(fu(e,u.target)!=r&&(h=Ea(e,t),!h))return a();h&&s(h,u)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",o)}function Of(e,t,n){if(!(e.state.selection instanceof gn))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),o=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(o)?a:null}}return null}function fu(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Ea(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;const r=n.inside>=0?n.inside:n.pos;return Er(e.state.doc.resolve(r))}var TS=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),vo(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,vo(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function vo(e,t,n,r,i,s){let a=0,o=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let h=0,g=0;h<u.childCount;h++){const{colspan:f,colwidth:p}=u.child(h).attrs;for(let m=0;m<f;m++,g++){const b=i==g?s:p&&p[m],y=b?b+"px":"";if(a+=b||r,b||(o=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const _=document.createElement("col");_.style.width=y,t.appendChild(_)}}}for(;c;){var d;const h=c.nextSibling;(d=c.parentNode)===null||d===void 0||d.removeChild(c),c=h}o?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}const _t=new xr("tableColumnResizing");function CS({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=TS,lastColumnResizable:i=!0}={}){const s=new hi({key:_t,state:{init(a,o){var c;const u=(c=s.spec)===null||c===void 0||(c=c.props)===null||c===void 0?void 0:c.nodeViews,d=it(o.schema).table.name;return r&&u&&(u[d]=(h,g)=>new r(h,n,g)),new AS(-1,!1)},apply(a,o){return o.apply(a)}},props:{attributes:a=>{const o=_t.getState(a);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,o)=>{OS(a,o,e,i)},mouseleave:a=>{RS(a)},mousedown:(a,o)=>{jS(a,o,t,n)}},decorations:a=>{const o=_t.getState(a);if(o&&o.activeHandle>-1)return DS(a,o.activeHandle)},nodeViews:{}}});return s}var AS=class ss{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(_t);if(r&&r.setHandle!=null)return new ss(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new ss(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return xo(t.doc.resolve(i))||(i=-1),new ss(i,n.dragging)}return n}};function OS(e,t,n,r){if(!e.editable)return;const i=_t.getState(e.state);if(i&&!i.dragging){const s=MS(t.target);let a=-1;if(s){const{left:o,right:c}=s.getBoundingClientRect();t.clientX-o<=n?a=pu(e,t,"left",n):c-t.clientX<=n&&(a=pu(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const o=e.state.doc.resolve(a),c=o.node(-1),u=Pe.get(c),d=o.start(-1);if(u.colCount(o.pos-d)+o.nodeAfter.attrs.colspan-1==u.width-1)return}Rf(e,a)}}}function RS(e){if(!e.editable)return;const t=_t.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&Rf(e,-1)}function jS(e,t,n,r){var i;if(!e.editable)return!1;const s=(i=e.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,a=_t.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const o=e.state.doc.nodeAt(a.activeHandle),c=IS(e,a.activeHandle,o.attrs);e.dispatch(e.state.tr.setMeta(_t,{setDragging:{startX:t.clientX,startWidth:c}}));function u(h){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",d);const g=_t.getState(e.state);g!=null&&g.dragging&&(LS(e,g.activeHandle,mu(g.dragging,h,n)),e.dispatch(e.state.tr.setMeta(_t,{setDragging:null})))}function d(h){if(!h.which)return u(h);const g=_t.getState(e.state);if(g&&g.dragging){const f=mu(g.dragging,h,n);bu(e,g.activeHandle,f,r)}}return bu(e,a.activeHandle,c,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",d),t.preventDefault(),!0}function IS(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=e.domAtPos(t);let a=s.node.childNodes[s.offset].offsetWidth,o=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],o--);return a/o}function MS(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function pu(e,t,n,r){const i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;const{pos:a}=s,o=Er(e.state.doc.resolve(a));if(!o)return-1;if(n=="right")return o.pos;const c=Pe.get(o.node(-1)),u=o.start(-1),d=c.map.indexOf(o.pos-u);return d%c.width==0?-1:u+c.map[d-1]}function mu(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function Rf(e,t){e.dispatch(e.state.tr.setMeta(_t,{setHandle:t}))}function LS(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),s=Pe.get(i),a=r.start(-1),o=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=e.state.tr;for(let u=0;u<s.height;u++){const d=u*s.width+o;if(u&&s.map[d]==s.map[d-s.width])continue;const h=s.map[d],g=i.nodeAt(h).attrs,f=g.colspan==1?0:o-s.colCount(h);if(g.colwidth&&g.colwidth[f]==n)continue;const p=g.colwidth?g.colwidth.slice():PS(g.colspan);p[f]=n,c.setNodeMarkup(a+h,null,{...g,colwidth:p})}c.docChanged&&e.dispatch(c)}function bu(e,t,n,r){const i=e.state.doc.resolve(t),s=i.node(-1),a=i.start(-1),o=Pe.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let c=e.domAtPos(i.start(-1)).node;for(;c&&c.nodeName!="TABLE";)c=c.parentNode;c&&vo(s,c.firstChild,c,r,o,n)}function PS(e){return Array(e).fill(0)}function DS(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return Jr.empty;const s=Pe.get(i),a=r.start(-1),o=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){const d=o+u*s.width;if((o==s.width-1||s.map[d]!=s.map[d+1])&&(u==0||s.map[d]!=s.map[d-s.width])){var c;const h=s.map[d],g=a+h+i.nodeAt(h).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",!((c=_t.getState(e))===null||c===void 0)&&c.dragging&&n.push(Yr.node(a+h,a+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),n.push(Yr.widget(g,f))}}return Jr.create(e.doc,n)}function $S({allowTableNodeSelection:e=!1}={}){return new hi({key:hn,state:{init(){return null},apply(t,n){const r=t.getMeta(hn);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:XE,handleDOMEvents:{mousedown:NS},createSelectionBetween(t){return hn.getState(t.state)!=null?t.state.selection:null},handleTripleClick:ES,handleKeyDown:kS,handlePaste:SS},appendTransaction(t,n,r){return eS(r,Tf(r,n),e)}})}function _o(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function yu(e,t,n,r,i,s){var a;let o=0,c=!0,u=t.firstChild;const d=e.firstChild;if(d!==null)for(let h=0,g=0;h<d.childCount;h+=1){const{colspan:f,colwidth:p}=d.child(h).attrs;for(let m=0;m<f;m+=1,g+=1){const b=i===g?s:p&&p[m],y=b?`${b}px`:"";if(o+=b||r,b||(c=!1),u){if(u.style.width!==y){const[_,v]=_o(r,b);u.style.setProperty(_,v)}u=u.nextSibling}else{const _=document.createElement("col"),[v,S]=_o(r,b);_.style.setProperty(v,S),t.appendChild(_)}}}for(;u;){const h=u.nextSibling;(a=u.parentNode)===null||a===void 0||a.removeChild(u),u=h}c?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}class zS{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),yu(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,yu(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function BS(e,t,n,r){let i=0,s=!0;const a=[],o=e.firstChild;if(!o)return{};for(let h=0,g=0;h<o.childCount;h+=1){const{colspan:f,colwidth:p}=o.child(h).attrs;for(let m=0;m<f;m+=1,g+=1){const b=n===g?r:p&&p[m];i+=b||t,b||(s=!1);const[y,_]=_o(t,b);a.push(["col",{style:`${y}: ${_}`}])}}const c=s?`${i}px`:"",u=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:c,tableMinWidth:u}}function xu(e,t){return e.createAndFill()}function US(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function FS(e,t,n,r,i){const s=US(e),a=[],o=[];for(let u=0;u<n;u+=1){const d=xu(s.cell);if(d&&o.push(d),r){const h=xu(s.header_cell);h&&a.push(h)}}const c=[];for(let u=0;u<t;u+=1)c.push(s.row.createChecked(null,r&&u===0?a:o));return s.table.createChecked(null,c)}function HS(e){return e instanceof Ae}const Fi=({editor:e})=>{const{selection:t}=e.state;if(!HS(t))return!1;let n=0;const r=sb(t.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},GS=Un.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:zS,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=BS(e,this.options.cellMinWidth),s=["table",Ct(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},s]:s},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const a=FS(s.schema,e,t,n);if(i){const o=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(gn.near(r.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>rS(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>iS(e,t),deleteColumn:()=>({state:e,dispatch:t})=>aS(e,t),addRowBefore:()=>({state:e,dispatch:t})=>lS(e,t),addRowAfter:()=>({state:e,dispatch:t})=>cS(e,t),deleteRow:()=>({state:e,dispatch:t})=>dS(e,t),deleteTable:()=>({state:e,dispatch:t})=>yS(e,t),mergeCells:()=>({state:e,dispatch:t})=>ou(e,t),splitCell:()=>({state:e,dispatch:t})=>lu(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>ii("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>ii("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>mS(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>ou(e,t)?!0:lu(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>fS(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>uu(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>uu(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&Tf(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=Ae.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Fi,"Mod-Backspace":Fi,Delete:Fi,"Mod-Delete":Fi}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[CS({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],$S({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:rb(ib(e,"tableRole",t))}}}),qS=Un.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Ct(this.options.HTMLAttributes,e),0]}}),WS=Un.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Ct(this.options.HTMLAttributes,e),0]}}),KS=Un.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Ct(this.options.HTMLAttributes,e),0]}}),VS=Un.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Ct(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),YS=/^\s*(\[([( |x])?\])\s$/,JS=Un.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Ct(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),c=document.createElement("div"),u=()=>{var d,h;o.ariaLabel=((h=(d=this.options.a11y)===null||d===void 0?void 0:d.checkboxLabel)===null||h===void 0?void 0:h.call(d,e,o.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};return u(),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:h}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const f=n();if(typeof f!="number")return!1;const p=g.doc.nodeAt(f);return g.setNodeMarkup(f,void 0,{...p==null?void 0:p.attrs,checked:h}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,h)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,h])=>{i.setAttribute(d,h)}),i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,s.append(o,a),i.append(s,c),Object.entries(t).forEach(([d,h])=>{i.setAttribute(d,h)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,u(),!0)}}},addInputRules(){return[ab({find:YS,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),XS=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,ZS=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,QS=di.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Ct(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[lb({find:XS,type:this.type})]},addPasteRules(){return[ob({find:ZS,type:this.type})]}}),eN=BE(Gk),tN=[{name:"Inter",value:"Inter, sans-serif"},{name:"Arial",value:"Arial, sans-serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Mono",value:"monospace"},{name:"Cursive",value:"cursive"},{name:"Comic Sans",value:"Comic Sans MS, Comic Sans, cursive"}],be=({onClick:e,isActive:t=!1,disabled:n=!1,children:r,title:i,className:s})=>l.jsx("button",{onClick:e,disabled:n,className:Ze("p-1.5 rounded-md transition-colors flex items-center justify-center min-w-[28px]",t?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800",n&&"opacity-30 cursor-not-allowed",s),title:i,type:"button",children:r}),er=()=>l.jsx("div",{className:"w-px h-5 bg-gray-300 dark:bg-gray-700 mx-1 self-center"}),nN=({editor:e,saveStatus:t})=>{const n=$.useRef(null),r=$.useRef(null),[i,s]=$.useState("16");if(!e)return null;const a=()=>{const h=e.getAttributes("link").href,g=window.prompt("URL",h);if(g!==null){if(g===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:g}).run()}},o=()=>{const h=window.prompt("Image URL");h&&e.chain().focus().setImage({src:h}).run()},c=()=>{const h=window.prompt("Enter YouTube URL");h&&e.commands.setYoutubeVideo({src:h})},u=h=>{const g=h.target.value;s(g),g&&e.chain().focus().setFontSize(`${g}px`).run()},d=h=>{var p;const g=(p=h.target.files)==null?void 0:p[0];if(!g)return;const f=new FileReader;f.onload=m=>{var b;try{const y=JSON.parse((b=m.target)==null?void 0:b.result);let _="";y.cells&&Array.isArray(y.cells)&&y.cells.forEach(v=>{if(v.cell_type==="markdown"){const S=Array.isArray(v.source)?v.source.join(""):v.source;_+=`<p>${S}</p>`}else if(v.cell_type==="code"){const S=Array.isArray(v.source)?v.source.join(""):v.source;_+=`<pre><code>${S}</code></pre>`}}),e.chain().focus().insertContent(_).run()}catch{alert("Failed to parse IPYNB file.")}},f.readAsText(g),n.current&&(n.current.value="")};return l.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 px-4 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 sticky top-0 z-20 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-0.5 mr-2",children:[l.jsx(be,{onClick:()=>e.chain().focus().undo().run(),disabled:!e.can().undo(),title:"Undo",children:l.jsx(dm,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().redo().run(),disabled:!e.can().redo(),title:"Redo",children:l.jsx(hm,{size:16})})]}),l.jsx(er,{}),l.jsxs("div",{className:"relative group",children:[l.jsxs("select",{onChange:h=>e.chain().focus().setFontFamily(h.target.value).run(),value:e.getAttributes("textStyle").fontFamily||"",className:"h-7 pl-2 pr-6 text-xs bg-transparent hover:bg-gray-200 dark:hover:bg-gray-800 rounded focus:outline-none appearance-none cursor-pointer min-w-[80px] text-gray-700 dark:text-gray-300 border border-transparent hover:border-gray-300 dark:hover:border-gray-700",children:[l.jsx("option",{value:"",children:"Font"}),tN.map(h=>l.jsx("option",{value:h.value,children:h.name},h.name))]}),l.jsx(cs,{size:12,className:"absolute right-1 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500"})]}),l.jsxs("div",{className:"flex items-center gap-1 mx-1",children:[l.jsx(Fa,{size:14,className:"text-gray-400"}),l.jsx("input",{type:"number",min:"1",max:"100",value:parseInt(e.getAttributes("textStyle").fontSize)||i,onChange:u,className:"w-12 h-7 px-1 text-xs bg-transparent border border-gray-300 dark:border-gray-700 rounded text-center focus:outline-none focus:border-indigo-500",title:"Font Size (px)"})]}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("input",{type:"color",ref:r,onChange:h=>e.chain().focus().setColor(h.target.value).run(),value:e.getAttributes("textStyle").color||"#000000",className:"absolute opacity-0 w-full h-full cursor-pointer"}),l.jsx(be,{onClick:()=>{var h;return(h=r.current)==null?void 0:h.click()},title:"Text Color",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Cd,{size:16}),l.jsx("div",{className:"w-4 h-1 mt-0.5 rounded-full",style:{backgroundColor:e.getAttributes("textStyle").color||"currentColor"}})]})})]}),l.jsx(er,{}),l.jsx(be,{onClick:()=>e.chain().focus().toggleBold().run(),isActive:e.isActive("bold"),title:"Bold (Cmd+B)",children:l.jsx(Uo,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleItalic().run(),isActive:e.isActive("italic"),title:"Italic (Cmd+I)",children:l.jsx(Fo,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleUnderline().run(),isActive:e.isActive("underline"),title:"Underline (Cmd+U)",children:l.jsx(gm,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleStrike().run(),isActive:e.isActive("strike"),title:"Strikethrough",children:l.jsx(fm,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleHighlight().run(),isActive:e.isActive("highlight"),title:"Highlight",children:l.jsx(pm,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().unsetAllMarks().run(),title:"Clear Formatting",children:l.jsx(mm,{size:16})}),l.jsx(er,{}),l.jsxs("div",{className:"relative group",children:[l.jsxs("select",{onChange:h=>{const g=h.target.value;g==="p"?e.chain().focus().setParagraph().run():e.chain().focus().toggleHeading({level:parseInt(g)}).run()},value:e.isActive("heading",{level:1})?"1":e.isActive("heading",{level:2})?"2":e.isActive("heading",{level:3})?"3":e.isActive("heading",{level:4})?"4":e.isActive("heading",{level:5})?"5":e.isActive("heading",{level:6})?"6":"p",className:"h-7 pl-2 pr-6 text-xs bg-transparent hover:bg-gray-200 dark:hover:bg-gray-800 rounded focus:outline-none appearance-none cursor-pointer min-w-[90px] text-gray-700 dark:text-gray-300 border border-transparent hover:border-gray-300 dark:hover:border-gray-700",children:[l.jsx("option",{value:"p",children:"Paragraph"}),l.jsx("option",{value:"1",children:"Heading 1"}),l.jsx("option",{value:"2",children:"Heading 2"}),l.jsx("option",{value:"3",children:"Heading 3"}),l.jsx("option",{value:"4",children:"Heading 4"}),l.jsx("option",{value:"5",children:"Heading 5"}),l.jsx("option",{value:"6",children:"Heading 6"})]}),l.jsx(cs,{size:12,className:"absolute right-1 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500"})]}),l.jsx(be,{onClick:()=>e.chain().focus().toggleBulletList().run(),isActive:e.isActive("bulletList"),title:"Bullet List",children:l.jsx($o,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleOrderedList().run(),isActive:e.isActive("orderedList"),title:"Ordered List",children:l.jsx(bm,{size:16})}),l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx(be,{onClick:()=>e.chain().focus().sinkListItem("listItem").run(),disabled:!e.can().sinkListItem("listItem"),title:"Indent",children:l.jsx(ym,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().liftListItem("listItem").run(),disabled:!e.can().liftListItem("listItem"),title:"Outdent",children:l.jsx(xm,{size:16})})]}),l.jsx(er,{}),l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx(be,{onClick:()=>e.chain().focus().setTextAlign("left").run(),isActive:e.isActive({textAlign:"left"}),title:"Align Left",children:l.jsx(wm,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().setTextAlign("center").run(),isActive:e.isActive({textAlign:"center"}),title:"Align Center",children:l.jsx(vm,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().setTextAlign("right").run(),isActive:e.isActive({textAlign:"right"}),title:"Align Right",children:l.jsx(_m,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().setTextAlign("justify").run(),isActive:e.isActive({textAlign:"justify"}),title:"Justify",children:l.jsx(wd,{size:16})})]}),l.jsxs("div",{className:"relative group ml-1 flex items-center",children:[l.jsx(km,{size:14,className:"text-gray-400 mr-1"}),l.jsxs("select",{onChange:h=>e.chain().focus().setLineHeight(h.target.value).run(),value:e.getAttributes("paragraph").lineHeight||"1.5",className:"h-7 pl-1 pr-4 text-xs bg-transparent hover:bg-gray-200 dark:hover:bg-gray-800 rounded focus:outline-none appearance-none cursor-pointer w-[50px] text-gray-700 dark:text-gray-300 border border-transparent hover:border-gray-300",title:"Line Spacing",children:[l.jsx("option",{value:"1.0",children:"1.0"}),l.jsx("option",{value:"1.15",children:"1.15"}),l.jsx("option",{value:"1.25",children:"1.25"}),l.jsx("option",{value:"1.5",children:"1.5"}),l.jsx("option",{value:"1.75",children:"1.75"}),l.jsx("option",{value:"2.0",children:"2.0"}),l.jsx("option",{value:"2.5",children:"2.5"}),l.jsx("option",{value:"3.0",children:"3.0"})]})]}),l.jsx(er,{}),l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx(be,{onClick:()=>e.chain().focus().toggleSubscript().run(),isActive:e.isActive("subscript"),title:"Subscript",children:l.jsx(Em,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleSuperscript().run(),isActive:e.isActive("superscript"),title:"Superscript",children:l.jsx(Sm,{size:16})})]}),l.jsx(er,{}),l.jsxs("div",{className:"flex items-center gap-0.5",children:[l.jsx(be,{onClick:a,isActive:e.isActive("link"),title:"Insert/Edit Link",children:l.jsx(Dn,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().unsetLink().run(),disabled:!e.isActive("link"),title:"Remove Link",children:l.jsx(Ed,{size:16})}),l.jsx(be,{onClick:o,title:"Insert Image",children:l.jsx(Ad,{size:16})}),l.jsx(be,{onClick:c,title:"Insert YouTube Video",children:l.jsx(Td,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleCodeBlock().run(),isActive:e.isActive("codeBlock"),title:"Code Block",children:l.jsx(ds,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().toggleBlockquote().run(),isActive:e.isActive("blockquote"),title:"Quote",children:l.jsx(md,{size:16})}),l.jsx(be,{onClick:()=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),title:"Insert Table",children:l.jsx(Nm,{size:16})})]}),l.jsx("div",{className:"flex-1"}),t&&l.jsxs("div",{className:"flex items-center gap-2 mr-4 text-xs font-medium",children:[t==="saving"&&l.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[l.jsx(Tm,{size:14,className:"animate-pulse"})," Saving..."]}),t==="saved"&&l.jsxs("span",{className:"text-green-600 dark:text-green-400 flex items-center gap-1",children:[l.jsx(ci,{size:14})," Saved"]}),t==="unsaved"&&l.jsxs("span",{className:"text-amber-500 flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"})," Unsaved"]}),t==="error"&&l.jsx("span",{className:"text-red-500 flex items-center gap-1",children:"Error saving"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"file",accept:".ipynb",ref:n,onChange:d,className:"hidden"}),l.jsxs("button",{onClick:()=>{var h;return(h=n.current)==null?void 0:h.click()},className:"flex items-center gap-1 text-xs font-medium text-gray-500 hover:text-indigo-600 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:[l.jsx(Cm,{size:14})," Import"]})]})]})},rN=({content:e,onChange:t,placeholder:n="Start writing...",saveStatus:r})=>{const i=cb({extensions:[ub.configure({heading:{levels:[1,2,3,4,5,6]},codeBlock:!1}),k_.configure({lowlight:eN}),Kw.configure({placeholder:n}),Vw,db.configure({openOnClick:!1,HTMLAttributes:{class:"text-indigo-600 hover:underline cursor-pointer"}}),Dw,$w.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]}),Fw,Hw,qw,Ww,Gw,hb.configure({inline:!0,allowBase64:!0}),ev.configure({controls:!1}),kv,zw,Bw,GS.configure({resizable:!0}),qS,KS,WS,VS,JS.configure({nested:!0}),QS],content:e,editorProps:{attributes:{class:"prose prose-sm sm:prose-base dark:prose-invert focus:outline-none max-w-none editor-page"}},onUpdate:({editor:s})=>{t(s.getHTML())}});return i?l.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-100 dark:bg-gray-950 overflow-hidden border border-gray-200 dark:border-gray-800 rounded-xl",children:[l.jsx(nN,{editor:i,saveStatus:r}),l.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-gray-950 p-4",children:[i&&l.jsxs(gb,{editor:i,tippyOptions:{duration:100},className:"tiptap-menu",children:[l.jsx(be,{onClick:()=>i.chain().focus().toggleBold().run(),isActive:i.isActive("bold"),title:"Bold",children:l.jsx(Uo,{size:14})}),l.jsx(be,{onClick:()=>i.chain().focus().toggleItalic().run(),isActive:i.isActive("italic"),title:"Italic",children:l.jsx(Fo,{size:14})}),l.jsx(be,{onClick:()=>i.chain().focus().toggleCode().run(),isActive:i.isActive("code"),title:"Inline Code",children:l.jsx(ds,{size:14})}),l.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),i.isActive("link")?l.jsxs(l.Fragment,{children:[l.jsx(be,{onClick:()=>{const s=window.prompt("Edit URL",i.getAttributes("link").href);s&&i.chain().focus().extendMarkRange("link").setLink({href:s}).run()},title:"Edit Link",children:l.jsx(Dn,{size:14})}),l.jsx(be,{onClick:()=>i.chain().focus().unsetLink().run(),title:"Unlink",children:l.jsx(Ed,{size:14})})]}):l.jsx(be,{onClick:()=>{const s=window.prompt("URL");s&&i.chain().focus().setLink({href:s}).run()},title:"Link",children:l.jsx(Dn,{size:14})})]}),i&&l.jsxs(fb,{editor:i,tippyOptions:{duration:100},className:"tiptap-menu",children:[l.jsx(be,{onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),isActive:i.isActive("heading",{level:1}),title:"Heading 1",children:l.jsx(Sd,{size:14})}),l.jsx(be,{onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),isActive:i.isActive("heading",{level:2}),title:"Heading 2",children:l.jsx(Nd,{size:14})}),l.jsx(be,{onClick:()=>i.chain().focus().toggleBulletList().run(),isActive:i.isActive("bulletList"),title:"List",children:l.jsx($o,{size:14})}),l.jsx(be,{onClick:()=>i.chain().focus().toggleCodeBlock().run(),isActive:i.isActive("codeBlock"),title:"Code Block",children:l.jsx(ds,{size:14})}),l.jsx(be,{onClick:()=>{const s=window.prompt("YouTube URL");s&&i.commands.setYoutubeVideo({src:s})},title:"YouTube",children:l.jsx(Td,{size:14})})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(pb,{editor:i,className:"w-full max-w-[850px]"})})]}),l.jsxs("div",{className:"px-4 py-1 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 text-xs text-gray-500 flex justify-between items-center",children:[l.jsx("div",{className:"flex items-center gap-2"}),l.jsxs("div",{children:[i.storage.characterCount.words()," words"]})]})]}):null},iN=e=>{const t=[],n=e.split(`
`);let r=[],i="text",s="text";const a=()=>{if(r.length>0){const o=r.join(`
`).trim();o&&t.push({type:i,value:o,language:i==="code"?s:void 0}),r=[]}};for(let o=0;o<n.length;o++){const c=n[o];if(c.startsWith("# ")||c.startsWith("## ")||c.startsWith("### ")){a(),t.push({type:"heading",value:c.replace(/^#+\s/,"")}),i="text";continue}if(c.trim().startsWith("```")){i==="code"?(a(),i="text"):(a(),i="code",s=c.trim().replace("```","")||"text");continue}if(c.trim().startsWith("> [!NOTE]")||c.trim().startsWith("> ")){i!=="note"&&(a(),i="note"),r.push(c.replace(/^>\s?(\[!NOTE\])?/,"").trim());continue}i==="note"&&!c.trim().startsWith(">")&&(a(),i="text"),r.push(c)}return a(),t},sN=e=>!e||!Array.isArray(e)?"":e.map(t=>{switch(t.type){case"heading":return`## ${t.value}
`;case"code":return`\`\`\`${t.language||""}
${t.value}
\`\`\`
`;case"note":return`> [!NOTE]
> ${t.value}
`;default:return`${t.value}
`}}).join(`
`),aN=e=>!e||!Array.isArray(e)?"":e.map(t=>{switch(t.type){case"heading":return`<h2>${t.value}</h2>`;case"code":return`<pre><code class="language-${t.language||"text"}">${t.value}</code></pre>`;case"note":return`<blockquote>${t.value}</blockquote>`;case"image":return`<img src="${t.value}" alt="Image" />`;default:return`<p>${t.value}</p>`}}).join(""),tn=({content:e,onChange:t,label:n,minHeight:r="300px",saveStatus:i})=>{const[s,a]=$.useState("rich"),[o,c]=$.useState(""),[u,d]=$.useState(!1),h=$.useRef(null);$.useEffect(()=>{Array.isArray(e)?(a("markdown"),c(sN(e))):(a("rich"),c(typeof e=="string"?e:""))},[]);const g=()=>{if(confirm("Convert to Visual Editor? Switching back to Markdown might lose some formatting.")){const y=iN(o),_=aN(y);c(_),a("rich"),t(_)}},f=y=>{c(y),t(y)},p=(y,_="")=>{const v=h.current;if(!v)return;const S=v.selectionStart,I=v.selectionEnd,k=v.value,D=k.substring(S,I),z=k.substring(0,S)+y+D+_+k.substring(I);f(z),setTimeout(()=>{v.focus();const W=S+y.length+D.length+_.length,O=D.length>0?W:S+y.length;v.setSelectionRange(O,O)},0)},m=({icon:y,label:_,onClick:v})=>l.jsx("button",{onClick:v,className:"p-1.5 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",title:_,type:"button",children:l.jsx(y,{size:16})}),b=u?"fixed inset-0 z-[100] bg-white dark:bg-gray-900 p-6 flex flex-col":"relative flex flex-col border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-gray-900";return l.jsxs("div",{className:b,children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-950",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[n&&l.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:n}),l.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 rounded-lg p-0.5",children:[l.jsx("button",{onClick:()=>a("rich"),className:Ze("px-3 py-1 text-xs font-bold rounded-md transition-all",s==="rich"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"),children:"Visual"}),l.jsx("button",{onClick:()=>a("markdown"),className:Ze("px-3 py-1 text-xs font-bold rounded-md transition-all",s==="markdown"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 hover:text-gray-900 dark:hover:text-white"),children:"Markdown"})]}),s==="markdown"&&l.jsxs("button",{onClick:g,className:"text-xs flex items-center gap-1 text-indigo-600 hover:underline",title:"Convert Markdown to Rich Text",children:[l.jsx(Do,{size:12})," Convert"]})]}),l.jsx("button",{onClick:()=>d(!u),className:"p-1.5 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg transition-colors",title:u?"Exit Full Screen":"Full Screen",type:"button",children:u?l.jsx(Is,{size:18}):l.jsx(li,{size:18})})]}),l.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",style:{minHeight:u?"auto":r},children:s==="rich"?l.jsx(rN,{content:o,onChange:f,saveStatus:i}):l.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 flex-shrink-0",children:[l.jsx(m,{icon:Uo,label:"Bold",onClick:()=>p("**","**")}),l.jsx(m,{icon:Fo,label:"Italic",onClick:()=>p("*","*")}),l.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),l.jsx(m,{icon:Sd,label:"Heading 1",onClick:()=>p("# ")}),l.jsx(m,{icon:Nd,label:"Heading 2",onClick:()=>p("## ")}),l.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-700 mx-1"}),l.jsx(m,{icon:ds,label:"Code Block",onClick:()=>p("```\n","\n```")}),l.jsx(m,{icon:Dn,label:"Link",onClick:()=>p("[","](url)")}),l.jsx(m,{icon:Ad,label:"Image",onClick:()=>p("![alt](",")")}),l.jsx(m,{icon:yn,label:"Note/Callout",onClick:()=>p(`> [!NOTE]
> `)})]}),l.jsx("textarea",{ref:h,value:o,onChange:y=>f(y.target.value),className:"w-full h-full flex-1 p-4 font-mono text-sm bg-white dark:bg-gray-950 focus:outline-none resize-none leading-relaxed",placeholder:"# Topic Title\\n\\nWrite your content here..."})]})}),u&&l.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 flex justify-end",children:l.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700",children:"Done"})})]})},jf=(e,t,n=2e3)=>{const[r,i]=$.useState("saved"),[s,a]=$.useState(e),o=$.useCallback(c=>{i("saving"),t(c).then(()=>{i("saved"),a(c)}).catch(u=>{console.error("Auto-save failed:",u),i("error")})},[t]);return $.useEffect(()=>{const c=setTimeout(()=>{JSON.stringify(e)!==JSON.stringify(s)&&o(e)},n);return()=>{clearTimeout(c)}},[e,n,o,s]),$.useEffect(()=>{JSON.stringify(e)!==JSON.stringify(s)&&i("unsaved")},[e,s]),r},oN=({subjects:e,onRefresh:t})=>{const[n,r]=$.useState(null),[i,s]=$.useState(null),[a,o]=$.useState(null),[c,u]=$.useState(""),[d,h]=$.useState(null),[g,f]=$.useState(!1),[p,m]=$.useState(!1),[b,y]=$.useState(null),[_,v]=$.useState(null),[S,I]=$.useState(""),[k,D]=$.useState(""),[z,W]=$.useState("Code2"),[O,G]=$.useState(0),M=[...e].sort((B,w)=>(B.display_order||0)-(w.display_order||0)),Q=jf(c,async B=>{if(!a||!K)return;let w="5 min";if(typeof B=="string")w=`${Math.max(1,Math.ceil(B.length/500))} min`;else if(Array.isArray(B)){const A=B.map(F=>F.value).join(" ");w=`${Math.max(1,Math.ceil(A.length/500))} min`}await K.from("topics").update({content:B,read_time:w}).eq("id",a.id)},3e3);$.useEffect(()=>{if(!K||!a)return;const B=K.channel(`topic:${a.id}`).on("presence",{event:"sync"},()=>{const w=B.presenceState();G(Object.keys(w).length)}).subscribe(async w=>{w==="SUBSCRIBED"&&await B.track({user:"admin",online_at:new Date().toISOString()})});return()=>{K.removeChannel(B)}},[a]);const P=async(B,w)=>{if(confirm("Are you sure? This action cannot be undone.")&&K){const{error:A}=await K.from(B).delete().eq("id",w);A?alert(`Error deleting item: ${A.message}`):t()}},j=async(B,w,A,F)=>{if(!K)return;const J=[...w].sort((Ee,$e)=>(Ee.display_order||0)-($e.display_order||0)),X=F==="up"?A-1:A+1;if(X<0||X>=J.length)return;const pe=J[A];J[A]=J[X],J[X]=pe;const Oe=J.map((Ee,$e)=>({id:Ee.id,display_order:$e+1}));for(const Ee of Oe)await K.from(B).update({display_order:Ee.display_order}).eq("id",Ee.id);t()},C=async()=>{if(!S.trim()||!K)return;const B=Ji(S),w=Math.max(...e.map(F=>F.display_order||0),0),{error:A}=await K.from("subjects").insert({id:B,title:S,description:k||"New Subject Description",icon:z||"Code2",color:"from-gray-500 to-gray-700",level:"Beginner",display_order:w+1});A?alert(`Error creating subject: ${A.message}`):(I(""),D(""),W("Code2"),m(!1),t())},R=async()=>{if(!d||!K)return;const{error:B}=await K.from("subjects").update({title:d.title,description:d.description,icon:d.icon}).eq("id",d.id);B?alert(`Error updating subject: ${B.message}`):(h(null),t())},q=async B=>{if(!S.trim()||!K)return;const w=Ji(S),A=e.find(X=>X.id===B),F=Math.max(...(A==null?void 0:A.modules.map(X=>X.display_order||0))||[],0),{error:J}=await K.from("modules").insert({id:w,title:S,subject_id:B,description:"New module",display_order:F+1});J?alert(`Error creating module: ${J.message}`):(I(""),y(null),t())},x=async B=>{if(!S.trim()||!K)return;const w=Ji(S);let A=0;e.forEach(J=>{const X=J.modules.find(pe=>pe.id===B);X&&(A=Math.max(...X.topics.map(pe=>pe.display_order||0),0))});const{error:F}=await K.from("topics").insert({id:w,title:S,module_id:B,read_time:"5 min",content:"",display_order:A+1});F?alert(`Error creating topic: ${F.message}`):(I(""),v(null),t())},U=B=>{o(B),u(B.content)};return a?l.jsxs("div",{className:Ze("bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 flex flex-col transition-all duration-300",g?"fixed inset-0 z-50 rounded-none h-screen w-screen p-6":"p-6 h-[85vh]"),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:["Editing: ",a.title]}),l.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:O>1&&l.jsxs("span",{className:"flex items-center gap-1 text-indigo-600 font-bold animate-pulse",children:[l.jsx(Ho,{size:12})," ",O," people viewing"]})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>f(!g),className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",title:g?"Exit Full Screen":"Full Screen",children:g?l.jsx(Is,{size:20}):l.jsx(li,{size:20})}),l.jsx("button",{onClick:()=>{o(null),f(!1),t()},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 rounded-lg",children:"Close"})]})]}),l.jsx("div",{className:"flex-1 overflow-hidden border border-gray-200 dark:border-gray-800 rounded-xl flex flex-col shadow-inner bg-gray-50 dark:bg-gray-950/50",children:l.jsx(tn,{content:c,onChange:u,saveStatus:Q},a.id)})]}):l.jsxs("div",{className:"space-y-4",children:[p?l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 space-y-3",children:[l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Create New Subject"}),l.jsx("input",{type:"text",placeholder:"Subject Title (e.g., Advanced Python)",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",value:S,onChange:B=>I(B.target.value)}),l.jsx("input",{type:"text",placeholder:"Short Description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",value:k,onChange:B=>D(B.target.value)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1",children:"Icon (Lucide Name)"}),l.jsx("input",{type:"text",placeholder:"e.g., Code2, Database, Server, Globe",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700",value:z,onChange:B=>W(B.target.value)}),l.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-1 font-medium",children:'Please use a valid Lucide icon name (e.g. "Code2", "Server", "Database") instead of emojis for better consistency.'})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg",children:"Create Subject"})]})]}):l.jsxs("button",{onClick:()=>m(!0),className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl text-gray-500 hover:border-indigo-500 hover:text-indigo-600 transition-colors flex items-center justify-center gap-2 font-medium",children:[l.jsx(Am,{size:20})," Add New Subject"]}),M.map((B,w)=>l.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 dark:bg-gray-900/50",children:[(d==null?void 0:d.id)===B.id?l.jsxs("div",{className:"flex-1 flex gap-2 items-center mr-4",children:[l.jsxs("div",{className:"flex-1 grid gap-2",children:[l.jsx("input",{type:"text",value:d.title,onChange:A=>h({...d,title:A.target.value}),className:"px-3 py-1.5 rounded border border-indigo-300 dark:border-indigo-700 bg-white dark:bg-gray-800 text-sm font-bold",placeholder:"Subject Title"}),l.jsx("input",{type:"text",value:d.description,onChange:A=>h({...d,description:A.target.value}),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-xs",placeholder:"Description"}),l.jsx("input",{type:"text",value:d.icon,onChange:A=>h({...d,icon:A.target.value}),className:"px-3 py-1.5 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-xs",placeholder:"Icon Name (e.g. Code2)"})]}),l.jsx("button",{onClick:R,className:"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",title:"Save",children:l.jsx(Ps,{size:16})}),l.jsx("button",{onClick:()=>h(null),className:"p-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg",title:"Cancel",children:l.jsx(Ht,{size:16})})]}):l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("button",{onClick:()=>j("subjects",M,w,"up"),disabled:w===0,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Hr,{size:14})}),l.jsx("button",{onClick:()=>j("subjects",M,w,"down"),disabled:w===M.length-1,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Gr,{size:14})})]}),l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r(n===B.id?null:B.id),children:[n===B.id?l.jsx(cs,{size:18}):l.jsx(gr,{size:18}),l.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-br ${B.color} flex items-center justify-center text-white font-bold`,children:B.icon&&B.icon.length<10?B.icon:l.jsx(hs,{size:16})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[B.title,l.jsxs("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-800 rounded-full text-gray-600 dark:text-gray-400 font-normal",children:[B.modules.length," Modules"]})]}),l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 line-clamp-1",children:B.description})]})]})]}),!d&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>y(B.id),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Add Module",children:l.jsx(Mn,{size:16})}),l.jsx("button",{onClick:()=>h(B),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Edit Subject",children:l.jsx(Vr,{size:16})}),l.jsx("button",{onClick:()=>P("subjects",B.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Subject",children:l.jsx(nn,{size:16})})]})]}),n===B.id&&l.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-800",children:[b===B.id&&l.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/10 flex gap-2",children:[l.jsx("input",{autoFocus:!0,type:"text",placeholder:"New Module Title...",className:"flex-1 px-3 py-2 rounded-md border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-gray-900",value:S,onChange:A=>I(A.target.value)}),l.jsx("button",{onClick:()=>q(B.id),className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm",children:"Add"}),l.jsx("button",{onClick:()=>y(null),className:"p-2 text-gray-500",children:l.jsx(Ht,{size:18})})]}),B.modules.length===0&&!b&&l.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No modules yet. Click + to add one."}),B.modules.sort((A,F)=>(A.display_order||0)-(F.display_order||0)).map((A,F,J)=>l.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-800 last:border-0",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("button",{onClick:()=>j("modules",J,F,"up"),disabled:F===0,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Hr,{size:12})}),l.jsx("button",{onClick:()=>j("modules",J,F,"down"),disabled:F===J.length-1,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Gr,{size:12})})]}),l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>s(i===A.id?null:A.id),children:[l.jsx(hs,{size:14,className:"text-gray-400"}),l.jsx("span",{className:"font-medium text-sm text-gray-700 dark:text-gray-300",children:A.title})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>v(A.id),className:"p-1.5 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded",title:"Add Topic",children:l.jsx(Mn,{size:14})}),l.jsx("button",{onClick:()=>P("modules",A.id),className:"p-1.5 text-gray-400 hover:text-red-500 rounded",children:l.jsx(nn,{size:14})})]})]}),i===A.id&&l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-950/50 pl-14 pr-4 py-2 space-y-1",children:[_===A.id&&l.jsxs("div",{className:"py-2 flex gap-2",children:[l.jsx("input",{autoFocus:!0,type:"text",placeholder:"New Topic Title...",className:"flex-1 px-3 py-1.5 text-sm rounded border border-indigo-200 dark:border-indigo-800 bg-white dark:bg-gray-900",value:S,onChange:X=>I(X.target.value)}),l.jsx("button",{onClick:()=>x(A.id),className:"px-3 py-1 bg-indigo-600 text-white rounded text-xs",children:"Add"}),l.jsx("button",{onClick:()=>v(null),className:"p-1 text-gray-500",children:l.jsx(Ht,{size:14})})]}),A.topics.sort((X,pe)=>(X.display_order||0)-(pe.display_order||0)).map((X,pe,Oe)=>l.jsxs("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-white dark:hover:bg-gray-900 border border-transparent hover:border-gray-200 dark:hover:border-gray-800 group transition-all",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex flex-col gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>j("topics",Oe,pe,"up"),disabled:pe===0,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Hr,{size:10})}),l.jsx("button",{onClick:()=>j("topics",Oe,pe,"down"),disabled:pe===Oe.length-1,className:"text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Gr,{size:10})})]}),l.jsx(Go,{size:12,className:"text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:X.title})]}),l.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx(Ce,{to:`/learn/${B.id}/${X.id}`,target:"_blank",className:"text-gray-400 hover:text-indigo-600 p-1",title:"View Live",children:l.jsx(Od,{size:12})}),l.jsxs("button",{onClick:()=>U(X),className:"text-xs font-medium text-indigo-600 hover:underline flex items-center gap-1",children:[l.jsx(Vr,{size:10})," Edit"]}),l.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-700"}),l.jsx("button",{onClick:()=>P("topics",X.id),className:"text-gray-400 hover:text-red-500",children:l.jsx(nn,{size:12})})]})]},X.id)),A.topics.length===0&&!_&&l.jsx("div",{className:"text-xs text-gray-400 italic py-2",children:"No topics yet."})]})]},A.id))]})]},B.id))]})},lN=({initialHome:e,initialAbout:t,initialCommunity:n,initialContribute:r,onRefresh:i})=>{var q,x,U,B,w;const[s,a]=$.useState("about"),[o,c]=$.useState(e),[u,d]=$.useState(t),[h,g]=$.useState(n),[f,p]=$.useState(r),[m,b]=$.useState({siteName:"",logoText:""}),[y,_]=$.useState({text:"",copyright:""}),[v,S]=$.useState([]),[I,k]=$.useState([]),[D,z]=$.useState([]),[W,O]=$.useState(""),[G,M]=$.useState(""),[ee,Q]=$.useState(!1);$.useEffect(()=>{(async()=>{if(!K)return;const{data:F}=await K.from("site_settings").select("*");if(F){const J=F.find(Me=>Me.key==="site_branding");J&&b(J.value);const X=F.find(Me=>Me.key==="site_footer");X&&_(X.value);const pe=F.find(Me=>Me.key==="site_navigation");pe&&S(pe.value);const Oe=F.find(Me=>Me.key==="home_value_props");Oe&&k(Oe.value);const Ee=F.find(Me=>Me.key==="home_quick_nav");Ee&&z(Ee.value);const $e=F.find(Me=>Me.key==="ai_portfolio_summary");$e&&O($e.value.text)}})()},[]),$.useEffect(()=>{c(e),d(t),g(n),p(r)},[e,t,n,r]);const P=async()=>{if(K){Q(!0);try{const A=[];s==="home"?(A.push(K.from("site_settings").upsert({key:"home_hero",value:o})),A.push(K.from("site_settings").upsert({key:"home_value_props",value:I})),A.push(K.from("site_settings").upsert({key:"home_quick_nav",value:D}))):s==="about"?(A.push(K.from("site_settings").upsert({key:"about_profile",value:u})),A.push(K.from("site_settings").upsert({key:"ai_portfolio_summary",value:{text:W,updated_at:new Date().toISOString()}}))):s==="community"?A.push(K.from("site_settings").upsert({key:"community_page",value:h})):s==="contribute"?A.push(K.from("site_settings").upsert({key:"contribute_page",value:f})):s==="global"&&(A.push(K.from("site_settings").upsert({key:"site_branding",value:m})),A.push(K.from("site_settings").upsert({key:"site_footer",value:y})),A.push(K.from("site_settings").upsert({key:"site_navigation",value:v}))),await Promise.all(A),i(),alert("Settings saved successfully!")}catch(A){console.error(A),alert(`Failed to save settings: ${A.message||"Unknown error"}`)}finally{Q(!1)}}},j=()=>{G.trim()&&(d({...u,skills:[...u.skills||[],G.trim()]}),M(""))},C=A=>{d({...u,skills:u.skills.filter(F=>F!==A)})},R=({id:A,label:F,icon:J})=>l.jsxs("button",{onClick:()=>a(A),className:`flex-1 py-4 text-sm font-medium flex items-center justify-center gap-2 border-b-2 transition-colors ${s===A?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 border-indigo-600":"text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800 border-transparent"}`,children:[l.jsx(J,{size:18})," ",l.jsx("span",{className:"hidden md:inline",children:F})]});return l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-800 overflow-x-auto",children:[l.jsx(R,{id:"about",label:"Collaborate Page",icon:us}),l.jsx(R,{id:"global",label:"Global & Nav",icon:Om}),l.jsx(R,{id:"home",label:"Home",icon:gs}),l.jsx(R,{id:"community",label:"Community",icon:ls}),l.jsx(R,{id:"contribute",label:"Contribute",icon:Rm})]}),l.jsxs("div",{className:"p-8",children:[s==="about"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-900/30 mb-6",children:[l.jsxs("h4",{className:"text-sm font-bold text-blue-800 dark:text-blue-300 mb-1 flex items-center gap-2",children:[l.jsx(us,{size:16})," Collaborate Page Configuration"]}),l.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:`This controls the "Let's Collaborate" page. It uses a premium, two-card layout (Left: Profile, Right: Portfolio Gateway).`})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),l.jsx("input",{type:"text",value:u.name,onChange:A=>d({...u,name:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"e.g. Dr. Jane Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Academic Role / Field"}),l.jsx("input",{type:"text",value:u.role,onChange:A=>d({...u,role:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"e.g. PhD Candidate in CS | ML Researcher"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Academic Bio (Left Card)"}),l.jsx(tn,{content:u.bio,onChange:A=>d({...u,bio:typeof A=="string"?A:""}),minHeight:"200px"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Write a short, formal introduction. Focus on your field of study, research interests, and ambition."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Profile Image URL"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:u.image,onChange:A=>d({...u,image:A.target.value}),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"https://..."}),u.image&&l.jsx("img",{src:u.image,alt:"Preview",className:"w-10 h-10 rounded-lg object-cover border border-gray-200"})]})]})}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(ls,{size:16})," Right Card (Portfolio Gateway)"]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-200 dark:border-gray-700 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Card Title"}),l.jsx("input",{type:"text",value:u.portfolio_card_title||"View Portfolio",onChange:A=>d({...u,portfolio_card_title:A.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Button Text"}),l.jsx("input",{type:"text",value:u.portfolio_card_cta||"Launch",onChange:A=>d({...u,portfolio_card_cta:A.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Description"}),l.jsx("input",{type:"text",value:u.portfolio_card_desc||"Explore full case studies, research papers, and live deployments.",onChange:A=>d({...u,portfolio_card_desc:A.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Destination URL"}),l.jsx("input",{type:"text",value:u.resume_link||"",onChange:A=>d({...u,resume_link:A.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900",placeholder:"https://your-portfolio.com or https://github.com/..."}),l.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"This is where the user will be redirected when clicking the card."})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4",children:"Social Presence"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[l.jsx(Ls,{size:12})," Email (mailto:)"]}),l.jsx("input",{type:"text",value:((q=u.socials)==null?void 0:q.email)||"",onChange:A=>d({...u,socials:{...u.socials,email:A.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"mailto:you@example.com"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[l.jsx(jm,{size:12})," GitHub URL"]}),l.jsx("input",{type:"text",value:((x=u.socials)==null?void 0:x.github)||"",onChange:A=>d({...u,socials:{...u.socials,github:A.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"https://github.com/username"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[l.jsx(zo,{size:12})," LinkedIn URL"]}),l.jsx("input",{type:"text",value:((U=u.socials)==null?void 0:U.linkedin)||"",onChange:A=>d({...u,socials:{...u.socials,linkedin:A.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"https://linkedin.com/in/username"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[l.jsx(oi,{size:12})," Google Scholar URL"]}),l.jsx("input",{type:"text",value:((B=u.socials)==null?void 0:B.scholar)||"",onChange:A=>d({...u,socials:{...u.socials,scholar:A.target.value}}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",placeholder:"https://scholar.google.com/..."})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-6",children:[l.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4",children:"Research Interests (Tags)"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("input",{type:"text",value:G,onChange:A=>M(A.target.value),onKeyDown:A=>A.key==="Enter"&&j(),placeholder:"Add interest (e.g. Machine Learning, Computer Vision)...",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900"}),l.jsx("button",{onClick:j,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700",children:"Add"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=u.skills)==null?void 0:w.map((A,F)=>l.jsxs("span",{className:"px-3 py-1.5 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 text-sm font-medium flex items-center gap-2 group",children:[A,l.jsx("button",{onClick:()=>C(A),className:"text-gray-400 hover:text-red-500",children:l.jsx(Ht,{size:14})})]},F)),(!u.skills||u.skills.length===0)&&l.jsx("span",{className:"text-gray-400 text-sm italic",children:"No interests added yet."})]})]})]})]}),s==="global"&&l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Branding"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Brand Name (First Part)"}),l.jsx("input",{type:"text",value:m.siteName,onChange:A=>b({...m,siteName:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"Knowthe"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Logo Text (Colored Part)"}),l.jsx("input",{type:"text",value:m.logoText,onChange:A=>b({...m,logoText:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"Algo"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Po,{size:20})," Navigation Menu"]}),l.jsxs("button",{onClick:()=>S([...v,{label:"New Link",path:"/",visible:!0}]),className:"text-sm text-indigo-600 hover:underline flex items-center gap-1",children:[l.jsx(Mn,{size:14})," Add Link"]})]}),l.jsx("div",{className:"space-y-3",children:v.map((A,F)=>l.jsxs("div",{className:"flex gap-3 items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx("input",{type:"text",value:A.label,onChange:J=>{const X=[...v];X[F].label=J.target.value,S(X)},className:"flex-1 px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"Label"}),l.jsx("input",{type:"text",value:A.path,onChange:J=>{const X=[...v];X[F].path=J.target.value,S(X)},className:"flex-1 px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm font-mono",placeholder:"/path"}),l.jsx("button",{onClick:()=>{const J=[...v];J[F].visible=!J[F].visible,S(J)},className:`p-2 rounded-lg ${A.visible?"text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"text-gray-400 bg-gray-100 dark:bg-gray-800"}`,title:"Toggle Visibility",children:A.visible?l.jsx(Im,{size:16}):l.jsx(Mm,{size:16})}),l.jsx("button",{onClick:()=>S(v.filter((J,X)=>X!==F)),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:l.jsx(nn,{size:16})})]},F))})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Footer"}),l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Main Text"}),l.jsx("input",{type:"text",value:y.text,onChange:A=>_({...y,text:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"Made with Heart by..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Copyright Notice"}),l.jsx("input",{type:"text",value:y.copyright,onChange:A=>_({...y,copyright:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",placeholder:"All rights reserved."})]})]})]})]}),s==="home"&&l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(gs,{size:20,className:"text-indigo-600"})," Hero Section"]}),l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Main Headline"}),l.jsx("input",{type:"text",value:o.title,onChange:A=>c({...o,title:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subtitle"}),l.jsx("textarea",{value:o.subtitle,onChange:A=>c({...o,subtitle:A.target.value}),rows:2,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Button Text"}),l.jsx("input",{type:"text",value:o.cta_text,onChange:A=>c({...o,cta_text:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Value Propositions"}),l.jsxs("button",{onClick:()=>k([...I,{icon:"Star",title:"New Feature",desc:"Description"}]),className:"text-sm text-indigo-600 hover:underline flex items-center gap-1",children:[l.jsx(Mn,{size:14})," Add Item"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:I.map((A,F)=>l.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Icon (Lucide Name)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rl,{name:A.icon,size:20,className:"text-gray-400"}),l.jsx("input",{value:A.icon,onChange:J=>{const X=[...I];X[F].icon=J.target.value,k(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Title"}),l.jsx("input",{value:A.title,onChange:J=>{const X=[...I];X[F].title=J.target.value,k(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Description"}),l.jsx("input",{value:A.desc,onChange:J=>{const X=[...I];X[F].desc=J.target.value,k(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]})]}),l.jsx("button",{onClick:()=>k(I.filter((J,X)=>X!==F)),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:l.jsx(nn,{size:16})})]},F))})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Quick Nav Cards"}),l.jsxs("button",{onClick:()=>z([...D,{icon:"Link",title:"New Link",desc:"Go somewhere",link:"/",color:"bg-gray-500"}]),className:"text-sm text-indigo-600 hover:underline flex items-center gap-1",children:[l.jsx(Mn,{size:14})," Add Card"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:D.map((A,F)=>l.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Icon"}),l.jsx("input",{value:A.icon,onChange:J=>{const X=[...D];X[F].icon=J.target.value,z(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Title"}),l.jsx("input",{value:A.title,onChange:J=>{const X=[...D];X[F].title=J.target.value,z(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Desc"}),l.jsx("input",{value:A.desc,onChange:J=>{const X=[...D];X[F].desc=J.target.value,z(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Link"}),l.jsx("input",{value:A.link,onChange:J=>{const X=[...D];X[F].link=J.target.value,z(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:"Color (Tailwind)"}),l.jsx("input",{value:A.color,onChange:J=>{const X=[...D];X[F].color=J.target.value,z(X)},className:"w-full px-3 py-1.5 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm"})]})]}),l.jsx("button",{onClick:()=>z(D.filter((J,X)=>X!==F)),className:"p-2 text-red-500 hover:bg-red-50 rounded",children:l.jsx(nn,{size:16})})]},F))})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8 space-y-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(yn,{size:20,className:"text-indigo-600"})," Community Section"]}),l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section Title"}),l.jsx("input",{type:"text",value:o.community_title||"",onChange:A=>c({...o,community_title:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsx(tn,{content:o.community_desc||"",onChange:A=>c({...o,community_desc:typeof A=="string"?A:""}),minHeight:"150px"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-8 space-y-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(js,{size:20,className:"text-indigo-600"})," Collaboration Section"]}),l.jsxs("div",{className:"grid gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Section Title"}),l.jsx("input",{type:"text",value:o.collab_title||"",onChange:A=>c({...o,collab_title:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),l.jsx(tn,{content:o.collab_desc||"",onChange:A=>c({...o,collab_desc:typeof A=="string"?A:""}),minHeight:"150px"})]})]})]})]}),s==="community"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Community Page Header"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Page Title"}),l.jsx("input",{type:"text",value:h.title,onChange:A=>g({...h,title:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle / Description"}),l.jsx(tn,{content:h.subtitle,onChange:A=>g({...h,subtitle:typeof A=="string"?A:""}),minHeight:"150px"})]})]}),s==="contribute"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Contribute Page Header"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Page Title"}),l.jsx("input",{type:"text",value:f.title,onChange:A=>p({...f,title:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Subtitle / Description"}),l.jsx(tn,{content:f.subtitle,onChange:A=>p({...f,subtitle:typeof A=="string"?A:""}),minHeight:"150px"})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-800 flex justify-end",children:l.jsxs("button",{onClick:P,disabled:ee,className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[l.jsx(Ps,{size:18})," ",ee?"Saving...":"Save Changes"]})})]})]})},cN=({categories:e,onRefresh:t})=>{const[n,r]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({title:"",description:"",color:"from-blue-500 to-cyan-500"}),c=async()=>{if(!K||!a.title)return;const g=Ji(a.title),{error:f}=await K.from("categories").insert([{id:g,...a}]);f?alert(`Error adding category: ${f.message}`):(o({title:"",description:"",color:"from-blue-500 to-cyan-500"}),r(!1),t())},u=async()=>{if(!K||!i)return;const{error:g}=await K.from("categories").update({title:i.title,description:i.description,color:i.color}).eq("id",i.id);g?alert(`Error updating category: ${g.message}`):(s(null),t())},d=async g=>{if(!K||!confirm("Delete this category? This might affect posts linked to it."))return;const{error:f}=await K.from("categories").delete().eq("id",g);f?alert(`Error deleting category: ${f.message}`):t()},h=[{label:"Blue/Cyan",value:"from-blue-500 to-cyan-400"},{label:"Purple/Pink",value:"from-purple-500 to-pink-500"},{label:"Emerald/Teal",value:"from-emerald-500 to-teal-400"},{label:"Orange/Red",value:"from-orange-500 to-red-500"},{label:"Indigo/Violet",value:"from-indigo-500 to-violet-500"},{label:"Rose/Amber",value:"from-rose-500 to-amber-500"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Community Categories"}),!n&&!i&&l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:[l.jsx(Mn,{size:16})," Add Category"]})]}),n&&l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 grid gap-4",children:[l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"New Category"}),l.jsx("input",{type:"text",placeholder:"Category Title",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:a.title,onChange:g=>o({...a,title:g.target.value})}),l.jsx("input",{type:"text",placeholder:"Description",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:a.description,onChange:g=>o({...a,description:g.target.value})}),l.jsx("select",{className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:a.color,onChange:g=>o({...a,color:g.target.value}),children:h.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:c,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium",children:"Create"})]})]}),i&&l.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-xl border border-indigo-200 dark:border-indigo-800 grid gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:["Editing: ",i.title]}),l.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Ht,{size:16})})]}),l.jsx("input",{type:"text",placeholder:"Category Title",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:i.title,onChange:g=>s({...i,title:g.target.value})}),l.jsx("input",{type:"text",placeholder:"Description",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:i.description,onChange:g=>s({...i,description:g.target.value})}),l.jsx("select",{className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",value:i.color,onChange:g=>s({...i,color:g.target.value}),children:h.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg",children:"Cancel"}),l.jsxs("button",{onClick:u,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[l.jsx(Ps,{size:16})," Save Changes"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl group hover:border-indigo-500/30 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${g.color} flex items-center justify-center text-white shadow-sm`,children:l.jsx(hs,{size:20})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:g.title}),l.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:g.description})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>s(g),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg",title:"Edit",children:l.jsx(Vr,{size:16})}),l.jsx("button",{onClick:()=>d(g.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete",children:l.jsx(nn,{size:16})})]})]},g.id))})]})},wu=[{id:"news",label:"News & Updates"},{id:"research",label:"Research Experience"},{id:"project",label:"Projects"},{id:"experience",label:"Work Experience"},{id:"education",label:"Education"},{id:"honor",label:"Honors & Awards"},{id:"leadership",label:"Leadership"}],uN=({items:e,onRefresh:t})=>{var p,m,b,y,_,v,S,I,k,D,z,W,O,G,M,ee,Q;const[n,r]=$.useState("news"),[i,s]=$.useState(null),[a,o]=$.useState(!1),c=e.filter(P=>P.section===n).sort((P,j)=>(P.display_order||0)-(j.display_order||0)),u=async()=>{if(!K||!i)return;let P=i.display_order;P===void 0&&(P=Math.max(...c.map(q=>q.display_order||0),0)+1);const j={section:n,title:i.title||"Untitled",subtitle:i.subtitle||"",organization:i.organization||"",period:i.period||"",description:i.description||"",details:i.details||{},display_order:P};let C;i.id?C=(await K.from("portfolio_items").update(j).eq("id",i.id)).error:C=(await K.from("portfolio_items").insert([{...j,id:S0()}])).error,C?alert(`Error saving item: ${C.message}`):(s(null),o(!1),t())},d=async P=>{if(!K||!confirm("Delete this item?"))return;const{error:j}=await K.from("portfolio_items").delete().eq("id",P);j?alert(`Error deleting item: ${j.message}`):t()},h=async(P,j)=>{if(!K)return;const C=[...c],R=j==="up"?P-1:P+1;if(R<0||R>=C.length)return;const q=C[P];C[P]=C[R],C[R]=q;const x=C.map((U,B)=>({id:U.id,display_order:B+1}));for(const U of x)await K.from("portfolio_items").update({display_order:U.display_order}).eq("id",U.id);t()},g=P=>{s(P),o(!0)},f=()=>{s({section:n,details:{},display_order:c.length+1}),o(!0)};return l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 flex flex-col md:flex-row overflow-hidden min-h-[600px]",children:[l.jsxs("div",{className:"w-full md:w-64 bg-gray-50 dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 p-4",children:[l.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-2",children:"Sections"}),l.jsx("div",{className:"space-y-1",children:wu.map(P=>l.jsx("button",{onClick:()=>{r(P.id),o(!1),s(null)},className:`w-full text-left px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===P.id?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:P.label},P.id))})]}),l.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Manage ",(p=wu.find(P=>P.id===n))==null?void 0:p.label]}),!a&&l.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[l.jsx(Mn,{size:16})," Add Item"]})]}),a&&i?l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Title"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.title||"",onChange:P=>s({...i,title:P.target.value}),placeholder:"e.g., Project Name, Article Title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:n==="news"?"Category":n==="education"?"Degree":"Subtitle / Role"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.subtitle||"",onChange:P=>s({...i,subtitle:P.target.value})})]}),n!=="news"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Organization / Lab / School"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.organization||"",onChange:P=>s({...i,organization:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Period / Date"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:i.period||"",onChange:P=>s({...i,period:P.target.value})})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Description"}),l.jsx(tn,{content:i.description||"",onChange:P=>s({...i,description:typeof P=="string"?P:""}),minHeight:"200px"})]}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mb-4",children:[l.jsx("h4",{className:"text-sm font-bold mb-3 text-indigo-600",children:"Advanced Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==="research"||n==="experience")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Image / Logo URL"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((m=i.details)==null?void 0:m.image)||"",onChange:P=>s({...i,details:{...i.details,image:P.target.value}}),placeholder:"https://..."})]}),(n==="research"||n==="project")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Tags / Tech Stack (comma sep)"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((y=(b=i.details)==null?void 0:b.tags)==null?void 0:y.join(", "))||"",onChange:P=>s({...i,details:{...i.details,tags:P.target.value.split(",").map(j=>j.trim())}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Github Link"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((v=(_=i.details)==null?void 0:_.links)==null?void 0:v.github)||"",onChange:P=>{var j;return s({...i,details:{...i.details,links:{...(j=i.details)==null?void 0:j.links,github:P.target.value}}})}})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 mb-1 flex items-center gap-1",children:[l.jsx(Cd,{size:12})," Color Theme"]}),l.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((S=i.details)==null?void 0:S.color)||"",onChange:P=>s({...i,details:{...i.details,color:P.target.value}}),children:[l.jsx("option",{value:"",children:"Auto (Cycle)"}),l.jsx("option",{value:"nebula",children:"Nebula (Purple/Blue)"}),l.jsx("option",{value:"ocean",children:"Ocean (Blue/Cyan)"}),l.jsx("option",{value:"sunset",children:"Sunset (Orange/Rose)"}),l.jsx("option",{value:"forest",children:"Forest (Emerald/Teal)"})]})]})]}),n==="research"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Advisor"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((I=i.details)==null?void 0:I.advisor)||"",onChange:P=>s({...i,details:{...i.details,advisor:P.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Team (comma sep)"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((D=(k=i.details)==null?void 0:k.team)==null?void 0:D.join(", "))||"",onChange:P=>s({...i,details:{...i.details,team:P.target.value.split(",").map(j=>j.trim())}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Status"}),l.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((z=i.details)==null?void 0:z.status)||"ongoing",onChange:P=>s({...i,details:{...i.details,status:P.target.value}}),children:[l.jsx("option",{value:"ongoing",children:"Ongoing"}),l.jsx("option",{value:"completed",children:"Completed"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Scholar Link"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((O=(W=i.details)==null?void 0:W.links)==null?void 0:O.scholar)||"",onChange:P=>{var j;return s({...i,details:{...i.details,links:{...(j=i.details)==null?void 0:j.links,scholar:P.target.value}}})}})]})]}),n==="project"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Type"}),l.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((G=i.details)==null?void 0:G.type)||"Industry",onChange:P=>s({...i,details:{...i.details,type:P.target.value}}),children:[l.jsx("option",{value:"Industry",children:"Industry / Competition"}),l.jsx("option",{value:"Course",children:"Course Project"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Demo Link"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((ee=(M=i.details)==null?void 0:M.links)==null?void 0:ee.demo)||"",onChange:P=>{var j;return s({...i,details:{...i.details,links:{...(j=i.details)==null?void 0:j.links,demo:P.target.value}}})}})]})]}),(n==="honor"||n==="leadership")&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Icon Name (Lucide)"}),l.jsx("input",{className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900",value:((Q=i.details)==null?void 0:Q.icon)||"",onChange:P=>s({...i,details:{...i.details,icon:P.target.value}}),placeholder:"Award, Star, Trophy..."}),l.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Leave empty for default icon."})]})]})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{o(!1),s(null)},className:"px-4 py-2 text-gray-500 hover:bg-gray-200 rounded-lg",children:"Cancel"}),l.jsxs("button",{onClick:u,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium flex items-center gap-2",children:[l.jsx(Ps,{size:16})," Save Item"]})]})]}):l.jsxs("div",{className:"space-y-3",children:[c.length===0&&l.jsx("div",{className:"text-gray-500 text-center py-10",children:"No items in this section yet."}),c.map((P,j)=>l.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-4 rounded-xl flex justify-between items-start group hover:shadow-md transition-all",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("button",{onClick:()=>h(j,"up"),disabled:j===0,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30 disabled:hover:text-gray-400",children:l.jsx(Hr,{size:16})}),l.jsx("button",{onClick:()=>h(j,"down"),disabled:j===c.length-1,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30 disabled:hover:text-gray-400",children:l.jsx(Gr,{size:16})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:P.title}),l.jsxs("p",{className:"text-sm text-gray-500",children:[P.subtitle," ",P.organization&&` ${P.organization}`]}),P.period&&l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:P.period})]})]}),l.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>g(P),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:l.jsx(Vr,{size:16})}),l.jsx("button",{onClick:()=>d(P.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:l.jsx(nn,{size:16})})]})]},P.id))]})]})]})},dN=({posts:e,onRefresh:t})=>{var h;const[n,r]=$.useState(null),[i,s]=$.useState(0),a=async(g,f)=>{if(!K)return;const p=[...e],m=f==="up"?g-1:g+1;if(m<0||m>=p.length)return;const b=p[g];p[g]=p[m],p[m]=b;const y=p.map((_,v)=>({id:_.id,display_order:v+1}));for(const _ of y)await K.from("community_posts").update({display_order:_.display_order}).eq("id",_.id);t()},o=async g=>{if(!confirm("Are you sure you want to delete this post?")||!K)return;const{error:f}=await K.from("community_posts").delete().eq("id",g);f?alert(f.message):t()},c=async(g,f)=>{if(!K)return;const{error:p}=await K.from("community_posts").update({status:f}).eq("id",g);p?alert(p.message):t()},u=async g=>{K&&await K.from("community_posts").update({title:g.title,content:g.content,category:g.category,tags:g.tags}).eq("id",g.id)},d=jf(n,async g=>{g&&await u(g)},3e3);return $.useEffect(()=>{if(!K||!n)return;const g=K.channel(`post:${n.id}`).on("presence",{event:"sync"},()=>{const f=g.presenceState();s(Object.keys(f).length)}).subscribe(async f=>{f==="SUBSCRIBED"&&await g.track({user:"admin",online_at:new Date().toISOString()})});return()=>{K.removeChannel(g)}},[n]),n?l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Post"}),l.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:i>1&&l.jsxs("span",{className:"flex items-center gap-1 text-indigo-600 font-bold animate-pulse",children:[l.jsx(Ho,{size:12})," ",i," admins viewing"]})})]}),l.jsx("button",{onClick:()=>{r(null),t()},className:"p-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:l.jsx(Ht,{size:20})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),l.jsx("input",{type:"text",value:n.title,onChange:g=>r({...n,title:g.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-lg font-medium"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),l.jsx("input",{type:"text",value:n.category,onChange:g=>r({...n,category:g.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (comma sep)"}),l.jsx("input",{type:"text",value:(h=n.tags)==null?void 0:h.join(", "),onChange:g=>r({...n,tags:g.target.value.split(",").map(f=>f.trim())}),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),l.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50",children:l.jsx(tn,{content:n.content,onChange:g=>r({...n,content:typeof g=="string"?g:""}),minHeight:"500px",saveStatus:d},n.id)})]}),l.jsx("div",{className:"flex justify-end pt-4",children:l.jsx("button",{onClick:()=>{r(null),t()},className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 flex items-center gap-2 shadow-lg shadow-indigo-500/20",children:"Done Editing"})})]})]}):l.jsxs("div",{className:"space-y-4",children:[e.length===0&&l.jsx("div",{className:"text-center py-12 text-gray-500 bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800",children:"No posts found."}),e.map((g,f)=>l.jsxs("div",{className:Ze("bg-white dark:bg-gray-900 border rounded-xl p-4 flex flex-col md:flex-row gap-4 items-start md:items-center transition-all hover:shadow-md",g.status==="pending"?"border-amber-200 dark:border-amber-900/50 bg-amber-50/50 dark:bg-amber-900/10":"border-gray-200 dark:border-gray-800"),children:[l.jsxs("div",{className:"flex md:flex-col gap-1",children:[l.jsx("button",{onClick:()=>a(f,"up"),disabled:f===0,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Hr,{size:16})}),l.jsx("button",{onClick:()=>a(f,"down"),disabled:f===e.length-1,className:"p-1 text-gray-400 hover:text-indigo-600 disabled:opacity-30",children:l.jsx(Gr,{size:16})})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:Ze("px-2 py-0.5 text-[10px] uppercase font-bold rounded-full",g.status==="approved"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":g.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:g.status}),l.jsx("span",{className:"text-xs text-gray-500",children:new Date(g.created_at).toLocaleDateString()})]}),l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg",children:g.title}),l.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-indigo-600 dark:text-indigo-400",children:g.author_name}),l.jsx("span",{children:""}),l.jsx("span",{children:g.category})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ce,{to:`/community/${g.id}`,target:"_blank",className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"View Live",children:l.jsx(Od,{size:18})}),g.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>c(g.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg",title:"Approve",children:l.jsx(Ha,{size:18})}),l.jsx("button",{onClick:()=>c(g.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Reject",children:l.jsx(Lm,{size:18})})]}),l.jsx("button",{onClick:()=>r(g),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg",title:"Edit Content",children:l.jsx(Vr,{size:18})}),l.jsx("button",{onClick:()=>o(g.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete",children:l.jsx(nn,{size:18})})]})]},g.id))]})},hN=({stats:e,onChangeTab:t})=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Welcome back, Admin"}),l.jsxs("p",{className:"text-indigo-100 max-w-xl",children:["You have full control over the platform.",e.posts.pending>0?` There are ${e.posts.pending} community posts waiting for your review.`:" Everything is up to date."]})]}),l.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-white/10 skew-x-12 transform translate-x-12"}),l.jsx("div",{className:"absolute bottom-0 right-12 w-24 h-24 bg-white/10 rounded-full blur-2xl"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Hi,{title:"Pending Posts",value:e.posts.pending,icon:Rd,color:"amber",onClick:()=>t("community"),highlight:e.posts.pending>0}),l.jsx(Hi,{title:"Total Topics",value:e.curriculum.topics,icon:oi,color:"blue",onClick:()=>t("curriculum")}),l.jsx(Hi,{title:"Community Posts",value:e.posts.total,icon:yn,color:"green",onClick:()=>t("community")}),l.jsx(Hi,{title:"Portfolio Items",value:e.portfolio.total,icon:js,color:"purple",onClick:()=>t("portfolio")})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(Pm,{size:20,className:"text-indigo-500"})," Activity & Actions"]}),l.jsx("div",{className:"space-y-3",children:e.posts.pending>0?l.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-900/50 rounded-xl flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400 rounded-lg",children:l.jsx(yn,{size:18})}),l.jsxs("div",{children:[l.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[e.posts.pending," New Posts"]}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Community submissions need review"})]})]}),l.jsx("button",{onClick:()=>t("community"),className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-lg transition-colors",children:"Review"})]}):l.jsxs("div",{className:"p-8 text-center text-gray-500 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:[l.jsx(ci,{size:32,className:"mx-auto mb-2 text-green-500"}),l.jsx("p",{children:"All caught up! No pending actions."})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(Go,{size:20,className:"text-indigo-500"})," Content Breakdown"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Curriculum Subjects"})]}),l.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.curriculum.subjects})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Learning Modules"})]}),l.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.curriculum.modules})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Topics"})]}),l.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.curriculum.topics})]}),l.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-800 h-px my-2"}),l.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Approved Posts"})]}),l.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.posts.approved})]})]})]})]})]}),Hi=({title:e,value:t,icon:n,color:r,onClick:i,highlight:s})=>{const a={amber:"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400",blue:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",green:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",purple:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400"};return l.jsxs(ue.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:`bg-white dark:bg-gray-900 p-6 rounded-2xl border text-left w-full transition-all ${s?"border-amber-500/50 shadow-lg shadow-amber-500/10":"border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-lg"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:`p-3 rounded-xl ${a[r]}`,children:l.jsx(n,{size:24})}),s&&l.jsxs("span",{className:"flex h-3 w-3 relative",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-amber-500"})]})]}),l.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:t}),l.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:e})]})},gN=()=>{const[e,t]=$.useState(null),[n,r]=$.useState(!0),[i,s]=$.useState("login"),[a,o]=$.useState(""),[c,u]=$.useState(""),[d,h]=$.useState(null),[g,f]=$.useState(null),[p,m]=$.useState("overview"),[b,y]=$.useState(null),{subjects:_,refresh:v}=Hs(),{homeSettings:S,aboutSettings:I,communitySettings:k,contributeSettings:D,categories:z,refresh:W}=qt(),{items:O,refresh:G}=Pw(),{posts:M,refresh:ee}=bg();$.useEffect(()=>{if(K){K.auth.getSession().then(({data:{session:U},error:B})=>{B?(console.warn("Session error detected, signing out:",B.message),K.auth.signOut(),t(null)):t(U),r(!1)});const{data:{subscription:x}}=K.auth.onAuthStateChange((U,B)=>{t(B)});return()=>x.unsubscribe()}else r(!1)},[]);const Q=async x=>{if(x.preventDefault(),h(null),!K){h("Supabase is not connected. Please connect your project.");return}const{error:U}=await K.auth.signInWithPassword({email:a,password:c});U&&h(U.message)},P=async x=>{if(x.preventDefault(),h(null),!K){h("Supabase is not connected.");return}const{error:U}=await K.auth.signUp({email:a,password:c});U?h(U.message):(f("Account created! You can now log in."),s("login"))},j=async x=>{if(x.preventDefault(),h(null),!K){h("Supabase is not connected.");return}const{error:U}=await K.auth.resetPasswordForEmail(a,{redirectTo:window.location.origin+"/admin"});U?h(U.message):(f("Reset link sent!"),s("login"))},C=async()=>{K&&await K.auth.signOut(),t(null)},R=async()=>{if(!K||!qx){y({type:"error",message:"Supabase not connected."});return}if(confirm("This will overwrite existing data with the default curriculum, categories, and portfolio items. Continue?"))try{for(const x of ts){await K.from("subjects").upsert({id:x.id,title:x.title,description:x.description,icon:x.icon,color:x.color,level:x.level});for(const U of x.modules){await K.from("modules").upsert({id:U.id,title:U.title,description:U.description,subject_id:x.id});for(const B of U.topics)await K.from("topics").upsert({id:B.id,title:B.title,read_time:B.readTime,content:B.content,module_id:U.id})}}for(const x of Zx)await K.from("categories").upsert(x);for(const x of rs)await K.from("portfolio_items").upsert(x);y({type:"success",message:"Database successfully seeded!"}),v(),W(),G()}catch(x){console.error(x),y({type:"error",message:"Failed to seed database."})}},q={posts:{total:M.length,pending:M.filter(x=>x.status==="pending").length,approved:M.filter(x=>x.status==="approved").length},curriculum:{subjects:_.length,modules:_.reduce((x,U)=>x+U.modules.length,0),topics:_.reduce((x,U)=>x+U.modules.reduce((B,w)=>B+w.topics.length,0),0)},portfolio:{total:O.length}};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full"})}):e?l.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 dark:bg-gray-950 py-12 pt-24",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Welcome back, ",e.user.email]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex bg-white dark:bg-gray-900 rounded-lg p-1 border border-gray-200 dark:border-gray-800 overflow-x-auto",children:[l.jsxs("button",{onClick:()=>m("overview"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="overview"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[l.jsx($m,{size:16})," Overview"]}),l.jsxs("button",{onClick:()=>m("pages"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="pages"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[l.jsx(gs,{size:16})," Site Editor"]}),l.jsxs("button",{onClick:()=>m("portfolio"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="portfolio"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[l.jsx(js,{size:16})," Portfolio"]}),l.jsxs("button",{onClick:()=>m("community"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="community"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[l.jsx(Ho,{size:16})," Community"]}),l.jsxs("button",{onClick:()=>m("curriculum"),className:`px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 whitespace-nowrap ${p==="curriculum"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-600 dark:text-gray-400"}`,children:[l.jsx(oi,{size:16})," Curriculum"]})]}),l.jsx("button",{onClick:C,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:l.jsx(zm,{size:20})})]})]}),b&&l.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-green-50 text-green-700 border border-green-200 flex items-center gap-2",children:[l.jsx(Ha,{size:18})," ",b.message]}),p==="overview"&&l.jsx(hN,{stats:q,onChangeTab:x=>m(x)}),p==="pages"&&l.jsx(lN,{initialHome:S,initialAbout:I,initialCommunity:k,initialContribute:D,onRefresh:W}),p==="portfolio"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-900 p-4 rounded-xl border border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[l.jsx(Ua,{size:18}),l.jsx("span",{className:"font-medium",children:"Quick Actions"})]}),l.jsxs("button",{onClick:R,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 flex items-center gap-2",children:[l.jsx(Bm,{size:16})," Seed Demo Data"]})]}),l.jsx(uN,{items:O,onRefresh:G})]}),p==="community"&&l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:l.jsx(cN,{categories:z,onRefresh:W})}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 border border-gray-200 dark:border-gray-800",children:[l.jsx("h3",{className:"text-xl font-bold mb-6",children:"Manage Posts"}),l.jsx(dN,{posts:M,onRefresh:ee})]})]}),p==="curriculum"&&l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 flex justify-between items-center",children:[l.jsx("h2",{className:"text-lg font-bold",children:"Manage Courses"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:R,className:"px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 rounded-lg text-sm font-medium flex items-center gap-2 hover:bg-indigo-100 dark:hover:bg-indigo-900/50",title:"Reset/Fill Database with Default Data",children:[l.jsx(Ua,{size:16})," Seed DB"]}),l.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:l.jsx(Um,{size:16})})]})]}),l.jsx("div",{className:"p-6",children:l.jsx(oN,{subjects:_,onRefresh:v})})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950 px-4",children:l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-900 p-8 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Dm,{className:"text-indigo-600 dark:text-indigo-400",size:32})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Access"})]}),d&&l.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm flex items-center gap-2",children:[l.jsx(Rd,{size:16})," ",d]}),g&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-lg text-sm flex items-center gap-2",children:[l.jsx(Ha,{size:16})," ",g]}),l.jsxs("form",{onSubmit:i==="login"?Q:i==="signup"?P:j,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:a,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",required:!0})]}),i!=="forgot"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),l.jsx("input",{type:"password",value:c,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800",required:!0})]}),l.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 transition-colors",children:i==="login"?"Login":i==="signup"?"Sign Up":"Send Reset Link"})]}),l.jsxs("div",{className:"mt-6 text-center text-sm",children:[i==="login"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>s("forgot"),className:"text-indigo-600 hover:underline",children:"Forgot Password?"}),l.jsxs("div",{className:"mt-2 text-gray-400",children:["First time? ",l.jsx("button",{onClick:()=>s("signup"),className:"text-gray-600 dark:text-gray-300 hover:text-indigo-600 font-medium",children:"Create Account"})]})]}),i!=="login"&&l.jsx("button",{onClick:()=>s("login"),className:"text-gray-600 dark:text-gray-300 hover:text-indigo-600",children:"Back to Login"})]})]})})},fN=()=>{const{contributeSettings:e,categories:t}=qt(),[n,r]=$.useState({title:"",subject:"",author:"",email:"",avatar:"",content:"",tags:""}),[i,s]=$.useState(!1),[a,o]=$.useState(!1);$.useEffect(()=>{t.length>0&&!n.subject&&r(u=>({...u,subject:t[0].title}))},[t]);const c=async u=>{if(u.preventDefault(),o(!0),!n.content||n.content==="<p></p>"){alert("Please write some content for your post."),o(!1);return}try{if(K){const{error:d}=await K.from("community_posts").insert([{title:n.title,category:n.subject||"General",author_name:n.author,author_email:n.email,author_avatar:n.avatar,content:n.content,tags:n.tags.split(",").map(h=>h.trim()).filter(Boolean),status:"pending"}]);if(d)throw d}setTimeout(()=>{s(!0),o(!1)},1e3)}catch(d){console.error(d),o(!1)}};return i?l.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-gray-50 dark:bg-gray-950 p-4 pt-20",children:l.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-900 rounded-2xl p-8 border border-gray-200 dark:border-gray-800 shadow-xl text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Gl,{className:"text-green-600 dark:text-green-400",size:32})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Submission Received!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"Thanks for contributing. Your post has been sent to the admin for review. Once approved, it will appear in the Community section."}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx(Ce,{to:"/community",className:"px-6 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"View Community"}),l.jsx("button",{onClick:()=>{s(!1),r({...n,title:"",content:""})},className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors",children:"Submit Another"})]})]})}):l.jsx("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 dark:bg-gray-950 py-12 pt-24",children:l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:e.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:e.subtitle})]}),l.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-8 border border-gray-200 dark:border-gray-800 shadow-sm",children:l.jsxs("form",{onSubmit:c,className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Post Title"}),l.jsx("input",{type:"text",required:!0,value:n.title,onChange:u=>r({...n,title:u.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",placeholder:"e.g., A Deep Dive into Distributed Caching"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),l.jsxs("select",{value:n.subject,onChange:u=>r({...n,subject:u.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",children:[t.map(u=>l.jsx("option",{value:u.title,children:u.title},u.id)),!t.length&&l.jsx("option",{value:"General",children:"General"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (comma separated)"}),l.jsx("input",{type:"text",value:n.tags,onChange:u=>r({...n,tags:u.target.value}),className:"w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"react, tutorial, system-design"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-6 rounded-xl border border-gray-200 dark:border-gray-700 h-fit",children:[l.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(gs,{size:16})," Author Details"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Name"}),l.jsx("input",{type:"text",required:!0,value:n.author,onChange:u=>r({...n,author:u.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"John Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:n.email,onChange:u=>r({...n,email:u.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"john@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Avatar URL"}),l.jsx("input",{type:"text",value:n.avatar,onChange:u=>r({...n,avatar:u.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-sm",placeholder:"https://..."})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Go,{size:18})," Content"]}),l.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200 dark:border-gray-800 shadow-inner bg-gray-100 dark:bg-gray-950/50",children:l.jsx(tn,{content:n.content,onChange:u=>r({...n,content:typeof u=="string"?u:""}),minHeight:"500px"})}),l.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[l.jsx("span",{children:"Supports Markdown shortcuts, drag & drop images, and code blocks."}),l.jsx("span",{children:"Auto-expands as you type."})]})]}),l.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800 flex justify-end",children:l.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg transition-all shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/40 transform hover:-translate-y-0.5",children:[a?"Submitting...":"Submit for Review"," ",l.jsx(Gl,{size:18})]})})]})})]})})},ko=()=>l.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:l.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-950",children:[l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),l.jsx(ue.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-indigo-500/10 rounded-full blur-[100px]"}),l.jsx(ue.div,{animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 right-1/4 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-[100px]"})]})}),pN=()=>{const[e,t]=$.useState([]),[n,r]=$.useState(!0),[i,s]=$.useState(null),[a,o]=$.useState(""),{categories:c,communitySettings:u}=qt();$.useEffect(()=>{i&&d(i)},[i]);const d=async g=>{r(!0);try{if(K){const{data:f,error:p}=await K.from("community_posts").select("*").eq("status","approved").eq("category",g).order("display_order",{ascending:!0}).order("created_at",{ascending:!1});if(p)throw p;t(f||[])}}catch(f){console.error("Error fetching community posts:",f)}finally{r(!1)}},h=e.filter(g=>g.title.toLowerCase().includes(a.toLowerCase())||g.content.toLowerCase().includes(a.toLowerCase()));return i?l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsx(ko,{}),l.jsxs("div",{className:"container mx-auto px-4 max-w-6xl relative z-10 pt-28 pb-20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>s(null),className:"group flex items-center text-sm font-bold text-gray-500 hover:text-indigo-600 mb-4 transition-colors uppercase tracking-wide",children:[l.jsx(Fm,{size:16,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),"Back to Categories"]}),l.jsxs("h2",{className:"text-4xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[i,l.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-sm font-bold align-middle",children:"Topic"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Hm,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search posts...",value:a,onChange:g=>o(g.target.value),className:"pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm text-sm focus:ring-2 focus:ring-indigo-500 outline-none w-full md:w-64 transition-all"})]}),l.jsx(Ce,{to:"/contribute",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 whitespace-nowrap",children:"+ Create Post"})]})]}),n?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(g=>l.jsx("div",{className:"h-64 bg-white/50 dark:bg-gray-900/50 rounded-3xl animate-pulse border border-gray-200 dark:border-gray-800"},g))}):h.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.jsx(bn,{children:h.map((g,f)=>{var p;return l.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:f*.05},children:l.jsx(Ce,{to:`/community/${g.id}`,className:"block h-full group",children:l.jsxs("article",{className:"h-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm rounded-3xl p-6 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/50 transition-all hover:shadow-xl hover:-translate-y-1 flex flex-col relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-500 opacity-0 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Discussion"})]}),l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-md",children:[l.jsx(kd,{size:12})," ",new Date(g.created_at).toLocaleDateString()]})]}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-indigo-600 transition-colors leading-tight",children:g.title}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6 line-clamp-3 flex-1 text-sm leading-relaxed",children:[g.content.replace(/<[^>]*>?/gm,"").substring(0,150),"..."]}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:(p=g.tags)==null?void 0:p.slice(0,2).map(m=>l.jsxs("span",{className:"px-2 py-1 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-xs font-medium flex items-center gap-1",children:[l.jsx(bd,{size:10})," ",m]},m))}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800 mt-auto",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[g.author_avatar?l.jsx("img",{src:g.author_avatar,alt:g.author_name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-900"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold ring-2 ring-white dark:ring-gray-900",children:g.author_name.charAt(0)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:g.author_name}),l.jsx("span",{className:"text-[10px] text-gray-500",children:"Author"})]})]}),l.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:l.jsx(rn,{size:14})})]})]})})},g.id)})})}):l.jsxs("div",{className:"text-center py-24 bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-3xl border border-gray-200 dark:border-gray-800 border-dashed",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:l.jsx(yn,{size:24})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No posts found"}),l.jsx("p",{className:"text-gray-500 mb-8 max-w-sm mx-auto",children:a?`No results for "${a}"`:`Be the first to write about ${i}!`}),l.jsx(Ce,{to:"/contribute",className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors",children:"Start a Discussion"})]})]})]}):l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsx(ko,{}),l.jsxs("div",{className:"container mx-auto px-4 max-w-5xl relative z-10 pt-32 pb-20",children:[l.jsx("div",{className:"text-center mb-16",children:l.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border border-gray-200 dark:border-gray-800 text-indigo-600 dark:text-indigo-400 text-xs font-bold mb-6 shadow-sm",children:[l.jsx(Do,{size:12}),l.jsx("span",{className:"uppercase tracking-wide",children:"Knowledge Hub"})]}),l.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-4 tracking-tight",children:u.title}),l.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-xl mx-auto mb-8 leading-relaxed",children:u.subtitle}),l.jsxs(Ce,{to:"/contribute",className:"inline-flex items-center gap-2 px-6 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-bold hover:scale-105 transition-transform shadow-lg shadow-indigo-500/10 text-sm",children:[l.jsx(yn,{size:16})," Start a Discussion"]})]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:c.map((g,f)=>l.jsxs(ue.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},onClick:()=>s(g.title),className:"group relative bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-xl p-5 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 text-left transition-all hover:shadow-lg hover:-translate-y-0.5 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${g.color} flex items-center justify-center text-white shadow-sm`,children:l.jsx(hs,{size:18})}),l.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400",children:l.jsx(rn,{size:16})})]}),l.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white mb-1 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:g.title}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 leading-relaxed",children:g.description})]},g.id))})]})]})};function mN(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const bN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xN={};function vu(e,t){return(xN.jsx?yN:bN).test(e)}const wN=/[ \t\n\f\r]/g;function vN(e){return typeof e=="object"?e.type==="text"?_u(e.value):!1:_u(e)}function _u(e){return e.replace(wN,"")===""}class pi{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}pi.prototype.normal={};pi.prototype.property={};pi.prototype.space=void 0;function If(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new pi(n,r,t)}function Eo(e){return e.toLowerCase()}class yt{constructor(t,n){this.attribute=n,this.property=t}}yt.prototype.attribute="";yt.prototype.booleanish=!1;yt.prototype.boolean=!1;yt.prototype.commaOrSpaceSeparated=!1;yt.prototype.commaSeparated=!1;yt.prototype.defined=!1;yt.prototype.mustUseProperty=!1;yt.prototype.number=!1;yt.prototype.overloadedBoolean=!1;yt.prototype.property="";yt.prototype.spaceSeparated=!1;yt.prototype.space=void 0;let _N=0;const fe=Gn(),Fe=Gn(),So=Gn(),V=Gn(),Te=Gn(),hr=Gn(),wt=Gn();function Gn(){return 2**++_N}const No=Object.freeze(Object.defineProperty({__proto__:null,boolean:fe,booleanish:Fe,commaOrSpaceSeparated:wt,commaSeparated:hr,number:V,overloadedBoolean:So,spaceSeparated:Te},Symbol.toStringTag,{value:"Module"})),Sa=Object.keys(No);class gl extends yt{constructor(t,n,r,i){let s=-1;if(super(t,n),ku(this,"space",i),typeof r=="number")for(;++s<Sa.length;){const a=Sa[s];ku(this,Sa[s],(r&No[a])===No[a])}}}gl.prototype.defined=!0;function ku(e,t,n){n&&(e[t]=n)}function Sr(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new gl(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Eo(r)]=r,n[Eo(s.attribute)]=r}return new pi(t,n,e.space)}const Mf=Sr({properties:{ariaActiveDescendant:null,ariaAtomic:Fe,ariaAutoComplete:null,ariaBusy:Fe,ariaChecked:Fe,ariaColCount:V,ariaColIndex:V,ariaColSpan:V,ariaControls:Te,ariaCurrent:null,ariaDescribedBy:Te,ariaDetails:null,ariaDisabled:Fe,ariaDropEffect:Te,ariaErrorMessage:null,ariaExpanded:Fe,ariaFlowTo:Te,ariaGrabbed:Fe,ariaHasPopup:null,ariaHidden:Fe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Te,ariaLevel:V,ariaLive:null,ariaModal:Fe,ariaMultiLine:Fe,ariaMultiSelectable:Fe,ariaOrientation:null,ariaOwns:Te,ariaPlaceholder:null,ariaPosInSet:V,ariaPressed:Fe,ariaReadOnly:Fe,ariaRelevant:null,ariaRequired:Fe,ariaRoleDescription:Te,ariaRowCount:V,ariaRowIndex:V,ariaRowSpan:V,ariaSelected:Fe,ariaSetSize:V,ariaSort:null,ariaValueMax:V,ariaValueMin:V,ariaValueNow:V,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Lf(e,t){return t in e?e[t]:t}function Pf(e,t){return Lf(e,t.toLowerCase())}const kN=Sr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hr,acceptCharset:Te,accessKey:Te,action:null,allow:null,allowFullScreen:fe,allowPaymentRequest:fe,allowUserMedia:fe,alt:null,as:null,async:fe,autoCapitalize:null,autoComplete:Te,autoFocus:fe,autoPlay:fe,blocking:Te,capture:null,charSet:null,checked:fe,cite:null,className:Te,cols:V,colSpan:null,content:null,contentEditable:Fe,controls:fe,controlsList:Te,coords:V|hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fe,defer:fe,dir:null,dirName:null,disabled:fe,download:So,draggable:Fe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fe,formTarget:null,headers:Te,height:V,hidden:So,high:V,href:null,hrefLang:null,htmlFor:Te,httpEquiv:Te,id:null,imageSizes:null,imageSrcSet:null,inert:fe,inputMode:null,integrity:null,is:null,isMap:fe,itemId:null,itemProp:Te,itemRef:Te,itemScope:fe,itemType:Te,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fe,low:V,manifest:null,max:null,maxLength:V,media:null,method:null,min:null,minLength:V,multiple:fe,muted:fe,name:null,nonce:null,noModule:fe,noValidate:fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fe,optimum:V,pattern:null,ping:Te,placeholder:null,playsInline:fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fe,referrerPolicy:null,rel:Te,required:fe,reversed:fe,rows:V,rowSpan:V,sandbox:Te,scope:null,scoped:fe,seamless:fe,selected:fe,shadowRootClonable:fe,shadowRootDelegatesFocus:fe,shadowRootMode:null,shape:null,size:V,sizes:null,slot:null,span:V,spellCheck:Fe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:V,step:null,style:null,tabIndex:V,target:null,title:null,translate:null,type:null,typeMustMatch:fe,useMap:null,value:Fe,width:V,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Te,axis:null,background:null,bgColor:null,border:V,borderColor:null,bottomMargin:V,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fe,declare:fe,event:null,face:null,frame:null,frameBorder:null,hSpace:V,leftMargin:V,link:null,longDesc:null,lowSrc:null,marginHeight:V,marginWidth:V,noResize:fe,noHref:fe,noShade:fe,noWrap:fe,object:null,profile:null,prompt:null,rev:null,rightMargin:V,rules:null,scheme:null,scrolling:Fe,standby:null,summary:null,text:null,topMargin:V,valueType:null,version:null,vAlign:null,vLink:null,vSpace:V,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fe,disableRemotePlayback:fe,prefix:null,property:null,results:V,security:null,unselectable:null},space:"html",transform:Pf}),EN=Sr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wt,accentHeight:V,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:V,amplitude:V,arabicForm:null,ascent:V,attributeName:null,attributeType:null,azimuth:V,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:V,by:null,calcMode:null,capHeight:V,className:Te,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:V,diffuseConstant:V,direction:null,display:null,dur:null,divisor:V,dominantBaseline:null,download:fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:V,enableBackground:null,end:null,event:null,exponent:V,externalResourcesRequired:null,fill:null,fillOpacity:V,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hr,g2:hr,glyphName:hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:V,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:V,horizOriginX:V,horizOriginY:V,id:null,ideographic:V,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:V,k:V,k1:V,k2:V,k3:V,k4:V,kernelMatrix:wt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:V,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:V,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:V,overlineThickness:V,paintOrder:null,panose1:null,path:null,pathLength:V,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Te,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:V,pointsAtY:V,pointsAtZ:V,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wt,rev:wt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wt,requiredFeatures:wt,requiredFonts:wt,requiredFormats:wt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:V,specularExponent:V,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:V,strikethroughThickness:V,string:null,stroke:null,strokeDashArray:wt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:V,strokeOpacity:V,strokeWidth:null,style:null,surfaceScale:V,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wt,tabIndex:V,tableValues:null,target:null,targetX:V,targetY:V,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:V,underlineThickness:V,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:V,values:null,vAlphabetic:V,vMathematical:V,vectorEffect:null,vHanging:V,vIdeographic:V,version:null,vertAdvY:V,vertOriginX:V,vertOriginY:V,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:V,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Lf}),Df=Sr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),$f=Sr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Pf}),zf=Sr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),SN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},NN=/[A-Z]/g,Eu=/-[a-z]/g,TN=/^data[-\w.:]+$/i;function CN(e,t){const n=Eo(t);let r=t,i=yt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&TN.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Eu,ON);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Eu.test(s)){let a=s.replace(NN,AN);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=gl}return new i(r,t)}function AN(e){return"-"+e.toLowerCase()}function ON(e){return e.charAt(1).toUpperCase()}const RN=If([Mf,kN,Df,$f,zf],"html"),fl=If([Mf,EN,Df,$f,zf],"svg");function jN(e){return e.join(" ").trim()}var pl={},Su=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,IN=/\n/g,MN=/^\s*/,LN=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,PN=/^:\s*/,DN=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,$N=/^[;\s]*/,zN=/^\s+|\s+$/g,BN=`
`,Nu="/",Tu="*",Rn="",UN="comment",FN="declaration";function HN(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(IN);m&&(n+=m.length);var b=p.lastIndexOf(BN);r=~b?p.length-b:r+p.length}function s(){var p={line:n,column:r};return function(m){return m.position=new a(p),u(),m}}function a(p){this.start=p,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function c(p){var m=p.exec(e);if(m){var b=m[0];return i(b),e=e.slice(b.length),m}}function u(){c(MN)}function d(p){var m;for(p=p||[];m=h();)m!==!1&&p.push(m);return p}function h(){var p=s();if(!(Nu!=e.charAt(0)||Tu!=e.charAt(1))){for(var m=2;Rn!=e.charAt(m)&&(Tu!=e.charAt(m)||Nu!=e.charAt(m+1));)++m;if(m+=2,Rn===e.charAt(m-1))return o("End of comment missing");var b=e.slice(2,m-2);return r+=2,i(b),e=e.slice(m),r+=2,p({type:UN,comment:b})}}function g(){var p=s(),m=c(LN);if(m){if(h(),!c(PN))return o("property missing ':'");var b=c(DN),y=p({type:FN,property:Cu(m[0].replace(Su,Rn)),value:b?Cu(b[0].replace(Su,Rn)):Rn});return c($N),y}}function f(){var p=[];d(p);for(var m;m=g();)m!==!1&&(p.push(m),d(p));return p}return u(),f()}function Cu(e){return e?e.replace(zN,Rn):Rn}var GN=HN,qN=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pl,"__esModule",{value:!0});pl.default=KN;const WN=qN(GN);function KN(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,WN.default)(e),i=typeof t=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:o}=s;i?t(a,o,s):o&&(n=n||{},n[a]=o)}),n}var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.camelCase=void 0;var VN=/^--[a-zA-Z0-9_-]+$/,YN=/-([a-z])/g,JN=/^[^-]+$/,XN=/^-(webkit|moz|ms|o|khtml)-/,ZN=/^-(ms)-/,QN=function(e){return!e||JN.test(e)||VN.test(e)},eT=function(e,t){return t.toUpperCase()},Au=function(e,t){return"".concat(t,"-")},tT=function(e,t){return t===void 0&&(t={}),QN(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(ZN,Au):e=e.replace(XN,Au),e.replace(YN,eT))};Vs.camelCase=tT;var nT=Ft&&Ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},rT=nT(pl),iT=Vs;function To(e,t){var n={};return!e||typeof e!="string"||(0,rT.default)(e,function(r,i){r&&i&&(n[(0,iT.camelCase)(r,t)]=i)}),n}To.default=To;var sT=To;const aT=Bn(sT),Bf=Uf("end"),ml=Uf("start");function Uf(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oT(e){const t=ml(e),n=Bf(e);if(t&&n)return{start:t,end:n}}function qr(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Ou(e.position):"start"in e||"end"in e?Ou(e):"line"in e||"column"in e?Co(e):""}function Co(e){return Ru(e&&e.line)+":"+Ru(e&&e.column)}function Ou(e){return Co(e&&e.start)+"-"+Co(e&&e.end)}function Ru(e){return e&&typeof e=="number"?e:1}class st extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=qr(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}st.prototype.file="";st.prototype.name="";st.prototype.reason="";st.prototype.message="";st.prototype.stack="";st.prototype.column=void 0;st.prototype.line=void 0;st.prototype.ancestors=void 0;st.prototype.cause=void 0;st.prototype.fatal=void 0;st.prototype.place=void 0;st.prototype.ruleId=void 0;st.prototype.source=void 0;const bl={}.hasOwnProperty,lT=new Map,cT=/[A-Z]/g,uT=new Set(["table","tbody","thead","tfoot","tr"]),dT=new Set(["td","th"]),Ff="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hT(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=wT(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=xT(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fl:RN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Hf(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Hf(e,t,n){if(t.type==="element")return gT(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return fT(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mT(e,t,n);if(t.type==="mdxjsEsm")return pT(e,t);if(t.type==="root")return bT(e,t,n);if(t.type==="text")return yT(e,t)}function gT(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=fl,e.schema=i),e.ancestors.push(t);const s=qf(e,t.tagName,!1),a=vT(e,t);let o=xl(e,t);return uT.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!vN(c):!0})),Gf(e,a,s,t),yl(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function fT(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}si(e,t.position)}function pT(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);si(e,t.position)}function mT(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=fl,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:qf(e,t.name,!0),a=_T(e,t),o=xl(e,t);return Gf(e,a,s,t),yl(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function bT(e,t,n){const r={};return yl(r,xl(e,t)),e.create(t,e.Fragment,r,n)}function yT(e,t){return t.value}function Gf(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function yl(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function xT(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function wT(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),c=ml(r);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function vT(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&bl.call(t.properties,i)){const s=kT(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&dT.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _T(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else si(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else si(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function xl(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:lT;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=Hf(e,s,a);o!==void 0&&n.push(o)}return n}function kT(e,t,n){const r=CN(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mN(n):jN(n)),r.property==="style"){let i=typeof n=="object"?n:ET(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ST(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?SN[r.property]||r.property:r.attribute,n]}}function ET(e,t){try{return aT(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new st("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Ff+"#cannot-parse-style-attribute",i}}function qf(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=vu(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=vu(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return bl.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);si(e)}function si(e,t){const n=new st("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ff+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ST(e){const t={};let n;for(n in e)bl.call(e,n)&&(t[NT(n)]=e[n]);return t}function NT(e){let t=e.replace(cT,TT);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TT(e){return"-"+e.toLowerCase()}const Na={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},CT={};function wl(e,t){const n=CT,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Wf(e,r,i)}function Wf(e,t,n){if(AT(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ju(e.children,t,n)}return Array.isArray(e)?ju(e,t,n):""}function ju(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Wf(e[i],t,n);return r.join("")}function AT(e){return!!(e&&typeof e=="object")}const Iu=document.createElement("i");function vl(e){const t="&"+e+";";Iu.innerHTML=t;const n=Iu.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function kt(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Nt(e,t){return e.length>0?(kt(e,e.length,0,t),e):t}const Mu={}.hasOwnProperty;function Kf(e){const t={};let n=-1;for(;++n<e.length;)OT(t,e[n]);return t}function OT(e,t){let n;for(n in t){const i=(Mu.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){Mu.call(i,a)||(i[a]=[]);const o=s[a];RT(i[a],Array.isArray(o)?o:o?[o]:[])}}}function RT(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);kt(e,0,0,r)}function Vf(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Mt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ut=vn(/[A-Za-z]/),rt=vn(/[\dA-Za-z]/),jT=vn(/[#-'*+\--9=?A-Z^-~]/);function Cs(e){return e!==null&&(e<32||e===127)}const Ao=vn(/\d/),IT=vn(/[\dA-Fa-f]/),MT=vn(/[!-/:-@[-`{-~]/);function oe(e){return e!==null&&e<-2}function ke(e){return e!==null&&(e<0||e===32)}function ye(e){return e===-2||e===-1||e===32}const Ys=vn(new RegExp("\\p{P}|\\p{S}","u")),zn=vn(/\s/);function vn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Nr(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&rt(e.charCodeAt(n+1))&&rt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function we(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return ye(c)?(e.enter(n),o(c)):t(c)}function o(c){return ye(c)&&s++<i?(e.consume(c),o):(e.exit(n),t(c))}}const LT={tokenize:PT};function PT(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),we(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return oe(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const DT={tokenize:$T},Lu={tokenize:zT};function $T(e){const t=this,n=[];let r=0,i,s,a;return o;function o(v){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(v)}return u(v)}function c(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&_();const S=t.events.length;let I=S,k;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){k=t.events[I][1].end;break}y(r);let D=S;for(;D<t.events.length;)t.events[D][1].end={...k},D++;return kt(t.events,I+1,0,t.events.slice(S)),t.events.length=D,u(v)}return o(v)}function u(v){if(r===n.length){if(!i)return g(v);if(i.currentConstruct&&i.currentConstruct.concrete)return p(v);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Lu,d,h)(v)}function d(v){return i&&_(),y(r),g(v)}function h(v){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,p(v)}function g(v){return t.containerState={},e.attempt(Lu,f,p)(v)}function f(v){return r++,n.push([t.currentConstruct,t.containerState]),g(v)}function p(v){if(v===null){i&&_(),y(0),e.consume(v);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(v)}function m(v){if(v===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(v);return}return oe(v)?(e.consume(v),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(v),m)}function b(v,S){const I=t.sliceStream(v);if(S&&I.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(I),t.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const D=t.events.length;let z=D,W,O;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(W){O=t.events[z][1].end;break}W=!0}for(y(r),k=D;k<t.events.length;)t.events[k][1].end={...O},k++;kt(t.events,z+1,0,t.events.slice(D)),t.events.length=k}}function y(v){let S=n.length;for(;S-- >v;){const I=n[S];t.containerState=I[1],I[0].exit.call(t,e)}n.length=v}function _(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function zT(e,t,n){return we(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yr(e){if(e===null||ke(e)||zn(e))return 1;if(Ys(e))return 2}function Js(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Oo={name:"attention",resolveAll:BT,tokenize:UT};function BT(e,t){let n=-1,r,i,s,a,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},g={...e[n][1].start};Pu(h,-c),Pu(g,c),a={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},s={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Nt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Nt(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=Nt(u,Js(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Nt(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Nt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,kt(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function UT(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yr(r);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const u=e.exit("attentionSequence"),d=yr(c),h=!d||d===2&&i||n.includes(c),g=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?h:h&&(i||!g)),u._close=!!(s===42?g:g&&(d||!h)),t(c)}}function Pu(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const FT={name:"autolink",tokenize:HT};function HT(e,t,n){let r=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return ut(f)?(e.consume(f),a):f===64?n(f):u(f)}function a(f){return f===43||f===45||f===46||rt(f)?(r=1,o(f)):u(f)}function o(f){return f===58?(e.consume(f),r=0,c):(f===43||f===45||f===46||rt(f))&&r++<32?(e.consume(f),o):(r=0,u(f))}function c(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||Cs(f)?n(f):(e.consume(f),c)}function u(f){return f===64?(e.consume(f),d):jT(f)?(e.consume(f),u):n(f)}function d(f){return rt(f)?h(f):n(f)}function h(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):g(f)}function g(f){if((f===45||rt(f))&&r++<63){const p=f===45?g:h;return e.consume(f),p}return n(f)}}const mi={partial:!0,tokenize:GT};function GT(e,t,n){return r;function r(s){return ye(s)?we(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||oe(s)?t(s):n(s)}}const Yf={continuation:{tokenize:WT},exit:KT,name:"blockQuote",tokenize:qT};function qT(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return ye(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function WT(e,t,n){const r=this;return i;function i(a){return ye(a)?we(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Yf,t,n)(a)}}function KT(e){e.exit("blockQuote")}const Jf={name:"characterEscape",tokenize:VT};function VT(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return MT(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Xf={name:"characterReference",tokenize:YT};function YT(e,t,n){const r=this;let i=0,s,a;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=rt,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=IT,d):(e.enter("characterReferenceValue"),s=7,a=Ao,d(h))}function d(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return a===rt&&!vl(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<s?(e.consume(h),d):n(h)}}const Du={partial:!0,tokenize:XT},$u={concrete:!0,name:"codeFenced",tokenize:JT};function JT(e,t,n){const r=this,i={partial:!0,tokenize:I};let s=0,a=0,o;return c;function c(k){return u(k)}function u(k){const D=r.events[r.events.length-1];return s=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,o=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===o?(a++,e.consume(k),d):a<3?n(k):(e.exit("codeFencedFenceSequence"),ye(k)?we(e,h,"whitespace")(k):h(k))}function h(k){return k===null||oe(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(Du,m,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||oe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):ye(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),we(e,f,"whitespace")(k)):k===96&&k===o?n(k):(e.consume(k),g)}function f(k){return k===null||oe(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||oe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===o?n(k):(e.consume(k),p)}function m(k){return e.attempt(i,S,b)(k)}function b(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),y}function y(k){return s>0&&ye(k)?we(e,_,"linePrefix",s+1)(k):_(k)}function _(k){return k===null||oe(k)?e.check(Du,m,S)(k):(e.enter("codeFlowValue"),v(k))}function v(k){return k===null||oe(k)?(e.exit("codeFlowValue"),_(k)):(e.consume(k),v)}function S(k){return e.exit("codeFenced"),t(k)}function I(k,D,z){let W=0;return O;function O(P){return k.enter("lineEnding"),k.consume(P),k.exit("lineEnding"),G}function G(P){return k.enter("codeFencedFence"),ye(P)?we(k,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):M(P)}function M(P){return P===o?(k.enter("codeFencedFenceSequence"),ee(P)):z(P)}function ee(P){return P===o?(W++,k.consume(P),ee):W>=a?(k.exit("codeFencedFenceSequence"),ye(P)?we(k,Q,"whitespace")(P):Q(P)):z(P)}function Q(P){return P===null||oe(P)?(k.exit("codeFencedFence"),D(P)):z(P)}}}function XT(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Ta={name:"codeIndented",tokenize:QT},ZT={partial:!0,tokenize:eC};function QT(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),we(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):oe(u)?e.attempt(ZT,a,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||oe(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function eC(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):oe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):we(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):oe(a)?i(a):n(a)}}const tC={name:"codeText",previous:rC,resolve:nC,tokenize:iC};function nC(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function rC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function iC(e,t,n){let r=0,i,s;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),r++,o):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):oe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||oe(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class sC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&$r(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),$r(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),$r(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);$r(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);$r(this.left,n.reverse())}}}function $r(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Zf(e){const t={};let n=-1,r,i,s,a,o,c,u;const d=new sC(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,aC(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return kt(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function aC(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],u={};let d,h,g=-1,f=n,p=0,m=0;const b=[m];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(m=g+1,b.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):b.pop(),g=b.length;g--;){const y=o.slice(b[g],b[g+1]),_=s.pop();c.push([_,_+y.length-1]),e.splice(_,2,y)}for(c.reverse(),g=-1;++g<c.length;)u[p+c[g][0]]=p+c[g][1],p+=c[g][1]-c[g][0]-1;return u}const oC={resolve:cC,tokenize:uC},lC={partial:!0,tokenize:dC};function cC(e){return Zf(e),e}function uC(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):oe(o)?e.check(lC,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function dC(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),we(e,s,"linePrefix")}function s(a){if(a===null||oe(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function Qf(e,t,n,r,i,s,a,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),g):y===null||y===32||y===41||Cs(y)?n(y):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(y))}function g(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(e.exit("chunkString"),e.exit(o),g(y)):y===null||y===60||oe(y)?n(y):(e.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(e.consume(y),f):f(y)}function m(y){return!d&&(y===null||y===41||ke(y))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,m):y===41?(e.consume(y),d--,m):y===null||y===32||y===40||Cs(y)?n(y):(e.consume(y),y===92?b:m)}function b(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function ep(e,t,n,r,i,s){const a=this;let o=0,c;return u;function u(f){return e.enter(r),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return o>999||f===null||f===91||f===93&&!c||f===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):oe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||oe(f)||o++>999?(e.exit("chunkString"),d(f)):(e.consume(f),c||(c=!ye(f)),f===92?g:h)}function g(f){return f===91||f===92||f===93?(e.consume(f),o++,h):h(f)}}function tp(e,t,n,r,i,s){let a;return o;function o(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),a=g===40?41:g,c):n(g)}function c(g){return g===a?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(s),u(g))}function u(g){return g===a?(e.exit(s),c(a)):g===null?n(g):oe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),we(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===a||g===null||oe(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?h:d)}function h(g){return g===a||g===92?(e.consume(g),d):d(g)}}function Wr(e,t){let n;return r;function r(i){return oe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ye(i)?we(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const hC={name:"definition",tokenize:fC},gC={partial:!0,tokenize:pC};function fC(e,t,n){const r=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return ep.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function o(f){return i=Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),c):n(f)}function c(f){return ke(f)?Wr(e,u)(f):u(f)}function u(f){return Qf(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(gC,h,h)(f)}function h(f){return ye(f)?we(e,g,"whitespace")(f):g(f)}function g(f){return f===null||oe(f)?(e.exit("definition"),r.parser.defined.push(i),t(f)):n(f)}}function pC(e,t,n){return r;function r(o){return ke(o)?Wr(e,i)(o):n(o)}function i(o){return tp(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return ye(o)?we(e,a,"whitespace")(o):a(o)}function a(o){return o===null||oe(o)?t(o):n(o)}}const mC={name:"hardBreakEscape",tokenize:bC};function bC(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return oe(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const yC={name:"headingAtx",resolve:xC,tokenize:wC};function xC(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},kt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function wC(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||ke(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||oe(d)?(e.exit("atxHeading"),t(d)):ye(d)?we(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||ke(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const vC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zu=["pre","script","style","textarea"],_C={concrete:!0,name:"htmlFlow",resolveTo:SC,tokenize:NC},kC={partial:!0,tokenize:CC},EC={partial:!0,tokenize:TC};function SC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function NC(e,t,n){const r=this;let i,s,a,o,c;return u;function u(w){return d(w)}function d(w){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(w),h}function h(w){return w===33?(e.consume(w),g):w===47?(e.consume(w),s=!0,m):w===63?(e.consume(w),i=3,r.interrupt?t:x):ut(w)?(e.consume(w),a=String.fromCharCode(w),b):n(w)}function g(w){return w===45?(e.consume(w),i=2,f):w===91?(e.consume(w),i=5,o=0,p):ut(w)?(e.consume(w),i=4,r.interrupt?t:x):n(w)}function f(w){return w===45?(e.consume(w),r.interrupt?t:x):n(w)}function p(w){const A="CDATA[";return w===A.charCodeAt(o++)?(e.consume(w),o===A.length?r.interrupt?t:M:p):n(w)}function m(w){return ut(w)?(e.consume(w),a=String.fromCharCode(w),b):n(w)}function b(w){if(w===null||w===47||w===62||ke(w)){const A=w===47,F=a.toLowerCase();return!A&&!s&&zu.includes(F)?(i=1,r.interrupt?t(w):M(w)):vC.includes(a.toLowerCase())?(i=6,A?(e.consume(w),y):r.interrupt?t(w):M(w)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(w):s?_(w):v(w))}return w===45||rt(w)?(e.consume(w),a+=String.fromCharCode(w),b):n(w)}function y(w){return w===62?(e.consume(w),r.interrupt?t:M):n(w)}function _(w){return ye(w)?(e.consume(w),_):O(w)}function v(w){return w===47?(e.consume(w),O):w===58||w===95||ut(w)?(e.consume(w),S):ye(w)?(e.consume(w),v):O(w)}function S(w){return w===45||w===46||w===58||w===95||rt(w)?(e.consume(w),S):I(w)}function I(w){return w===61?(e.consume(w),k):ye(w)?(e.consume(w),I):v(w)}function k(w){return w===null||w===60||w===61||w===62||w===96?n(w):w===34||w===39?(e.consume(w),c=w,D):ye(w)?(e.consume(w),k):z(w)}function D(w){return w===c?(e.consume(w),c=null,W):w===null||oe(w)?n(w):(e.consume(w),D)}function z(w){return w===null||w===34||w===39||w===47||w===60||w===61||w===62||w===96||ke(w)?I(w):(e.consume(w),z)}function W(w){return w===47||w===62||ye(w)?v(w):n(w)}function O(w){return w===62?(e.consume(w),G):n(w)}function G(w){return w===null||oe(w)?M(w):ye(w)?(e.consume(w),G):n(w)}function M(w){return w===45&&i===2?(e.consume(w),j):w===60&&i===1?(e.consume(w),C):w===62&&i===4?(e.consume(w),U):w===63&&i===3?(e.consume(w),x):w===93&&i===5?(e.consume(w),q):oe(w)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(kC,B,ee)(w)):w===null||oe(w)?(e.exit("htmlFlowData"),ee(w)):(e.consume(w),M)}function ee(w){return e.check(EC,Q,B)(w)}function Q(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),P}function P(w){return w===null||oe(w)?ee(w):(e.enter("htmlFlowData"),M(w))}function j(w){return w===45?(e.consume(w),x):M(w)}function C(w){return w===47?(e.consume(w),a="",R):M(w)}function R(w){if(w===62){const A=a.toLowerCase();return zu.includes(A)?(e.consume(w),U):M(w)}return ut(w)&&a.length<8?(e.consume(w),a+=String.fromCharCode(w),R):M(w)}function q(w){return w===93?(e.consume(w),x):M(w)}function x(w){return w===62?(e.consume(w),U):w===45&&i===2?(e.consume(w),x):M(w)}function U(w){return w===null||oe(w)?(e.exit("htmlFlowData"),B(w)):(e.consume(w),U)}function B(w){return e.exit("htmlFlow"),t(w)}}function TC(e,t,n){const r=this;return i;function i(a){return oe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function CC(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(mi,t,n)}}const AC={name:"htmlText",tokenize:OC};function OC(e,t,n){const r=this;let i,s,a;return o;function o(x){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(x),c}function c(x){return x===33?(e.consume(x),u):x===47?(e.consume(x),I):x===63?(e.consume(x),v):ut(x)?(e.consume(x),z):n(x)}function u(x){return x===45?(e.consume(x),d):x===91?(e.consume(x),s=0,p):ut(x)?(e.consume(x),_):n(x)}function d(x){return x===45?(e.consume(x),f):n(x)}function h(x){return x===null?n(x):x===45?(e.consume(x),g):oe(x)?(a=h,C(x)):(e.consume(x),h)}function g(x){return x===45?(e.consume(x),f):h(x)}function f(x){return x===62?j(x):x===45?g(x):h(x)}function p(x){const U="CDATA[";return x===U.charCodeAt(s++)?(e.consume(x),s===U.length?m:p):n(x)}function m(x){return x===null?n(x):x===93?(e.consume(x),b):oe(x)?(a=m,C(x)):(e.consume(x),m)}function b(x){return x===93?(e.consume(x),y):m(x)}function y(x){return x===62?j(x):x===93?(e.consume(x),y):m(x)}function _(x){return x===null||x===62?j(x):oe(x)?(a=_,C(x)):(e.consume(x),_)}function v(x){return x===null?n(x):x===63?(e.consume(x),S):oe(x)?(a=v,C(x)):(e.consume(x),v)}function S(x){return x===62?j(x):v(x)}function I(x){return ut(x)?(e.consume(x),k):n(x)}function k(x){return x===45||rt(x)?(e.consume(x),k):D(x)}function D(x){return oe(x)?(a=D,C(x)):ye(x)?(e.consume(x),D):j(x)}function z(x){return x===45||rt(x)?(e.consume(x),z):x===47||x===62||ke(x)?W(x):n(x)}function W(x){return x===47?(e.consume(x),j):x===58||x===95||ut(x)?(e.consume(x),O):oe(x)?(a=W,C(x)):ye(x)?(e.consume(x),W):j(x)}function O(x){return x===45||x===46||x===58||x===95||rt(x)?(e.consume(x),O):G(x)}function G(x){return x===61?(e.consume(x),M):oe(x)?(a=G,C(x)):ye(x)?(e.consume(x),G):W(x)}function M(x){return x===null||x===60||x===61||x===62||x===96?n(x):x===34||x===39?(e.consume(x),i=x,ee):oe(x)?(a=M,C(x)):ye(x)?(e.consume(x),M):(e.consume(x),Q)}function ee(x){return x===i?(e.consume(x),i=void 0,P):x===null?n(x):oe(x)?(a=ee,C(x)):(e.consume(x),ee)}function Q(x){return x===null||x===34||x===39||x===60||x===61||x===96?n(x):x===47||x===62||ke(x)?W(x):(e.consume(x),Q)}function P(x){return x===47||x===62||ke(x)?W(x):n(x)}function j(x){return x===62?(e.consume(x),e.exit("htmlTextData"),e.exit("htmlText"),t):n(x)}function C(x){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),R}function R(x){return ye(x)?we(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):q(x)}function q(x){return e.enter("htmlTextData"),a(x)}}const _l={name:"labelEnd",resolveAll:MC,resolveTo:LC,tokenize:PC},RC={tokenize:DC},jC={tokenize:$C},IC={tokenize:zC};function MC(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&kt(e,0,e.length,n),e}function LC(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=Nt(o,e.slice(s+1,s+r+3)),o=Nt(o,[["enter",d,t]]),o=Nt(o,Js(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=Nt(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=Nt(o,e.slice(a+1)),o=Nt(o,[["exit",c,t]]),kt(e,s,e.length,o),e}function PC(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(g){return s?s._inactive?h(g):(a=r.parser.defined.includes(Mt(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),c):n(g)}function c(g){return g===40?e.attempt(RC,d,a?d:h)(g):g===91?e.attempt(jC,d,a?u:h)(g):a?d(g):h(g)}function u(g){return e.attempt(IC,d,h)(g)}function d(g){return t(g)}function h(g){return s._balanced=!0,n(g)}}function DC(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return ke(h)?Wr(e,s)(h):s(h)}function s(h){return h===41?d(h):Qf(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return ke(h)?Wr(e,c)(h):d(h)}function o(h){return n(h)}function c(h){return h===34||h===39||h===40?tp(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return ke(h)?Wr(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function $C(e,t,n){const r=this;return i;function i(o){return ep.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Mt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function zC(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const BC={name:"labelStartImage",resolveAll:_l.resolveAll,tokenize:UC};function UC(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const FC={name:"labelStartLink",resolveAll:_l.resolveAll,tokenize:HC};function HC(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Ca={name:"lineEnding",tokenize:GC};function GC(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),we(e,t,"linePrefix")}}const as={name:"thematicBreak",tokenize:qC};function qC(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||oe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),ye(u)?we(e,o,"whitespace")(u):o(u))}}const ft={continuation:{tokenize:YC},exit:XC,name:"list",tokenize:VC},WC={partial:!0,tokenize:ZC},KC={partial:!0,tokenize:JC};function VC(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Ao(f)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(as,n,u)(f):u(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(f)}return n(f)}function c(f){return Ao(f)&&++a<10?(e.consume(f),c):(!r.interrupt||a<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):n(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(mi,r.interrupt?n:d,e.attempt(WC,g,h))}function d(f){return r.containerState.initialBlankLine=!0,s++,g(f)}function h(f){return ye(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),g):n(f)}function g(f){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function YC(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(mi,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,we(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!ye(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(KC,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,we(e,e.attempt(ft,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function JC(e,t,n){const r=this;return we(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function XC(e){e.exit(this.containerState.type)}function ZC(e,t,n){const r=this;return we(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!ye(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const Bu={name:"setextUnderline",resolveTo:QC,tokenize:eA};function QC(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function eA(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),ye(u)?we(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||oe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const tA={tokenize:nA};function nA(e){const t=this,n=e.attempt(mi,r,e.attempt(this.parser.constructs.flowInitial,i,we(e,e.attempt(this.parser.constructs.flow,i,e.attempt(oC,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const rA={resolveAll:rp()},iA=np("string"),sA=np("text");function np(e){return{resolveAll:rp(e==="text"?aA:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const h=i[d];let g=-1;if(h)for(;++g<h.length;){const f=h[g];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function rp(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function aA(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,c;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const oA={42:ft,43:ft,45:ft,48:ft,49:ft,50:ft,51:ft,52:ft,53:ft,54:ft,55:ft,56:ft,57:ft,62:Yf},lA={91:hC},cA={[-2]:Ta,[-1]:Ta,32:Ta},uA={35:yC,42:as,45:[Bu,as],60:_C,61:Bu,95:as,96:$u,126:$u},dA={38:Xf,92:Jf},hA={[-5]:Ca,[-4]:Ca,[-3]:Ca,33:BC,38:Xf,42:Oo,60:[FT,AC],91:FC,92:[mC,Jf],93:_l,95:Oo,96:tC},gA={null:[Oo,rA]},fA={null:[42,95]},pA={null:[]},mA=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fA,contentInitial:lA,disable:pA,document:oA,flow:uA,flowInitial:cA,insideSpan:gA,string:dA,text:hA},Symbol.toStringTag,{value:"Module"}));function bA(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:D(I),check:D(k),consume:_,enter:v,exit:S,interrupt:D(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:p,parser:e,previous:null,sliceSerialize:g,sliceStream:f,write:h};let d=t.tokenize.call(u,c);return t.resolveAll&&s.push(t),u;function h(G){return a=Nt(a,G),b(),a[a.length-1]!==null?[]:(z(t,0),u.events=Js(s,u.events,u),u.events)}function g(G,M){return xA(f(G),M)}function f(G){return yA(a,G)}function p(){const{_bufferIndex:G,_index:M,line:ee,column:Q,offset:P}=r;return{_bufferIndex:G,_index:M,line:ee,column:Q,offset:P}}function m(G){i[G.line]=G.column,O()}function b(){let G;for(;r._index<a.length;){const M=a[r._index];if(typeof M=="string")for(G=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===G&&r._bufferIndex<M.length;)y(M.charCodeAt(r._bufferIndex));else y(M)}}function y(G){d=d(G)}function _(G){oe(G)?(r.line++,r.column=1,r.offset+=G===-3?2:1,O()):G!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=G}function v(G,M){const ee=M||{};return ee.type=G,ee.start=p(),u.events.push(["enter",ee,u]),o.push(ee),ee}function S(G){const M=o.pop();return M.end=p(),u.events.push(["exit",M,u]),M}function I(G,M){z(G,M.from)}function k(G,M){M.restore()}function D(G,M){return ee;function ee(Q,P,j){let C,R,q,x;return Array.isArray(Q)?B(Q):"tokenize"in Q?B([Q]):U(Q);function U(J){return X;function X(pe){const Oe=pe!==null&&J[pe],Ee=pe!==null&&J.null,$e=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return B($e)(pe)}}function B(J){return C=J,R=0,J.length===0?j:w(J[R])}function w(J){return X;function X(pe){return x=W(),q=J,J.partial||(u.currentConstruct=J),J.name&&u.parser.constructs.disable.null.includes(J.name)?F():J.tokenize.call(M?Object.assign(Object.create(u),M):u,c,A,F)(pe)}}function A(J){return G(q,x),P}function F(J){return x.restore(),++R<C.length?w(C[R]):j}}}function z(G,M){G.resolveAll&&!s.includes(G)&&s.push(G),G.resolve&&kt(u.events,M,u.events.length-M,G.resolve(u.events.slice(M),u)),G.resolveTo&&(u.events=G.resolveTo(u.events,u))}function W(){const G=p(),M=u.previous,ee=u.currentConstruct,Q=u.events.length,P=Array.from(o);return{from:Q,restore:j};function j(){r=G,u.previous=M,u.currentConstruct=ee,u.events.length=Q,o=P,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function yA(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function xA(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function wA(e){const r={constructs:Kf([mA,...(e||{}).extensions||[]]),content:i(LT),defined:[],document:i(DT),flow:i(tA),lazy:{},string:i(iA),text:i(sA)};return r;function i(s){return a;function a(o){return bA(r,s,o)}}}function vA(e){for(;!Zf(e););return e}const Uu=/[\0\t\n\r]/g;function _A(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const c=[];let u,d,h,g,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(Uu.lastIndex=h,u=Uu.exec(s),g=u&&u.index!==void 0?u.index:s.length,f=s.charCodeAt(g),!u){t=s.slice(h);break}if(f===10&&h===g&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),h<g&&(c.push(s.slice(h,g)),e+=g-h),f){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const kA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function EA(e){return e.replace(kA,SA)}function SA(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Vf(n.slice(s?2:1),s?16:10)}return vl(n)||e}const ip={}.hasOwnProperty;function NA(e,t,n){return typeof t!="string"&&(n=t,t=void 0),TA(n)(vA(wA(n).document().write(_A()(e,t,!0))))}function TA(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(se),autolinkProtocol:W,autolinkEmail:W,atxHeading:s(Se),blockQuote:s(Ee),characterEscape:W,characterReference:W,codeFenced:s($e),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s($e,a),codeText:s(Me,a),codeTextData:W,data:W,codeFlowValue:W,definition:s(We),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Qe),hardBreakEscape:s(de),hardBreakTrailing:s(de),htmlFlow:s(Ke,a),htmlFlowData:W,htmlText:s(Ke,a),htmlTextData:W,image:s(ne),label:a,link:s(se),listItem:s(ce),listItemValue:g,listOrdered:s(ve,h),listUnordered:s(ve),paragraph:s(xe),reference:w,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Se),strong:s(et),thematicBreak:s(at)},exit:{atxHeading:c(),atxHeadingSequence:I,autolink:c(),autolinkEmail:Oe,autolinkProtocol:pe,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:F,characterReferenceMarkerNumeric:F,characterReferenceValue:J,characterReference:X,codeFenced:c(b),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:O,codeIndented:c(y),codeText:c(P),codeTextData:O,data:O,definition:c(),definitionDestinationString:S,definitionLabelString:_,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(M),hardBreakTrailing:c(M),htmlFlow:c(ee),htmlFlowData:O,htmlText:c(Q),htmlTextData:O,image:c(C),label:q,labelText:R,lineEnding:G,link:c(j),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:A,resourceDestinationString:x,resourceTitleString:U,resource:B,setextHeading:c(z),setextHeadingLineSequence:D,setextHeadingText:k,strong:c(),thematicBreak:c()}};sp(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(N){let E={type:"root",children:[]};const L={stack:[E],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},H=[];let Z=-1;for(;++Z<N.length;)if(N[Z][1].type==="listOrdered"||N[Z][1].type==="listUnordered")if(N[Z][0]==="enter")H.push(Z);else{const he=H.pop();Z=i(N,he,Z)}for(Z=-1;++Z<N.length;){const he=t[N[Z][0]];ip.call(he,N[Z][1].type)&&he[N[Z][1].type].call(Object.assign({sliceSerialize:N[Z][2].sliceSerialize},L),N[Z][1])}if(L.tokenStack.length>0){const he=L.tokenStack[L.tokenStack.length-1];(he[1]||Fu).call(L,void 0,he[0])}for(E.position={start:cn(N.length>0?N[0][1].start:{line:1,column:1,offset:0}),end:cn(N.length>0?N[N.length-2][1].end:{line:1,column:1,offset:0})},Z=-1;++Z<t.transforms.length;)E=t.transforms[Z](E)||E;return E}function i(N,E,L){let H=E-1,Z=-1,he=!1,Le,qe,Et,ot;for(;++H<=L;){const ze=N[H];switch(ze[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ze[0]==="enter"?Z++:Z--,ot=void 0;break}case"lineEndingBlank":{ze[0]==="enter"&&(Le&&!ot&&!Z&&!Et&&(Et=H),ot=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ot=void 0}if(!Z&&ze[0]==="enter"&&ze[1].type==="listItemPrefix"||Z===-1&&ze[0]==="exit"&&(ze[1].type==="listUnordered"||ze[1].type==="listOrdered")){if(Le){let Pt=H;for(qe=void 0;Pt--;){const xt=N[Pt];if(xt[1].type==="lineEnding"||xt[1].type==="lineEndingBlank"){if(xt[0]==="exit")continue;qe&&(N[qe][1].type="lineEndingBlank",he=!0),xt[1].type="lineEnding",qe=Pt}else if(!(xt[1].type==="linePrefix"||xt[1].type==="blockQuotePrefix"||xt[1].type==="blockQuotePrefixWhitespace"||xt[1].type==="blockQuoteMarker"||xt[1].type==="listItemIndent"))break}Et&&(!qe||Et<qe)&&(Le._spread=!0),Le.end=Object.assign({},qe?N[qe][1].start:ze[1].end),N.splice(qe||H,0,["exit",Le,ze[2]]),H++,L++}if(ze[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},ze[1].start),end:void 0};Le=Pt,N.splice(H,0,["enter",Pt,ze[2]]),H++,L++,Et=void 0,ot=!0}}}return N[E][1]._spread=he,L}function s(N,E){return L;function L(H){o.call(this,N(H),H),E&&E.call(this,H)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(N,E,L){this.stack[this.stack.length-1].children.push(N),this.stack.push(N),this.tokenStack.push([E,L||void 0]),N.position={start:cn(E.start),end:void 0}}function c(N){return E;function E(L){N&&N.call(this,L),u.call(this,L)}}function u(N,E){const L=this.stack.pop(),H=this.tokenStack.pop();if(H)H[0].type!==N.type&&(E?E.call(this,N,H[0]):(H[1]||Fu).call(this,N,H[0]));else throw new Error("Cannot close `"+N.type+"` ("+qr({start:N.start,end:N.end})+"): its not open");L.position.end=cn(N.end)}function d(){return wl(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(N){if(this.data.expectingFirstListItemValue){const E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(N),10),this.data.expectingFirstListItemValue=void 0}}function f(){const N=this.resume(),E=this.stack[this.stack.length-1];E.lang=N}function p(){const N=this.resume(),E=this.stack[this.stack.length-1];E.meta=N}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const N=this.resume(),E=this.stack[this.stack.length-1];E.value=N.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const N=this.resume(),E=this.stack[this.stack.length-1];E.value=N.replace(/(\r?\n|\r)$/g,"")}function _(N){const E=this.resume(),L=this.stack[this.stack.length-1];L.label=E,L.identifier=Mt(this.sliceSerialize(N)).toLowerCase()}function v(){const N=this.resume(),E=this.stack[this.stack.length-1];E.title=N}function S(){const N=this.resume(),E=this.stack[this.stack.length-1];E.url=N}function I(N){const E=this.stack[this.stack.length-1];if(!E.depth){const L=this.sliceSerialize(N).length;E.depth=L}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function D(N){const E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(N).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function W(N){const L=this.stack[this.stack.length-1].children;let H=L[L.length-1];(!H||H.type!=="text")&&(H=Ve(),H.position={start:cn(N.start),end:void 0},L.push(H)),this.stack.push(H)}function O(N){const E=this.stack.pop();E.value+=this.sliceSerialize(N),E.position.end=cn(N.end)}function G(N){const E=this.stack[this.stack.length-1];if(this.data.atHardBreak){const L=E.children[E.children.length-1];L.position.end=cn(N.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(E.type)&&(W.call(this,N),O.call(this,N))}function M(){this.data.atHardBreak=!0}function ee(){const N=this.resume(),E=this.stack[this.stack.length-1];E.value=N}function Q(){const N=this.resume(),E=this.stack[this.stack.length-1];E.value=N}function P(){const N=this.resume(),E=this.stack[this.stack.length-1];E.value=N}function j(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const E=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=E,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function C(){const N=this.stack[this.stack.length-1];if(this.data.inReference){const E=this.data.referenceType||"shortcut";N.type+="Reference",N.referenceType=E,delete N.url,delete N.title}else delete N.identifier,delete N.label;this.data.referenceType=void 0}function R(N){const E=this.sliceSerialize(N),L=this.stack[this.stack.length-2];L.label=EA(E),L.identifier=Mt(E).toLowerCase()}function q(){const N=this.stack[this.stack.length-1],E=this.resume(),L=this.stack[this.stack.length-1];if(this.data.inReference=!0,L.type==="link"){const H=N.children;L.children=H}else L.alt=E}function x(){const N=this.resume(),E=this.stack[this.stack.length-1];E.url=N}function U(){const N=this.resume(),E=this.stack[this.stack.length-1];E.title=N}function B(){this.data.inReference=void 0}function w(){this.data.referenceType="collapsed"}function A(N){const E=this.resume(),L=this.stack[this.stack.length-1];L.label=E,L.identifier=Mt(this.sliceSerialize(N)).toLowerCase(),this.data.referenceType="full"}function F(N){this.data.characterReferenceType=N.type}function J(N){const E=this.sliceSerialize(N),L=this.data.characterReferenceType;let H;L?(H=Vf(E,L==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):H=vl(E);const Z=this.stack[this.stack.length-1];Z.value+=H}function X(N){const E=this.stack.pop();E.position.end=cn(N.end)}function pe(N){O.call(this,N);const E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(N)}function Oe(N){O.call(this,N);const E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(N)}function Ee(){return{type:"blockquote",children:[]}}function $e(){return{type:"code",lang:null,meta:null,value:""}}function Me(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qe(){return{type:"emphasis",children:[]}}function Se(){return{type:"heading",depth:0,children:[]}}function de(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function ve(N){return{type:"list",ordered:N.type==="listOrdered",start:null,spread:N._spread,children:[]}}function ce(N){return{type:"listItem",spread:N._spread,checked:null,children:[]}}function xe(){return{type:"paragraph",children:[]}}function et(){return{type:"strong",children:[]}}function Ve(){return{type:"text",value:""}}function at(){return{type:"thematicBreak"}}}function cn(e){return{line:e.line,column:e.column,offset:e.offset}}function sp(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?sp(e,r):CA(e,r)}}function CA(e,t){let n;for(n in t)if(ip.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Fu(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qr({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qr({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qr({start:t.start,end:t.end})+") is still open")}function AA(e){const t=this;t.parser=n;function n(r){return NA(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function OA(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function RA(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function jA(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function IA(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MA(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LA(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Nr(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function PA(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function DA(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ap(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function $A(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ap(e,t);const i={src:Nr(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function zA(e,t){const n={src:Nr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function BA(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function UA(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ap(e,t);const i={href:Nr(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function FA(e,t){const n={href:Nr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function HA(e,t,n){const r=e.all(t),i=n?GA(n):op(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function GA(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=op(n[r])}return t}function op(e){const t=e.spread;return t??e.children.length>1}function qA(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function WA(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KA(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function VA(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function YA(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=ml(t.children[1]),c=Bf(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function JA(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const h=t.children[c],g={},f=a?a[c]:void 0;f&&(g.align=f);let p={type:"element",tagName:s,properties:g,children:[]};h&&(p.children=e.all(h),e.patch(h,p),p=e.applyData(h,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function XA(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Hu=9,Gu=32;function ZA(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(qu(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(qu(t.slice(i),i>0,!1)),s.join("")}function qu(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===Hu||s===Gu;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===Hu||s===Gu;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function QA(e,t){const n={type:"text",value:ZA(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function e1(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const t1={blockquote:OA,break:RA,code:jA,delete:IA,emphasis:MA,footnoteReference:LA,heading:PA,html:DA,imageReference:$A,image:zA,inlineCode:BA,linkReference:UA,link:FA,listItem:HA,list:qA,paragraph:WA,root:KA,strong:VA,table:YA,tableCell:XA,tableRow:JA,text:QA,thematicBreak:e1,toml:Gi,yaml:Gi,definition:Gi,footnoteDefinition:Gi};function Gi(){}const lp=-1,Xs=0,Kr=1,As=2,kl=3,El=4,Sl=5,Nl=6,cp=7,up=8,Wu=typeof self=="object"?self:globalThis,n1=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case Xs:case lp:return n(a,i);case Kr:{const o=n([],i);for(const c of a)o.push(r(c));return o}case As:{const o=n({},i);for(const[c,u]of a)o[r(c)]=r(u);return o}case kl:return n(new Date(a),i);case El:{const{source:o,flags:c}=a;return n(new RegExp(o,c),i)}case Sl:{const o=n(new Map,i);for(const[c,u]of a)o.set(r(c),r(u));return o}case Nl:{const o=n(new Set,i);for(const c of a)o.add(r(c));return o}case cp:{const{name:o,message:c}=a;return n(new Wu[o](c),i)}case up:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new Wu[s](a),i)};return r},Ku=e=>n1(new Map,e)(0),tr="",{toString:r1}={},{keys:i1}=Object,zr=e=>{const t=typeof e;if(t!=="object"||!e)return[Xs,t];const n=r1.call(e).slice(8,-1);switch(n){case"Array":return[Kr,tr];case"Object":return[As,tr];case"Date":return[kl,tr];case"RegExp":return[El,tr];case"Map":return[Sl,tr];case"Set":return[Nl,tr];case"DataView":return[Kr,n]}return n.includes("Array")?[Kr,n]:n.includes("Error")?[cp,n]:[As,n]},qi=([e,t])=>e===Xs&&(t==="function"||t==="symbol"),s1=(e,t,n,r)=>{const i=(a,o)=>{const c=r.push(a)-1;return n.set(o,c),c},s=a=>{if(n.has(a))return n.get(a);let[o,c]=zr(a);switch(o){case Xs:{let d=a;switch(c){case"bigint":o=up,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([lp],a)}return i([o,d],a)}case Kr:{if(c){let g=a;return c==="DataView"?g=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(g=new Uint8Array(a)),i([c,[...g]],a)}const d=[],h=i([o,d],a);for(const g of a)d.push(s(g));return h}case As:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],h=i([o,d],a);for(const g of i1(a))(e||!qi(zr(a[g])))&&d.push([s(g),s(a[g])]);return h}case kl:return i([o,a.toISOString()],a);case El:{const{source:d,flags:h}=a;return i([o,{source:d,flags:h}],a)}case Sl:{const d=[],h=i([o,d],a);for(const[g,f]of a)(e||!(qi(zr(g))||qi(zr(f))))&&d.push([s(g),s(f)]);return h}case Nl:{const d=[],h=i([o,d],a);for(const g of a)(e||!qi(zr(g)))&&d.push(s(g));return h}}const{message:u}=a;return i([o,{name:c,message:u}],a)};return s},Vu=(e,{json:t,lossy:n}={})=>{const r=[];return s1(!(t||n),!!t,new Map,r)(e),r},Os=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Ku(Vu(e,t)):structuredClone(e):(e,t)=>Ku(Vu(e,t));function a1(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function o1(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function l1(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||a1,r=e.options.footnoteBackLabel||o1,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),g=Nr(h.toLowerCase());let f=0;const p=[],m=e.footnoteCounts.get(h);for(;m!==void 0&&++f<=m;){p.length>0&&p.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,f);typeof _=="string"&&(_={type:"text",value:_}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,f),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const _=b.children[b.children.length-1];_&&_.type==="text"?_.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...p)}else d.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Os(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Zs=function(e){if(e==null)return h1;if(typeof e=="function")return Qs(e);if(typeof e=="object")return Array.isArray(e)?c1(e):u1(e);if(typeof e=="string")return d1(e);throw new Error("Expected function, string, or object as test")};function c1(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Zs(e[n]);return Qs(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function u1(e){const t=e;return Qs(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function d1(e){return Qs(t);function t(n){return n&&n.type===e}}function Qs(e){return t;function t(n,r,i){return!!(g1(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function h1(){return!0}function g1(e){return e!==null&&typeof e=="object"&&"type"in e}const dp=[],f1=!0,Ro=!1,p1="skip";function hp(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Zs(i),a=r?-1:1;o(e,void 0,[])();function o(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(f?"<"+f+">":""))+")"})}return g;function g(){let f=dp,p,m,b;if((!t||s(c,u,d[d.length-1]||void 0))&&(f=m1(n(c,d)),f[0]===Ro))return f;if("children"in c&&c.children){const y=c;if(y.children&&f[0]!==p1)for(m=(r?y.children.length:-1)+a,b=d.concat(y);m>-1&&m<y.children.length;){const _=y.children[m];if(p=o(_,m,b)(),p[0]===Ro)return p;m=typeof p[1]=="number"?p[1]:m+a}}return f}}}function m1(e){return Array.isArray(e)?e:typeof e=="number"?[f1,e]:e==null?dp:[e]}function Tl(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),hp(e,s,o,i);function o(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return a(c,h,d)}}const jo={}.hasOwnProperty,b1={};function y1(e,t){const n=t||b1,r=new Map,i=new Map,s=new Map,a={...t1,...n.handlers},o={all:u,applyData:w1,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:n,patch:x1,wrap:_1};return Tl(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();h.has(g)||h.set(g,d)}}),o;function c(d,h){const g=d.type,f=o.handlers[g];if(jo.call(o.handlers,g)&&f)return f(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in d){const{children:m,...b}=d,y=Os(b);return y.children=o.all(d),y}return Os(d)}return(o.options.unknownHandler||v1)(o,d,h)}function u(d){const h=[];if("children"in d){const g=d.children;let f=-1;for(;++f<g.length;){const p=o.one(g[f],d);if(p){if(f&&g[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Yu(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=Yu(m.value))}Array.isArray(p)?h.push(...p):h.push(p)}}}return h}}function x1(e,t){e.position&&(t.position=oT(e))}function w1(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Os(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function v1(e,t){const n=t.data||{},r="value"in t&&!(jo.call(n,"hProperties")||jo.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _1(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Yu(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ju(e,t){const n=y1(e,t),r=n.one(e,void 0),i=l1(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function k1(e,t){return e&&"run"in e?async function(n,r){const i=Ju(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ju(n,{file:r,...e||t})}}function Xu(e){if(e)throw e}var os=Object.prototype.hasOwnProperty,gp=Object.prototype.toString,Zu=Object.defineProperty,Qu=Object.getOwnPropertyDescriptor,ed=function(t){return typeof Array.isArray=="function"?Array.isArray(t):gp.call(t)==="[object Array]"},td=function(t){if(!t||gp.call(t)!=="[object Object]")return!1;var n=os.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&os.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||os.call(t,i)},nd=function(t,n){Zu&&n.name==="__proto__"?Zu(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},rd=function(t,n){if(n==="__proto__")if(os.call(t,n)){if(Qu)return Qu(t,n).value}else return;return t[n]},E1=function e(){var t,n,r,i,s,a,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=rd(o,n),i=rd(t,n),o!==i&&(d&&i&&(td(i)||(s=ed(i)))?(s?(s=!1,a=r&&ed(r)?r:[]):a=r&&td(r)?r:{},nd(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&nd(o,{name:n,newValue:i}));return o};const Aa=Bn(E1);function Io(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function S1(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...u){const d=e[++s];let h=-1;if(c){a(c);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?N1(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function N1(e,t){let n;return r;function r(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const Bt={basename:T1,dirname:C1,extname:A1,join:O1,sep:"/"};function T1(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');bi(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function C1(e){if(bi(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function A1(e){bi(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function O1(...e){let t=-1,n;for(;++t<e.length;)bi(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":R1(n)}function R1(e){bi(e);const t=e.codePointAt(0)===47;let n=j1(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function j1(e,t){let n="",r=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function bi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const I1={cwd:M1};function M1(){return"/"}function Mo(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function L1(e){if(typeof e=="string")e=new URL(e);else if(!Mo(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return P1(e)}function P1(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Oa=["history","path","basename","stem","extname","dirname"];class fp{constructor(t){let n;t?Mo(t)?n={path:t}:typeof t=="string"||D1(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":I1.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Oa.length;){const s=Oa[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Oa.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Bt.basename(this.path):void 0}set basename(t){ja(t,"basename"),Ra(t,"basename"),this.path=Bt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Bt.dirname(this.path):void 0}set dirname(t){id(this.basename,"dirname"),this.path=Bt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Bt.extname(this.path):void 0}set extname(t){if(Ra(t,"extname"),id(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Mo(t)&&(t=L1(t)),ja(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Bt.basename(this.path,this.extname):void 0}set stem(t){ja(t,"stem"),Ra(t,"stem"),this.path=Bt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new st(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ra(e,t){if(e&&e.includes(Bt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bt.sep+"`")}function ja(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function id(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function D1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $1=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},z1={}.hasOwnProperty;class Cl extends $1{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=S1()}copy(){const t=new Cl;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Aa(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(La("data",this.frozen),this.namespace[t]=n,this):z1.call(this.namespace,t)&&this.namespace[t]||void 0:t?(La("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Wi(t),r=this.parser||this.Parser;return Ia("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ia("process",this.parser||this.Parser),Ma("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Wi(t),c=r.parse(o);r.run(c,o,function(d,h,g){if(d||!h||!g)return u(d);const f=h,p=r.stringify(f,g);F1(p)?g.value=p:g.result=p,u(d,g)});function u(d,h){d||!h?a(d):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Ia("processSync",this.parser||this.Parser),Ma("processSync",this.compiler||this.Compiler),this.process(t,i),ad("processSync","process",n),r;function i(s,a){n=!0,Xu(s),r=a}}run(t,n,r){sd(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const c=Wi(n);i.run(t,c,u);function u(d,h,g){const f=h||t;d?o(d):a?a(f):r(void 0,f,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),ad("runSync","run",r),i;function s(a,o){Xu(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Wi(n),i=this.compiler||this.Compiler;return Ma("stringify",i),sd(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(La("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;c(d,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Aa(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===u){g=h;break}if(g===-1)r.push([u,...d]);else if(d.length>0){let[f,...p]=d;const m=r[g][1];Io(m)&&Io(f)&&(f=Aa(!0,m,f)),r[g]=[u,f,...p]}}}}const B1=new Cl().freeze();function Ia(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ma(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function La(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function sd(e){if(!Io(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ad(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wi(e){return U1(e)?e:new fp(e)}function U1(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function F1(e){return typeof e=="string"||H1(e)}function H1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const G1="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",od=[],ld={allowDangerousHtml:!0},q1=/^(https?|ircs?|mailto|xmpp)$/i,W1=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function K1(e){const t=V1(e),n=Y1(e);return J1(t.runSync(t.parse(n),n),e)}function V1(e){const t=e.rehypePlugins||od,n=e.remarkPlugins||od,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ld}:ld;return B1().use(AA).use(n).use(k1,r).use(t)}function Y1(e){const t=e.children||"",n=new fp;return typeof t=="string"&&(n.value=t),n}function J1(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||X1;for(const d of W1)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+G1+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Tl(e,u),hT(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,h,g){if(d.type==="raw"&&g&&typeof h=="number")return a?g.children.splice(h,1):g.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let f;for(f in Na)if(Object.hasOwn(Na,f)&&Object.hasOwn(d.properties,f)){const p=d.properties[f],m=Na[f];(m===null||m.includes(d.tagName))&&(d.properties[f]=c(String(p||""),f,d))}}if(d.type==="element"){let f=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!f&&r&&typeof h=="number"&&(f=!r(d,h,g)),f&&g&&typeof h=="number")return o&&d.children?g.children.splice(h,1,...d.children):g.children.splice(h,1),h}}}function X1(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||q1.test(e.slice(0,t))?e:""}function cd(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Z1(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Q1(e,t,n){const i=Zs((n||{}).ignore||[]),s=eO(t);let a=-1;for(;++a<s.length;)hp(e,"text",o);function o(u,d){let h=-1,g;for(;++h<d.length;){const f=d[h],p=g?g.children:void 0;if(i(f,p?p.indexOf(f):void 0,g))return;g=f}if(g)return c(u,d)}function c(u,d){const h=d[d.length-1],g=s[a][0],f=s[a][1];let p=0;const b=h.children.indexOf(u);let y=!1,_=[];g.lastIndex=0;let v=g.exec(u.value);for(;v;){const S=v.index,I={index:v.index,input:v.input,stack:[...d,u]};let k=f(...v,I);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?g.lastIndex=S+1:(p!==S&&_.push({type:"text",value:u.value.slice(p,S)}),Array.isArray(k)?_.push(...k):k&&_.push(k),p=S+v[0].length,y=!0),!g.global)break;v=g.exec(u.value)}return y?(p<u.value.length&&_.push({type:"text",value:u.value.slice(p)}),h.children.splice(b,1,..._)):_=[u],b+_.length}}function eO(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([tO(i[0]),nO(i[1])])}return t}function tO(e){return typeof e=="string"?new RegExp(Z1(e),"g"):e}function nO(e){return typeof e=="function"?e:function(){return e}}const Pa="phrasing",Da=["autolink","link","image","label"];function rO(){return{transforms:[uO],enter:{literalAutolink:sO,literalAutolinkEmail:$a,literalAutolinkHttp:$a,literalAutolinkWww:$a},exit:{literalAutolink:cO,literalAutolinkEmail:lO,literalAutolinkHttp:aO,literalAutolinkWww:oO}}}function iO(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Pa,notInConstruct:Da},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Pa,notInConstruct:Da},{character:":",before:"[ps]",after:"\\/",inConstruct:Pa,notInConstruct:Da}]}}function sO(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $a(e){this.config.enter.autolinkProtocol.call(this,e)}function aO(e){this.config.exit.autolinkProtocol.call(this,e)}function oO(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lO(e){this.config.exit.autolinkEmail.call(this,e)}function cO(e){this.exit(e)}function uO(e){Q1(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,dO],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),hO]],{ignore:["link","linkReference"]})}function dO(e,t,n,r,i){let s="";if(!pp(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!gO(n)))return!1;const a=fO(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function hO(e,t,n,r){return!pp(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function gO(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fO(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=cd(e,"(");let s=cd(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function pp(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||zn(n)||Ys(n))&&(!t||n!==47)}mp.peek=kO;function pO(){this.buffer()}function mO(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function bO(){this.buffer()}function yO(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function xO(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function wO(e){this.exit(e)}function vO(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Mt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function _O(e){this.exit(e)}function kO(){return"["}function mp(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function EO(){return{enter:{gfmFootnoteCallString:pO,gfmFootnoteCall:mO,gfmFootnoteDefinitionLabelString:bO,gfmFootnoteDefinition:yO},exit:{gfmFootnoteCallString:xO,gfmFootnoteCall:wO,gfmFootnoteDefinitionLabelString:vO,gfmFootnoteDefinition:_O}}}function SO(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:mp},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let c=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=o.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?bp:NO))),u(),c}}function NO(e,t,n){return t===0?e:bp(e,t,n)}function bp(e,t,n){return(n?"":"    ")+e}const TO=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];yp.peek=jO;function CO(){return{canContainEols:["delete"],enter:{strikethrough:OO},exit:{strikethrough:RO}}}function AO(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:TO}],handlers:{delete:yp}}}function OO(e){this.enter({type:"delete",children:[]},e)}function RO(e){this.exit(e)}function yp(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function jO(){return"~"}function IO(e){return e.length}function MO(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||IO,s=[],a=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const m=[],b=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const _=LO(e[d][y]);if(n.alignDelimiters!==!1){const v=i(_);b[y]=v,(c[y]===void 0||v>c[y])&&(c[y]=v)}m.push(_)}a[d]=m,o[d]=b}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=ud(r[h]);else{const m=ud(r);for(;++h<u;)s[h]=m}h=-1;const g=[],f=[];for(;++h<u;){const m=s[h];let b="",y="";m===99?(b=":",y=":"):m===108?b=":":m===114&&(y=":");let _=n.alignDelimiters===!1?1:Math.max(1,c[h]-b.length-y.length);const v=b+"-".repeat(_)+y;n.alignDelimiters!==!1&&(_=b.length+_+y.length,_>c[h]&&(c[h]=_),f[h]=_),g[h]=v}a.splice(1,0,g),o.splice(1,0,f),d=-1;const p=[];for(;++d<a.length;){const m=a[d],b=o[d];h=-1;const y=[];for(;++h<u;){const _=m[h]||"";let v="",S="";if(n.alignDelimiters!==!1){const I=c[h]-(b[h]||0),k=s[h];k===114?v=" ".repeat(I):k===99?I%2?(v=" ".repeat(I/2+.5),S=" ".repeat(I/2-.5)):(v=" ".repeat(I/2),S=v):S=" ".repeat(I)}n.delimiterStart!==!1&&!h&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||h)&&y.push(" "),n.alignDelimiters!==!1&&y.push(v),y.push(_),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function LO(e){return e==null?"":String(e)}function ud(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function PO(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),DO);return i(),a}function DO(e,t,n){return">"+(n?"":" ")+e}function $O(e,t){return dd(e,t.inConstruct,!0)&&!dd(e,t.notInConstruct,!1)}function dd(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function hd(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&$O(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function zO(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function BO(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function UO(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function FO(e,t,n,r){const i=UO(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(BO(e,n)){const h=n.enter("codeIndented"),g=n.indentLines(s,HO);return h(),g}const o=n.createTracker(r),c=i.repeat(Math.max(zO(s,i)+1,3)),u=n.enter("codeFenced");let d=o.move(c);if(e.lang){const h=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(c),u(),d}function HO(e,t,n){return(n?"":"    ")+e}function Al(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function GO(e,t,n,r){const i=Al(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),a(),u}function qO(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ai(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Rs(e,t,n){const r=yr(e),i=yr(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xp.peek=WO;function xp(e,t,n,r){const i=qO(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Rs(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=ai(u)+c.slice(1));const h=c.charCodeAt(c.length-1),g=Rs(r.after.charCodeAt(0),h,i);g.inside&&(c=c.slice(0,-1)+ai(h));const f=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},o+c+f}function WO(e,t,n){return n.options.emphasis||"*"}function KO(e,t){let n=!1;return Tl(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ro}),!!((!e.depth||e.depth<3)&&wl(e)&&(t.options.setext||n))}function VO(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(KO(e,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),g=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),d(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=ai(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),o(),u}wp.peek=YO;function wp(e){return e.value||""}function YO(){return"<"}vp.peek=JO;function vp(e,t,n,r){const i=Al(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),u+=c.move(")"),a(),u}function JO(){return"!"}_p.peek=XO;function _p(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const u=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==h?c+=o.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function XO(){return"!"}kp.peek=ZO;function kp(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function ZO(){return"`"}function Ep(e,t){const n=wl(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Sp.peek=QO;function Sp(e,t,n,r){const i=Al(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,c;if(Ep(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),o(),n.stack=d,h}o=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),o(),u}function QO(e,t,n){return Ep(e,n)?"<":"["}Np.peek=eR;function Np(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==h?c+=o.move(h+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function eR(){return"["}function Ol(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function tR(e){const t=Ol(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function nR(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Tp(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function rR(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?nR(n):Ol(n);const o=e.ordered?a==="."?")":".":tR(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Tp(n)===a&&d){let h=-1;for(;++h<e.children.length;){const g=e.children[h];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function iR(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function sR(e,t,n,r){const i=iR(n);let s=n.bulletCurrent||Ol(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return c(),u;function d(h,g,f){return g?(f?"":" ".repeat(a))+h:(f?s:s+" ".repeat(a-s.length))+h}}function aR(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const oR=Zs(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function lR(e,t,n,r){return(e.children.some(function(a){return oR(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function cR(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Cp.peek=uR;function Cp(e,t,n,r){const i=cR(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),d=Rs(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=ai(u)+c.slice(1));const h=c.charCodeAt(c.length-1),g=Rs(r.after.charCodeAt(0),h,i);g.inside&&(c=c.slice(0,-1)+ai(h));const f=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},o+c+f}function uR(e,t,n){return n.options.strong||"*"}function dR(e,t,n,r){return n.safe(e.value,r)}function hR(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function gR(e,t,n){const r=(Tp(n)+(n.options.ruleSpaces?" ":"")).repeat(hR(n));return n.options.ruleSpaces?r.slice(0,-1):r}const Ap={blockquote:PO,break:hd,code:FO,definition:GO,emphasis:xp,hardBreak:hd,heading:VO,html:wp,image:vp,imageReference:_p,inlineCode:kp,link:Sp,linkReference:Np,list:rR,listItem:sR,paragraph:aR,root:lR,strong:Cp,text:dR,thematicBreak:gR};function fR(){return{enter:{table:pR,tableData:gd,tableHeader:gd,tableRow:bR},exit:{codeText:yR,table:mR,tableData:za,tableHeader:za,tableRow:za}}}function pR(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function mR(e){this.exit(e),this.data.inTable=void 0}function bR(e){this.enter({type:"tableRow",children:[]},e)}function za(e){this.exit(e)}function gd(e){this.enter({type:"tableCell",children:[]},e)}function yR(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,xR));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function xR(e,t){return t==="|"?t:e}function wR(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:c,tableRow:o}};function a(f,p,m,b){return u(d(f,m,b),f.align)}function o(f,p,m,b){const y=h(f,m,b),_=u([y]);return _.slice(0,_.indexOf(`
`))}function c(f,p,m,b){const y=m.enter("tableCell"),_=m.enter("phrasing"),v=m.containerPhrasing(f,{...b,before:s,after:s});return _(),y(),v}function u(f,p){return MO(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(f,p,m){const b=f.children;let y=-1;const _=[],v=p.enter("table");for(;++y<b.length;)_[y]=h(b[y],p,m);return v(),_}function h(f,p,m){const b=f.children;let y=-1;const _=[],v=p.enter("tableRow");for(;++y<b.length;)_[y]=c(b[y],f,p,m);return v(),_}function g(f,p,m){let b=Ap.inlineCode(f,p,m);return m.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function vR(){return{exit:{taskListCheckValueChecked:fd,taskListCheckValueUnchecked:fd,paragraph:kR}}}function _R(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ER}}}function fd(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function kR(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ER(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let c=Ap.listItem(e,t,n,{...r,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+a}}function SR(){return[rO(),EO(),CO(),fR(),vR()]}function NR(e){return{extensions:[iO(),SO(e),AO(),wR(e),_R()]}}const TR={tokenize:IR,partial:!0},Op={tokenize:MR,partial:!0},Rp={tokenize:LR,partial:!0},jp={tokenize:PR,partial:!0},CR={tokenize:DR,partial:!0},Ip={name:"wwwAutolink",tokenize:RR,previous:Lp},Mp={name:"protocolAutolink",tokenize:jR,previous:Pp},an={name:"emailAutolink",tokenize:OR,previous:Dp},Kt={};function AR(){return{text:Kt}}let Sn=48;for(;Sn<123;)Kt[Sn]=an,Sn++,Sn===58?Sn=65:Sn===91&&(Sn=97);Kt[43]=an;Kt[45]=an;Kt[46]=an;Kt[95]=an;Kt[72]=[an,Mp];Kt[104]=[an,Mp];Kt[87]=[an,Ip];Kt[119]=[an,Ip];function OR(e,t,n){const r=this;let i,s;return a;function a(h){return!Lo(h)||!Dp.call(r,r.previous)||Rl(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return Lo(h)?(e.consume(h),o):h===64?(e.consume(h),c):n(h)}function c(h){return h===46?e.check(CR,d,u)(h):h===45||h===95||rt(h)?(s=!0,e.consume(h),c):d(h)}function u(h){return e.consume(h),i=!0,c}function d(h){return s&&i&&ut(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function RR(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!Lp.call(r,r.previous)||Rl(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(TR,e.attempt(Op,e.attempt(Rp,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function jR(e,t,n){const r=this;let i="",s=!1;return a;function a(h){return(h===72||h===104)&&Pp.call(r,r.previous)&&!Rl(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):n(h)}function o(h){if(ut(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(h),c}return n(h)}function c(h){return h===47?(e.consume(h),s?u:(s=!0,c)):n(h)}function u(h){return h===null||Cs(h)||ke(h)||zn(h)||Ys(h)?n(h):e.attempt(Op,e.attempt(Rp,d),n)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function IR(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function MR(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(jp,c,o)(u):u===null||ke(u)||zn(u)||u!==45&&Ys(u)?c(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function c(u){return i||r||!s?n(u):t(u)}}function LR(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(jp,t,s)(a):a===null||ke(a)||zn(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function PR(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||ke(o)||zn(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||ke(o)||zn(o)?t(o):r(o)}function s(o){return ut(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):ut(o)?(e.consume(o),a):n(o)}}function DR(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return rt(s)?n(s):t(s)}}function Lp(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ke(e)}function Pp(e){return!ut(e)}function Dp(e){return!(e===47||Lo(e))}function Lo(e){return e===43||e===45||e===46||e===95||rt(e)}function Rl(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const $R={tokenize:WR,partial:!0};function zR(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:HR,continuation:{tokenize:GR},exit:qR}},text:{91:{name:"gfmFootnoteCall",tokenize:FR},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:BR,resolveTo:UR}}}}function BR(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){a=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!a||!a._balanced)return n(c);const u=Mt(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function UR(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function FR(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),c}function c(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!a||h===null||h===91||ke(h))return n(h);if(h===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(Mt(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return ke(h)||(a=!0),s++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,u):u(h)}}function HR(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return c;function c(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(a>999||p===93&&!o||p===null||p===91||ke(p))return n(p);if(p===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return s=Mt(r.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return ke(p)||(o=!0),a++,e.consume(p),p===92?h:d}function h(p){return p===91||p===92||p===93?(e.consume(p),a++,d):d(p)}function g(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(s)||i.push(s),we(e,f,"gfmFootnoteDefinitionWhitespace")):n(p)}function f(p){return t(p)}}function GR(e,t,n){return e.check(mi,t,e.attempt($R,t,n))}function qR(e){e.exit("gfmFootnoteDefinition")}function WR(e,t,n){const r=this;return we(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function KR(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let c=-1;for(;++c<a.length;)if(a[c][0]==="enter"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._close){let u=c;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[c][1].end.offset-a[c][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[c][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[c][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[c][1].start)},g=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",h,o]],f=o.parser.constructs.insideSpan.null;f&&kt(g,g.length,0,Js(f,a.slice(u+1,c),o)),kt(g,g.length,0,[["exit",h,o],["enter",a[c][1],o],["exit",a[c][1],o],["exit",d,o]]),kt(a,u-1,c-u+3,g),c=u+g.length-2;break}}for(c=-1;++c<a.length;)a[c][1].type==="strikethroughSequenceTemporary"&&(a[c][1].type="data");return a}function s(a,o,c){const u=this.previous,d=this.events;let h=0;return g;function g(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(p):(a.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const m=yr(u);if(p===126)return h>1?c(p):(a.consume(p),h++,f);if(h<2&&!n)return c(p);const b=a.exit("strikethroughSequenceTemporary"),y=yr(p);return b._open=!y||y===2&&!!m,b._close=!m||m===2&&!!y,o(p)}}}class VR{constructor(){this.map=[]}add(t,n,r){YR(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function YR(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function JR(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function XR(){return{flow:{null:{name:"table",tokenize:ZR,resolveAll:QR}}}}function ZR(e,t,n){const r=this;let i=0,s=0,a;return o;function o(O){let G=r.events.length-1;for(;G>-1;){const Q=r.events[G][1].type;if(Q==="lineEnding"||Q==="linePrefix")G--;else break}const M=G>-1?r.events[G][1].type:null,ee=M==="tableHead"||M==="tableRow"?k:c;return ee===k&&r.parser.lazy[r.now().line]?n(O):ee(O)}function c(O){return e.enter("tableHead"),e.enter("tableRow"),u(O)}function u(O){return O===124||(a=!0,s+=1),d(O)}function d(O){return O===null?n(O):oe(O)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),f):n(O):ye(O)?we(e,d,"whitespace")(O):(s+=1,a&&(a=!1,i+=1),O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),h(O)))}function h(O){return O===null||O===124||ke(O)?(e.exit("data"),d(O)):(e.consume(O),O===92?g:h)}function g(O){return O===92||O===124?(e.consume(O),h):h(O)}function f(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(O):(e.enter("tableDelimiterRow"),a=!1,ye(O)?we(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):p(O))}function p(O){return O===45||O===58?b(O):O===124?(a=!0,e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),m):I(O)}function m(O){return ye(O)?we(e,b,"whitespace")(O):b(O)}function b(O){return O===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),y):O===45?(s+=1,y(O)):O===null||oe(O)?S(O):I(O)}function y(O){return O===45?(e.enter("tableDelimiterFiller"),_(O)):I(O)}function _(O){return O===45?(e.consume(O),_):O===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(O),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(O))}function v(O){return ye(O)?we(e,S,"whitespace")(O):S(O)}function S(O){return O===124?p(O):O===null||oe(O)?!a||i!==s?I(O):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(O)):I(O)}function I(O){return n(O)}function k(O){return e.enter("tableRow"),D(O)}function D(O){return O===124?(e.enter("tableCellDivider"),e.consume(O),e.exit("tableCellDivider"),D):O===null||oe(O)?(e.exit("tableRow"),t(O)):ye(O)?we(e,D,"whitespace")(O):(e.enter("data"),z(O))}function z(O){return O===null||O===124||ke(O)?(e.exit("data"),D(O)):(e.consume(O),O===92?W:z)}function W(O){return O===92||O===124?(e.consume(O),z):z(O)}}function QR(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,c=0,u,d,h;const g=new VR;for(;++n<e.length;){const f=e[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(o=!1,c!==0&&(pd(g,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},g.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},g.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],h=Ki(g,t,s,i,void 0,h),s=[0,0,0,0]),a[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],h=Ki(g,t,s,i,void 0,h)),s=a,a=[s[1],n,0,0])):p.type==="tableHead"?(o=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,s[1]!==0?(a[0]=a[1],h=Ki(g,t,s,i,n,h)):a[1]!==0&&(h=Ki(g,t,a,i,n,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(a[3]=n)}for(c!==0&&pd(g,t,c,u,d),g.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=JR(t.events,n))}return e}function Ki(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},ar(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const c=ar(t.events,n[1]);if(s={type:a,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=ar(t.events,n[2]),d=ar(t.events,n[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",h,t]]),r!==2){const g=t.events[n[2]],f=t.events[n[3]];if(g[1].end=Object.assign({},f[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;e.add(p,m,[])}}e.add(n[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},ar(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function pd(e,t,n,r,i){const s=[],a=ar(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function ar(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const ej={name:"tasklistCheck",tokenize:nj};function tj(){return{text:{91:ej}}}function nj(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),s)}function s(c){return ke(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),a):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),a):n(c)}function a(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return oe(c)?t(c):ye(c)?e.check({tokenize:rj},t,n)(c):n(c)}}function rj(e,t,n){return we(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function ij(e){return Kf([AR(),zR(),KR(e),XR(),tj()])}const sj={};function aj(e){const t=this,n=e||sj,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(ij(n)),s.push(SR()),a.push(NR(n))}const oj=()=>l.jsx(_g,{children:l.jsx(lj,{})}),lj=()=>{var S;const{postId:e}=Id(),[t,n]=$.useState(null),[r,i]=$.useState(!0),{fontSize:s,lineHeight:a}=Gs(),[o,c]=$.useState(!1),[u,d]=$.useState(!1);$.useEffect(()=>{e&&h(e)},[e]);const h=async I=>{try{if(K){const{data:k,error:D}=await K.from("community_posts").select("*").eq("id",I).single();if(D)throw D;n(k)}}catch(k){console.error("Error fetching post:",k)}finally{i(!1)}},g=async()=>{await Xr(window.location.href)&&(d(!0),setTimeout(()=>d(!1),2e3))};if(r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full"})});if(!t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl",children:"Post not found"});const f=t.content.trim().startsWith("<"),p=window.location.href,m=t.title,b=[{icon:vd,label:"Twitter",href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(m)}&url=${encodeURIComponent(p)}`,color:"text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:_d,label:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(p)}`,color:"text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20"},{icon:zo,label:"LinkedIn",href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(p)}`,color:"text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20"}],_={sm:"prose-sm",base:"prose-base",lg:"prose-lg",xl:"prose-xl"}[s],v={normal:"[&_*]:!leading-normal",relaxed:"[&_*]:!leading-relaxed",loose:"[&_*]:!leading-loose"}[a];return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 pt-24 pb-20 transition-colors duration-300",children:[l.jsx(wg,{}),l.jsx(kg,{}),l.jsxs("div",{className:"container mx-auto px-4 max-w-3xl",children:[l.jsxs(Ce,{to:"/community",className:"inline-flex items-center text-gray-500 hover:text-indigo-600 mb-8 transition-colors",children:[l.jsx(Bo,{size:16,className:"mr-2"})," Back to Community"]}),l.jsxs("article",{children:[l.jsxs(ue.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 text-center",children:[l.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:l.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-sm font-bold uppercase tracking-wide",children:t.category})}),l.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-8 leading-tight",children:t.title}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-900/50 px-5 py-3 rounded-2xl border border-gray-100 dark:border-gray-800",children:[t.author_avatar?l.jsx("img",{src:t.author_avatar,alt:t.author_name,className:"w-10 h-10 rounded-full object-cover ring-2 ring-white dark:ring-gray-800"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-400 ring-2 ring-white dark:ring-gray-800",children:l.jsx(us,{size:18})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white leading-tight mb-0.5",children:t.author_name}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[l.jsx("span",{children:new Date(t.created_at).toLocaleDateString()}),t.author_email&&l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-gray-700"}),l.jsxs("a",{href:`mailto:${t.author_email}`,className:"flex items-center gap-1 hover:text-indigo-600 transition-colors",children:[l.jsx(Ls,{size:10}),t.author_email]})]})]})]})]})})]}),l.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"max-w-none",children:f?l.jsx("div",{className:Ze("prose dark:prose-invert max-w-none transition-all duration-300 text-gray-900 dark:text-gray-100",_,v,a==="loose"&&"[&_p]:mb-8",a==="relaxed"&&"[&_p]:mb-6","[&_*]:dark:text-gray-100 [&_strong]:dark:text-white [&_h1]:dark:text-white [&_h2]:dark:text-white [&_h3]:dark:text-white [&_h4]:dark:text-white [&_code]:dark:text-gray-200"),children:l.jsx("div",{dangerouslySetInnerHTML:{__html:Rg.sanitize(t.content)}})}):l.jsx(K1,{remarkPlugins:[aj],components:{code({node:I,inline:k,className:D,children:z,...W}){const O=/language-(\w+)/.exec(D||"");return!k&&O?l.jsx(xg,{code:String(z).replace(/\n$/,""),language:O[1]}):l.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm font-mono text-indigo-600 dark:text-indigo-400",...W,children:z})},h1:({node:I,...k})=>l.jsx("h1",{className:"text-3xl font-bold mt-12 mb-6 text-gray-900 dark:text-white",...k}),h2:({node:I,...k})=>l.jsxs("h2",{className:"text-2xl font-bold mt-12 mb-6 border-b border-gray-100 dark:border-gray-800 pb-2 flex items-center gap-3 text-gray-900 dark:text-white",...k,children:[l.jsx("span",{className:"w-1.5 h-6 bg-indigo-500 rounded-full"}),k.children]}),blockquote:({node:I,...k})=>l.jsx("div",{className:"border-l-4 border-indigo-500 pl-4 py-2 my-6 bg-gray-50 dark:bg-gray-900/50 italic text-gray-600 dark:text-gray-300 rounded-r-lg",...k}),p:({node:I,...k})=>l.jsx(Eg,{...k}),img:({node:I,...k})=>l.jsx(Sg,{src:k.src||"",alt:k.alt||"",caption:k.title}),hr:({node:I,...k})=>l.jsx(Ng,{})},children:t.content})}),l.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-10",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:(S=t.tags)==null?void 0:S.map(I=>l.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 text-sm font-medium",children:["#",I]},I))}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-50 dark:bg-gray-900 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all",children:[l.jsx(Gm,{size:18})," ",l.jsx("span",{className:"text-sm font-bold",children:"Like"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gray-50 dark:bg-gray-900 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all",children:[l.jsx(qm,{size:18})," ",l.jsx("span",{className:"text-sm font-bold",children:"Share"})]}),l.jsx(bn,{children:o&&l.jsxs(ue.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 bottom-full mb-2 p-2 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-800 flex gap-1 min-w-[180px]",children:[b.map(I=>l.jsx("a",{href:I.href,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-lg transition-colors ${I.color}`,title:`Share on ${I.label}`,children:l.jsx(I.icon,{size:18})},I.label)),l.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-gray-800 mx-1"}),l.jsx("button",{onClick:g,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white transition-colors",title:"Copy Link",children:u?l.jsx(Ms,{size:18,className:"text-green-500"}):l.jsx(Dn,{size:18})})]})})]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-2xl p-8 border border-gray-100 dark:border-gray-800",children:[l.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2 text-lg",children:[l.jsx(yn,{size:20})," Discussion"]}),l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{className:"mb-4",children:"No comments yet. Be the first to start the conversation!"}),l.jsx("button",{className:"px-6 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white rounded-xl font-bold text-sm hover:shadow-md transition-all",children:"Sign in to Comment"})]})]})]})]})]})]})},cj=()=>{const{subjects:e,loading:t}=Hs();return l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsx(ko,{}),l.jsxs("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-20",children:[l.jsxs("div",{className:"max-w-6xl mx-auto mb-12",children:[l.jsxs(Ce,{to:"/",className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-indigo-600 mb-8 transition-colors group",children:[l.jsx(Bo,{size:16,className:"mr-2 group-hover:-translate-x-1 transition-transform"})," Back to Home"]}),l.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[l.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[l.jsxs("div",{className:"inline-flex items-center gap-2 text-indigo-600 dark:text-indigo-400 font-bold mb-2 uppercase tracking-wider text-xs",children:[l.jsx(oi,{size:14})," Full Curriculum"]}),l.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"All Courses"})]}),l.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 max-w-md",children:"Explore our complete catalog of engineering topics and learning paths."})]})]}),t?l.jsx("div",{className:"flex justify-center py-20",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:e.map((n,r)=>l.jsx(ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:r*.05},children:l.jsx(Ce,{to:`/learn/${n.id}`,className:"group block h-full relative",children:l.jsxs("div",{className:"h-full bg-white/60 dark:bg-gray-900/60 backdrop-blur-sm rounded-2xl p-5 border border-gray-200 dark:border-gray-800 hover:border-indigo-500/30 hover:shadow-xl hover:-translate-y-1 transition-all duration-300 flex flex-col relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),l.jsxs("div",{className:"relative z-10 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx(yg,{icon:n.icon,color:n.color}),l.jsx("span",{className:"px-2 py-0.5 rounded-md bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 text-[10px] font-bold uppercase tracking-wide text-gray-500",children:n.level})]}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:n.title}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 leading-relaxed line-clamp-2",children:n.description})]}),l.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-800",children:[l.jsxs("div",{className:"text-xs font-medium text-gray-500",children:[n.modules.length," Modules"]}),l.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-indigo-600 dark:text-indigo-400 group-hover:gap-2 transition-all",children:["Start Path ",l.jsx(gr,{size:14})]})]})]})})},n.id))})]})]})};function uj(){return l.jsxs(Vm,{children:[l.jsx(Xx,{}),l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 font-sans text-gray-900 dark:text-gray-100 selection:bg-indigo-100 dark:selection:bg-indigo-900/30 flex flex-col",children:[l.jsx(Yx,{}),l.jsx("main",{className:"flex-grow",children:l.jsxs(Ym,{children:[l.jsx(Xt,{path:"/",element:l.jsx(aw,{})}),l.jsx(Xt,{path:"/collaborate",element:l.jsx(cw,{})}),l.jsx(Xt,{path:"/courses",element:l.jsx(cj,{})}),l.jsx(Xt,{path:"/learn/:subjectId",element:l.jsx(Dc,{})}),l.jsx(Xt,{path:"/learn/:subjectId/:topicId",element:l.jsx(Dc,{})}),l.jsx(Xt,{path:"/admin",element:l.jsx(gN,{})}),l.jsx(Xt,{path:"/contribute",element:l.jsx(fN,{})}),l.jsx(Xt,{path:"/community",element:l.jsx(pN,{})}),l.jsx(Xt,{path:"/community/:postId",element:l.jsx(oj,{})})]})}),l.jsx(Jx,{})]})]})}Md(document.getElementById("root")).render(l.jsx($.StrictMode,{children:l.jsx(Ud,{children:l.jsx(uj,{})})}));
